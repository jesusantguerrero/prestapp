import{f as V}from"./formatMoney-b7ef7683.js";import{p as x}from"./index-b3bf428d.js";import A from"./InvoiceTotals-73689273.js";import T from"./InvoiceGrid-9a1c4d7f.js";import{_ as C}from"./_plugin-vue_export-helper-c27b6911.js";import{g as F,f as E}from"./index-c251e33c.js";import{r as h,t as y}from"./index-81f33ca2.js";import{z as j,d as I,l as P,B,f as u,a as t,n as U,g as p,t as n,u as e,h as b,b as w,o as _,V as $,W as q}from"./app-9b138141.js";import"./index-901d5032.js";import"./exact-math.node-df6f4533.js";import"./atmosphere-ui-18006871.js";import"./IconTrash-479daa4e.js";function S(a){h(1,arguments);var o=y(a);return o.setHours(0,0,0,0),o}var z=864e5;function G(a,o){h(2,arguments);var i=S(a),c=S(o),m=i.getTime()-F(i),f=c.getTime()-F(c);return Math.round((m-f)/z)}function M(a,o){var i=a.getFullYear()-o.getFullYear()||a.getMonth()-o.getMonth()||a.getDate()-o.getDate()||a.getHours()-o.getHours()||a.getMinutes()-o.getMinutes()||a.getSeconds()-o.getSeconds()||a.getMilliseconds()-o.getMilliseconds();return i<0?-1:i>0?1:i}function H(a,o){h(2,arguments);var i=y(a),c=y(o),m=M(i,c),f=Math.abs(G(i,c));i.setDate(i.getDate()-m*f);var l=Number(M(i,c)===-m),r=m*(f-l);return r===0?0:r}const d=a=>($("data-v-3c043e94"),a=a(),q(),a),Y={class:"w-full py-2 rounded-md section"},J={class:"section-body"},L={class:"pt-8 invoice__header"},W={key:0,class:"bg-gray-500 rounded-md avatar-uploader w-28 h-28"},K=["src"],Q={class:"flex justify-between w-full space-y-4 text-right invoice-details"},X={class:"w-full px-5 text-2xl font-bold text-left"},Z={class:"w-full"},R={class:"text-md"},tt=d(()=>t("span",{class:"font-bold"},"Concept:",-1)),et=d(()=>t("span",{class:"font-bold"},"Invoice Date",-1)),st=d(()=>t("span",{class:"font-bold"},"Due Date",-1)),at={class:"flex px-4 mt-4 space-x-4"},ot={class:"w-8/12 text-left"},it={class:""},nt=d(()=>t("p",{class:"font-bold"},"Billing To:",-1)),lt={key:0},rt={key:0},dt={key:1},ct={class:"w-8/12 text-left"},ut={class:""},_t=d(()=>t("p",{class:"font-bold"},"From:",-1)),mt={key:0},ft={class:"mt-5"},pt=d(()=>t("p",{class:"font-bold"},"Total due:",-1)),vt={class:"flex justify-end px-4 mt-10 text-gray-600"},yt={key:0,class:"flex text-left invoice-footer-details mt-14"},bt={class:"w-full text-gray-600"},ht=d(()=>t("p",{class:"font-bold text-gray-600"},"Thanks For your business!",-1)),gt=d(()=>t("div",{class:"mt-5 font-bold text-gray-600"},"Terms and conditions",-1)),Dt={key:0,class:"w-full text-right"},xt=d(()=>t("div",{class:"font-serif invoice__firm"},"Jesus Guerrero",-1)),Ft=d(()=>t("div",{class:"font-bold"},"Jesus Antonio Guerrero Alvarez",-1)),It=d(()=>t("div",null,"Software Engineer",-1)),wt=[xt,Ft,It],St={__name:"Simple",props:{type:{type:String,default:"INVOICE"},user:Object,businessData:Object,products:Array,clients:Array,invoiceData:[Object,null]},setup(a){const o=a,i=j({totalValues:{},totals:{subtotalField:"subtotal",totalField:"amount",discountField:"discountTotal",subtotalFormula(s){return s.quantity*s.price},totalFormula(s){return s.quantity*s.price},discountFormula(s){return s.quantity*s.price}},invoice:{},selectedPayment:null,isPaymentDialogVisible:!1,modals:{email:{value:!1}},tableData:[],client:null,imageUrl:"",dueDays:I(()=>H(i.invoice.due_date,i.invoice.date)),businessAddress:I(()=>`${o.businessData.business_street}, ${o.businessData.business_city}, ${o.businessData.business_state}, ${o.businessData.business_country}`)}),c=s=>E(s,"MMM dd, yyyy"),m=s=>{s&&(s.date=y(x(s.date)||new Date),s.due_date=y(x(s.due_date)||new Date),i.invoice=s,i.client=s.client,i.tableData=s.lines.sort((D,k)=>D.index>k.index?1:-1)||[])};P(()=>o.invoiceData,()=>{m(o.invoiceData)},{immediate:!0});const{tableData:f,client:l,invoice:r,totals:v,totalValues:N,dueDays:O,businessAddress:g}=B(i);return(s,D)=>(_(),u("section",Y,[t("div",J,[t("div",L,[t("div",{class:U(["flex w-full invoice-header-details",[s.imageUrl?"justify-between":""]])},[s.imageUrl?(_(),u("div",W,[t("img",{src:s.imageUrl,class:"avatar"},null,8,K)])):p("",!0),t("div",Q,[t("h4",X," INVOICE "+n(e(r).series)+"-"+n(e(r).number),1),t("div",Z,[t("h5",R,[tt,b(" "+n(e(r).concept),1)]),t("div",null,[t("p",null,[et,b(" "+n(c(e(r).date)),1)]),t("p",null,[st,b(" "+n(c(e(r).due_date)),1)])])])])],2),t("div",at,[t("div",ot,[t("div",it,[nt,t("div",null,[b(n(e(l).fullName)+" ",1),e(l).phone?(_(),u("span",lt,"- "+n(e(l).phone||"000-000-0000"),1)):p("",!0)]),e(l).address||e(l).address_details?(_(),u("div",rt,n(e(l).address||e(l).address_details),1)):p("",!0),e(l).email?(_(),u("div",dt,n(e(l).email),1)):p("",!0)])]),t("div",ct,[t("div",ut,[_t,t("div",null,n(a.businessData.business_name),1),e(g)?(_(),u("div",mt,n(e(g)),1)):p("",!0)]),t("div",ft,[pt,t("div",null,n(e(V)(e(r).debt,"USD")),1)])])])]),w(T,{tableData:e(f),products:a.products,"is-editing":!1,class:"px-4 mt-10"},null,8,["tableData","products"]),t("div",vt,[w(A,{tableData:e(f),"subtotal-field":e(v).subtotalField,"discount-field":e(v).discountField,payments:e(r).payments,"total-values":e(N),"total-field":e(v).totalField,subtotalFormula:e(v).subtotalFormula,discountFormula:e(v).discountFormula,totalFormula:e(v).totalFormula,onEditPayment:s.editPayment},null,8,["tableData","subtotal-field","discount-field","payments","total-values","total-field","subtotalFormula","discountFormula","totalFormula","onEditPayment"])]),e(r).id?(_(),u("div",yt,[t("div",bt,[ht,gt,t("div",null,"Payment is due within "+n(e(O))+" days",1)]),s.showSign?(_(),u("div",Dt,wt)):p("",!0)])):p("",!0)])]))}},Ut=C(St,[["__scopeId","data-v-3c043e94"]]);export{Ut as default};
