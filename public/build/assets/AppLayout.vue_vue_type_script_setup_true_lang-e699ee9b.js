import{o as l,f,a as n,k as R,J as Y,r as B,d as k,l as L,u as e,n as C,g as x,t as V,m as ee,p as le,q as re,s as S,i as D,e as q,x as G,b as i,w as m,T as ie,c as y,y as T,F as j,j as U,z as te,P as de,A as ce,B as ue,C as I,h as A,D as W,E as P,G as me,H as se,I as pe,K as fe,L as he,X as _e,M as ve}from"./app-9b138141.js";import{R as O,V as F,N as Z,O as be}from"./atmosphere-ui-18006871.js";import{u as ge,a as xe,t as ye,A as we}from"./AppLayout.vue_vue_type_style_index_0_lang-0c70bcc1.js";import{_ as ne}from"./_plugin-vue_export-helper-c27b6911.js";import{_ as J}from"./AppButton.vue_vue_type_script_setup_true_lang-70b35c26.js";import{_ as $e}from"./PaymentFormModal.vue_vue_type_script_setup_true_lang-d178a55a.js";import{_ as ke}from"./Modal.vue_vue_type_script_setup_true_lang-6e9de0f6.js";import{_ as K}from"./AccountSelect.vue_vue_type_script_setup_true_lang-79716ae8.js";import{f as Ce}from"./index-c251e33c.js";import{u as Me,m as X}from"./usePaymentModal-81539917.js";import{_ as Se}from"./ClientFormModal.vue_vue_type_script_setup_true_lang-e40a6e31.js";import{f as Te}from"./formatMoney-b7ef7683.js";import{_ as Ve}from"./AppSearch.vue_vue_type_script_setup_true_lang-da5abf29.js";const Ae={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Be=n("path",{fill:"currentColor",d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2Z"},null,-1),Oe=[Be];function Le(a,t){return l(),f("svg",Ae,Oe)}const De={name:"mdi-plus",render:Le},Re={},je={viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ie=n("path",{d:"M11.395 44.428C4.557 40.198 0 32.632 0 24 0 10.745 10.745 0 24 0a23.891 23.891 0 0113.997 4.502c-.2 17.907-11.097 33.245-26.602 39.926z",fill:"#6875F5"},null,-1),Ee=n("path",{d:"M14.134 45.885A23.914 23.914 0 0024 48c13.255 0 24-10.745 24-24 0-3.516-.756-6.856-2.115-9.866-4.659 15.143-16.608 27.092-31.75 31.751z",fill:"#6875F5"},null,-1),We=[Ie,Ee];function Pe(a,t){return l(),f("svg",je,We)}const Ue=ne(Re,[["render",Pe]]),Ne={class:"max-w-screen-xl mx-auto py-2 px-3 sm:px-6 lg:px-8"},Fe={class:"flex items-center justify-between flex-wrap"},He={class:"w-0 flex-1 flex items-center min-w-0"},ze={key:0,class:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},qe=n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),Ge=[qe],Ze={key:1,class:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Je=n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},null,-1),Ke=[Je],Xe={class:"ml-3 font-medium text-sm text-white truncate"},Qe={class:"shrink-0 sm:ml-3"},Ye=n("svg",{class:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),et=[Ye],tt=R({__name:"Banner",setup(a){const t=Y().props,s=B(!0),o=k(()=>{var p,h;return((h=(p=t==null?void 0:t.jetstream)==null?void 0:p.flash)==null?void 0:h.bannerStyle)||"success"}),d=k(()=>{var p,h;return((h=(p=t==null?void 0:t.jetstream)==null?void 0:p.flash)==null?void 0:h.banner)||""});return L(d,async()=>{s.value=!0}),(p,h)=>(l(),f("div",null,[s.value&&e(d)?(l(),f("div",{key:0,class:C({"bg-indigo-500":e(o)=="success","bg-red-700":e(o)=="danger"})},[n("div",Ne,[n("div",Fe,[n("div",He,[n("span",{class:C(["flex p-2 rounded-lg",{"bg-indigo-600":e(o)=="success","bg-red-600":e(o)=="danger"}])},[e(o)=="success"?(l(),f("svg",ze,Ge)):x("",!0),e(o)=="danger"?(l(),f("svg",Ze,Ke)):x("",!0)],2),n("p",Xe,V(e(d)),1)]),n("div",Qe,[n("button",{type:"button",class:C(["-mr-1 flex p-2 rounded-md focus:outline-none sm:-mr-2 transition",{"hover:bg-indigo-600 focus:bg-indigo-600":e(o)=="success","hover:bg-red-600 focus:bg-red-600":e(o)=="danger"}]),"aria-label":"Dismiss",onClick:h[0]||(h[0]=ee(r=>s.value=!1,["prevent"]))},et,2)])])])],2)):x("",!0)]))}}),st={class:"relative"},oe={__name:"Dropdown",props:{align:{type:String,default:"right"},width:{type:String,default:"48"},contentClasses:{type:Array,default:()=>["py-1","bg-white"]}},setup(a){const t=a;let s=B(!1);const o=h=>{s.value&&h.key==="Escape"&&(s.value=!1)};le(()=>document.addEventListener("keydown",o)),re(()=>document.removeEventListener("keydown",o));const d=k(()=>({48:"w-48"})[t.width.toString()]),p=k(()=>t.align==="left"?"origin-top-left left-0":t.align==="right"?"origin-top-right right-0":"origin-top");return(h,r)=>(l(),f("div",st,[n("div",{onClick:r[0]||(r[0]=M=>D(s)?s.value=!e(s):s=!e(s))},[S(h.$slots,"trigger")]),q(n("div",{class:"fixed inset-0 z-40",onClick:r[1]||(r[1]=M=>D(s)?s.value=!1:s=!1)},null,512),[[G,e(s)]]),i(ie,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:m(()=>[q(n("div",{class:C(["absolute z-50 mt-2 rounded-md shadow-lg",[e(d),e(p)]]),style:{display:"none"},onClick:r[2]||(r[2]=M=>D(s)?s.value=!1:s=!1)},[n("div",{class:C(["rounded-md ring-1 ring-black ring-opacity-5",a.contentClasses])},[S(h.$slots,"content")],2)],2),[[G,e(s)]])]),_:3})]))}},nt={key:0,type:"submit",class:"block w-full px-4 py-2 text-sm leading-5 text-gray-700 text-left hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition"},ot=["href"],H={__name:"DropdownLink",props:{href:String,as:String},setup(a){return(t,s)=>(l(),f("div",null,[a.as=="button"?(l(),f("button",nt,[S(t.$slots,"default")])):a.as=="a"?(l(),f("a",{key:1,href:a.href,class:"block px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition"},[S(t.$slots,"default")],8,ot)):(l(),y(e(T),{key:2,href:a.href,class:"block px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition"},{default:m(()=>[S(t.$slots,"default")]),_:3},8,["href"]))]))}},at={class:"grid grid-cols-3 overflow-hidden text-lg rounded-lg"},lt=["onClick"],rt=R({__name:"TransactionTypesPicker",props:{modelValue:{type:String}},emits:["update:modelValue"],setup(a){const t=[{value:"DEPOSIT",label:"Ingreso"},{value:"WITHDRAW",label:"Gasto"},{value:"TRANSFER",label:"Transferencia"}];return(s,o)=>(l(),f("div",at,[(l(),f(j,null,U(t,d=>n("div",{key:d.value,options:t,onClick:p=>s.$emit("update:modelValue",d.value),class:C(["py-1 font-bold text-center cursor-pointer",[a.modelValue==d.value?"bg-primary hover:bg-primary text-white":"hover:bg-base-lvl-3 text-body bg-base-lvl-2"]])},V(d.label),11,lt)),64))]))}}),it={WITHDRAW:"WITHDRAW",DEPOSIT:"DEPOSIT",TRANSFER:"TRANSFER"},dt={class:"pb-4 bg-base-lvl-3 sm:p-6 sm:pb-4 text-body flex-1"},ct={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},ut={class:"mt-2"},mt={key:0,class:"flex justify-between py-3 px-4"},pt=n("span",{class:"flex items-center pl-2"}," RD$ ",-1),ft={class:"md:flex md:space-x-2 md:px-0 px-4"},ht={class:"md:flex md:space-x-3 md:px-0 px-4"},_t=n("span",{class:"flex items-center pl-2"}," RD$ ",-1),vt={class:"px-6 py-4 space-x-3 items-center justify-end flex w-full bg-base-lvl-2"},bt=R({__name:"TransactionModal",props:{show:{default:!1},maxWidth:{default:"2xl"},closeable:{default:!0},categories:{type:Array,default:[]},accounts:{type:Array,default:[]},recurrence:{type:Boolean,default:!1},transactionData:{type:Object,default:()=>({})},mode:{type:String,default:"income"},fullHeight:{type:Boolean}},emits:["close","saved"],setup(a,{emit:t}){const s=a,o=te({frequencyLabel:"every",form:de({name:"",payee_id:"",account:null,payee_label:"",date:null,description:"",direction:"WITHDRAW",category_id:null,counterAccount:null,counter_account_id:null,account_id:null,display_id:"",total:0,is_transfer:!1})});L(()=>o.form.direction,g=>{(g==null?void 0:g.toLowerCase())=="transfer"?o.form.is_transfer=!0:o.form.is_transfer=!1});const d=k(()=>o.form.is_transfer),p=k(()=>d.value?"Cuenta origen":"Cuenta"),h=k(()=>d.value?"Cuenta destino":"Categoria"),r=k(()=>d.value?"counter_account_id":"category_id"),M=ce("categoryOptions",[]),c=()=>{const g={transaction:{save:{method:"post",url:()=>route("transactions.store")},update:{method:"put",url:()=>route("transactions.update",s.transactionData)}},recurrence:{save:{method:"post",url:()=>route("transactions.store-planned")},update:{method:"update",url:()=>route("transactions.store-planned")}}},u=s.transactionData&&s.transactionData.id?"update":"save",N=_.value?"recurrence":"transaction",E=g[N][u];o.form.transform($=>{var b,z;return{...$,resource_type_id:"MANUAL",total:$.total,account_id:(b=$.account)==null?void 0:b.id,counter_account_id:(z=$.counterAccount)==null?void 0:z.id,date:Ce(new Date($.date),"yyyy-MM-dd"),status:"verified",direction:$.is_transfer?it.WITHDRAW:$.direction}}).submit(E.method,E.url(),{onBefore($){$.data.total||alert("The balance should be more than 0")},onSuccess:()=>{t("close"),o.form.reset()}})};L(()=>s.transactionData,()=>{const g={...s.transactionData};Object.keys(o.form.data()).forEach(u=>{u=="date"&&g[u]?o.form[u]=new Date(g[u]):o.form[u]=g[u]||o.form[u]})},{deep:!0}),L(()=>s.show,g=>{var u;o.form.direction=((u=s.mode)==null?void 0:u.toUpperCase())??"WITHDRAW"});const _=B(s.recurrence),{form:v}=ue(o),w=B(!1);return(g,u)=>{const N=I("CategoryPicker"),E=I("ElDatePicker");return l(),y(ke,{show:a.show,"max-width":a.maxWidth,"full-height":a.fullHeight,closeable:a.closeable,onClose:u[9]||(u[9]=$=>g.$emit("update:show",!1))},{default:m(({close:$})=>[n("div",dt,[n("div",ct,[i(rt,{modelValue:e(v).direction,"onUpdate:modelValue":u[0]||(u[0]=b=>e(v).direction=b)},null,8,["modelValue"]),n("div",ut,[S(g.$slots,"content",{},()=>[n("div",null,[a.fullHeight?(l(),f("header",mt,[i(N,{class:"w-full",modelValue:e(v)[e(r)],"onUpdate:modelValue":u[1]||(u[1]=b=>e(v)[e(r)]=b),isPickerOpen:w.value,"onUpdate:isPickerOpen":u[2]||(u[2]=b=>w.value=b),placeholder:`Choose ${e(h)}`,options:e(M)},null,8,["modelValue","isPickerOpen","placeholder","options"]),w.value?x("",!0):(l(),y(e(O),{key:0},{default:m(()=>[i(e(F),{"number-format":!0,modelValue:e(v).total,"onUpdate:modelValue":u[3]||(u[3]=b=>e(v).total=b)},{prefix:m(()=>[pt]),_:1},8,["modelValue"])]),_:1}))])):x("",!0),n("div",ft,[i(e(O),{label:"Fecha",class:"md:w-4/12 md:block flex w-full justify-between"},{default:m(()=>[i(E,{modelValue:e(v).date,"onUpdate:modelValue":u[4]||(u[4]=b=>e(v).date=b),type:"date",size:"large",class:"w-48 md:w-full"},null,8,["modelValue"])]),_:1}),i(e(O),{label:"Concepto",class:"md:w-8/12 flex w-full md:block md:space-x-0 justify-between"},{default:m(()=>[i(e(F),{modelValue:e(v).description,"onUpdate:modelValue":u[5]||(u[5]=b=>e(v).description=b),class:"w-48 md:w-full"},null,8,["modelValue"])]),_:1})]),i(e(O),{label:e(p),class:"md:w-full md:block md:space-x-0 flex w-full justify-between space-x-4"},{default:m(()=>[i(K,{endpoint:"/api/accounts",modelValue:e(v).account,"onUpdate:modelValue":u[6]||(u[6]=b=>e(v).account=b)},null,8,["modelValue"])]),_:1},8,["label"]),n("div",ht,[i(e(O),{label:e(h),class:"hidden md:block md:w-full"},{default:m(()=>[i(K,{endpoint:"/api/accounts",modelValue:e(v).counterAccount,"onUpdate:modelValue":u[7]||(u[7]=b=>e(v).counterAccount=b)},null,8,["modelValue"])]),_:1},8,["label"]),i(e(O),{label:"Monto",class:"hidden md:block md:w-5/12"},{default:m(()=>[i(e(F),{"number-format":!0,modelValue:e(v).total,"onUpdate:modelValue":u[8]||(u[8]=b=>e(v).total=b)},{prefix:m(()=>[_t]),_:1},8,["modelValue"])]),_:1})])])])])])]),n("footer",vt,[n("div",null,[i(e(Z),{onClick:$,rounded:"",class:"h-10 text-body"},{default:m(()=>[A(" Cancel ")]),_:2},1032,["onClick"]),i(e(Z),{class:"h-10 text-white bg-primary",disabled:!e(v).total||e(v).processing,onClick:c,rounded:""},{default:m(()=>[A(" Save ")]),_:1},8,["disabled"])])])]),_:3},8,["show","max-width","full-height","closeable"])}}}),gt=R({__name:"TheGlobals",setup(a){const{isOpen:t}=Me(),{isOpen:s,closeTransactionModal:o}=ge(),d=()=>{P.reload(),o()},{isOpen:p,closeModal:h,data:r}=xe("contact"),M=()=>{P.reload(),h()};return(c,_)=>{var v;return l(),f(j,null,[e(X)?(l(),y($e,W({key:0},(v=e(X))==null?void 0:v.data,{modelValue:e(t),"onUpdate:modelValue":_[0]||(_[0]=w=>D(t)?t.value=w:null),onSaved:_[1]||(_[1]=w=>e(P).reload())}),null,16,["modelValue"])):x("",!0),i(bt,W({show:e(s),"onUpdate:show":_[2]||(_[2]=w=>D(s)?s.value=w:null)},e(ye),{onSaved:d,onClose:d}),null,16,["show"]),i(Se,W({show:e(p),"onUpdate:show":_[3]||(_[3]=w=>D(p)?p.value=w:null)},e(r),{onSaved:M}),null,16,["show"])],64)}}}),xt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},yt=n("path",{fill:"currentColor",d:"M21 19v1H3v-1l2-2v-6c0-3.1 2.03-5.83 5-6.71V4a2 2 0 0 1 2-2a2 2 0 0 1 2 2v.29c2.97.88 5 3.61 5 6.71v6l2 2m-7 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2"},null,-1),wt=[yt];function $t(a,t){return l(),f("svg",xt,wt)}const kt={name:"mdi-bell",render:$t},Ct={__name:"AppButtonTab",props:{keepActiveState:{type:Boolean,default:!0},icon:{type:String},rounded:{type:Boolean,default:!1}},setup(a){const t=a,s=k(()=>{const o=t.keepActiveState&&"focus:bg-base-lvl-1",d=t.rounded?"rounded-full h-8 w-8":"";return[o,d]});return(o,d)=>(l(),f("button",W({type:"button",class:["inline-flex items-center px-2 py-2 text-sm font-medium leading-4 text-body transition border border-transparent rounded-md hover:bg-base-lvl-2 hover:text-body/80 focus:outline-none",e(s)]},o.$attrs),[S(o.$slots,"icon",{},()=>[a.icon?(l(),f("i",{key:0,class:C(["fa mr-2",a.icon])},null,2)):x("",!0)]),S(o.$slots,"default")],16))}},ae={__name:"AppButtonCircle",setup(a){return(t,s)=>(l(),y(Ct,{rounded:"",type:"button",class:"relative text-body-1/80 bg-base-lvl-1 hover:bg-primary/10 transition border-base-lvl-1 hover:border-primary rounded-full"},{default:m(()=>[S(t.$slots,"default")]),_:3}))}},Mt={key:0,class:"absolute bottom-0 right-0 w-4 h-4 text-xs text-white bg-error rounded-full shadow-md"},St={__name:"AppNotificationBell",props:{notifications:{type:Number,default(){return 0}}},setup(a){return(t,s)=>{const o=kt;return l(),y(ae,{type:"button"},{default:m(()=>[i(o,{class:"text-md"}),a.notifications>0?(l(),f("div",Mt,V(a.notifications),1)):x("",!0)]),_:1})}}},Tt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Vt=n("path",{fill:"currentColor",d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.62L12 2L9.19 8.62L2 9.24l5.45 4.73L5.82 21L12 17.27Z"},null,-1),At=[Vt];function Bt(a,t){return l(),f("svg",Tt,At)}const Ot={name:"mdi-star",render:Bt},Lt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Dt=n("path",{fill:"currentColor",d:"m12 15.39l-3.76 2.27l.99-4.28l-3.32-2.88l4.38-.37L12 6.09l1.71 4.04l4.38.37l-3.32 2.88l.99 4.28M22 9.24l-7.19-.61L12 2L9.19 8.63L2 9.24l5.45 4.73L5.82 21L12 17.27L18.18 21l-1.64-7.03L22 9.24Z"},null,-1),Rt=[Dt];function jt(a,t){return l(),f("svg",Lt,Rt)}const It={name:"mdi-star-outline",render:jt},Et={class:"w-64 py-1"},Wt=n("header",{class:"flex justify-between"},[n("h4",{class:"px-2 text-body-1/80"},"Watchlist"),n("button",{class:"px-2 text-primary"},"See all")],-1),Pt={class:"flex items-center"},Ut={class:"text-secondary"},Q={__name:"WatchlistButton",setup(a){const t=()=>se.get("/api/watchlist/").then(({data:d})=>d.data),s=B(),o=B();return me(o,async()=>{s.value=await t()}),(d,p)=>{const h=It,r=Ot,M=I("LogerButtonTab");return l(),y(oe,{align:"right",width:"64",open:o.value,"onUpdate:open":p[1]||(p[1]=c=>o.value=c)},{trigger:m(()=>[i(ae,{class:"hover:text-primary"},{default:m(()=>[i(h)]),_:1})]),content:m(()=>[n("div",Et,[Wt,(l(!0),f(j,null,U(s.value,c=>(l(),y(M,{class:"flex items-center justify-between w-full font-bold",onClick:p[0]||(p[0]=_=>d.openTransactionModal({mode:d.DEPOSIT}))},{default:m(()=>{var _;return[n("span",Pt,[i(r,{class:"mr-2 text-md text-secondary"}),A(" "+V(c.name),1)]),n("span",Ut,V(e(Te)((_=c==null?void 0:c.data)==null?void 0:_.month.total)),1)]}),_:2},1024))),256))])]),_:1},8,["open"])}}},Nt={class:"flex w-full"},Ft={class:"w-full py-2 mt-4"},Ht=R({__name:"AppResourceSearch",setup(a){const t=te({searchText:"",results:{},hasResults:k(()=>!!Object.keys(t.tabsWithResults).length),selectedTab:null,tabsWithResults:k(()=>Object.keys(t.results).filter(s=>t.results[s]))});return L(()=>t.searchText,s=>{se.get(`/search?search=${s}`).then(({data:o})=>{t.results=o,t.selectedTab=t.tabsWithResults[0]}),s||(t.results={})}),(s,o)=>{const d=I("ElPopover");return l(),y(d,{visible:t.hasResults,"show-arrow":!1,placement:"bottom-end",width:500},{reference:m(()=>[n("div",null,[i(Ve,{modelValue:t.searchText,"onUpdate:modelValue":o[0]||(o[0]=p=>t.searchText=p)},null,8,["modelValue"])])]),default:m(()=>[n("section",null,[n("section",Nt,[(l(!0),f(j,null,U(t.tabsWithResults,p=>(l(),f("div",{class:C(["px-5 cursor-pointer py-1 font-bold w-full capitalize text-center rounded-md bg-base-lvl-2",t.selectedTab==p?"bg-primary text-white":""])},V(p),3))),256))]),n("div",Ft,[(l(!0),f(j,null,U(t.results[t.selectedTab],p=>(l(),f("div",null,V(p.fullName),1))),256))])])]),_:1},8,["visible"])}}}),zt=ne(Ht,[["__scopeId","data-v-fccf54fa"]]),qt=()=>({appMenu:[{icon:"fa fa-home",name:"home",label:"Inicio",to:"/dashboard",as:T},{icon:"fas fa-dollar-sign",label:"Prestamos",name:"prestamos",to:"/loans",as:T,isActiveFunction(s,o){return/loans|lender/.test(o)}},{icon:"fas fa-building",label:"Propiedades",to:"/properties/overview",as:T,isActiveFunction(s,o){return/properties|units|tenant|owner/.test(o)}},{icon:"fas fa-dollar-sign",label:"Contabilidad",to:"/invoices?filter[type]=expense|invoice",as:T,isActiveFunction(s,o){return/invoices/.test(o)}},{icon:"fas fa-heart",label:"Reportes",to:"/statements",as:T,isActiveFunction(s,o){return/statements/.test(o)}}].filter(s=>!(s!=null&&s.hidden)),headerMenu:[{icon:"fas fa-question",label:"Ayuda y Soporte",to:"/settings/help",as:T},{icon:"fas fa-cogs",label:"Settings",name:"settings",to:"/settings",as:T}]});function Gt(){const a=(t,s="subcategories",o="categoryOptions",d)=>{if(!t||!t.map)return;const h=pe.cloneDeep(t).map(r=>(r&&(r.type=s&&r[s]?"group":null,r.key=r.id,r.value=r.id,r.label=r.name,r[s]&&(r.children=a(r[s],!1,!1,d))),d?d(r):r));return o&&fe(o,h),h};return{categoryOptions:a}}const Zt={class:"flex items-center justify-between h-16 pr-4 mx-auto sm:pr-6 lg:pr-8 text-body-1/80"},Jt={class:"flex items-center"},Kt={class:"flex justify-end h-16"},Xt={class:"hidden sm:flex sm:items-center sm:ml-6"},Qt={class:"relative ml-3"},Yt={key:0,class:"flex text-sm transition border-2 border-transparent rounded-full focus:outline-none focus:border-gray-300"},es=["src","alt"],ts={key:1,class:"inline-flex rounded-md"},ss={type:"button",class:"inline-flex items-center px-3 py-2 text-sm font-medium leading-4 text-gray-500 transition bg-white border border-transparent rounded-md hover:text-gray-700 focus:outline-none"},ns=n("svg",{class:"ml-2 -mr-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),os=n("div",{class:"block px-4 py-2 text-xs text-gray-400"}," Manage Account ",-1),as=n("div",{class:"border-t border-gray-100"},null,-1),ls=["onSubmit"],rs={class:"flex items-center -mr-2 sm:hidden"},is={class:"w-6 h-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},ds={class:"flex items-center w-full shrink-0 px-7 text-gray-100"},cs=n("span",{class:"text-xl font-bold"}," ICLoan ",-1),us={class:"pt-8 mx-auto md:px-24"},Cs=R({__name:"AppLayout",props:{title:String,showBackButton:Boolean,isOnboarding:Boolean},setup(a){const t=B(!1),s=k(()=>{var c;return(c=document==null?void 0:document.location)==null?void 0:c.pathname}),o=he("isMenuExpanded",!0),d=()=>{P.post(route("logout"))},{appMenu:p,headerMenu:h}=qt(),r=Y().props,{categoryOptions:M}=Gt();return M(r==null?void 0:r.categories,"sub_categories","categoryOptions"),M(r==null?void 0:r.accounts,"accounts","accountsOptions",c=>({...c,name:c.id})),L(()=>r.errors,c=>{Object.keys(c).forEach(_=>{ve({message:c[_],title:"Ha ocurrido un error",type:"error"})})},{deep:!0,immediate:!0}),(c,_)=>{const v=I("IconBack"),w=De;return l(),f("div",null,[i(e(_e),{title:a.title},null,8,["title"]),i(tt),i(we,{"is-expanded":e(o),"nav-class":[!c.$slots.header&&"border-b"]},{navigation:m(()=>[n("div",Zt,[n("div",Jt,[a.showBackButton?(l(),y(J,{key:0,onClick:_[0]||(_[0]=g=>c.$emit("back"))},{default:m(()=>[i(v)]),_:1})):x("",!0),n("h4",{class:C([[a.showBackButton?"lg:ml-2":"lg:ml-6"],"text-lg font-bold text-secondary"])},V(a.title),3)]),n("div",Kt,[n("div",Xt,[i(zt,{class:"mr-2"}),i(J,{class:"flex px-1 items-center mr-4 ml-2"},{default:m(()=>[i(w,{class:"mr-2"}),A(" Nuevo ")]),_:1}),a.isOnboarding?x("",!0):(l(),y(Q,{key:0,class:"hidden mr-2 md:inline-block"})),a.isOnboarding?x("",!0):(l(),y(Q,{key:1,class:"hidden mr-2 md:inline-block"})),i(St,{notifications:e(r).unreadNotifications,onClick:_[1]||(_[1]=g=>c.$router.visit("/notifications"))},null,8,["notifications"]),n("div",Qt,[i(oe,{align:"right",width:"48"},{trigger:m(()=>[c.$page.props.jetstream.managesProfilePhotos?(l(),f("button",Yt,[n("img",{class:"object-cover w-8 h-8 rounded-full",src:c.$page.props.user.profile_photo_url,alt:c.$page.props.user.name},null,8,es)])):(l(),f("span",ts,[n("button",ss,[A(V(c.$page.props.user.name)+" ",1),ns])]))]),content:m(()=>[os,i(H,{href:c.route("profile.show")},{default:m(()=>[A(" Profile ")]),_:1},8,["href"]),c.$page.props.jetstream.hasApiFeatures?(l(),y(H,{key:0,href:c.route("api-tokens.index")},{default:m(()=>[A(" API Tokens ")]),_:1},8,["href"])):x("",!0),as,n("form",{onSubmit:ee(d,["prevent"])},[i(H,{as:"button"},{default:m(()=>[A(" Log Out ")]),_:1})],40,ls)]),_:1})])]),n("div",rs,[n("button",{class:"inline-flex items-center justify-center p-2 text-gray-400 transition rounded-md hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 focus:text-gray-500",onClick:_[2]||(_[2]=g=>t.value=!t.value)},[(l(),f("svg",is,[n("path",{class:C({hidden:t.value,"inline-flex":!t.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),n("path",{class:C({hidden:!t.value,"inline-flex":t.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])])])]),aside:m(()=>[i(e(be),{class:"border-none shadow-none text-bold bg-secondary",title:"ICLoan","is-expanded":e(o),"onUpdate:isExpanded":_[3]||(_[3]=g=>o.value=g),menu:e(p),"header-menu":e(h),"current-path":e(s),"brand-container-class":"py-2","nav-container-class":"px-2 pt-1 space-y-2 border-t border-base-lvl-3/20","icon-class":"text-gray-100 transition hover:text-primary hover:bg-base-lvl-3/10","item-class":"px-5 py-[0.80rem] rounded-md font-bold text-gray-100 w-54 hover:text-primary hover:bg-base-lvl-3/10","item-active-class":"text-primary bg-base-lvl-3/10","is-expandable":""},{brand:m(()=>[n("h1",ds,[i(e(T),{href:c.route("dashboard"),class:"flex items-center space-x-2"},{default:m(()=>[i(Ue,{class:"block w-auto h-9"}),cs]),_:1},8,["href"])])]),_:1},8,["is-expanded","menu","header-menu","current-path"])]),"main-section":m(()=>[c.$slots.header?(l(),f("header",{key:0,class:C([[e(o)?"lg:pr-56":"lg:pr-20"],"fixed z-30 w-full border-b bg-neutral base-deep-1"])},[S(c.$slots,"header")],2)):x("",!0),n("main",us,[S(c.$slots,"default")])]),_:3},8,["is-expanded","nav-class"]),i(gt)])}}});export{Cs as _};
