import{R as v,V as q,F as x}from"./atmosphere-ui-8913659c.js";import{k,c as D,w as f,u as l,o as i,s as T,b as d,P as F,r as N,d as y,l as B,f as c,a as s,t as C,g as $,F as P}from"./app-b9464164.js";import{c as S}from"./clientInteractions-6c951eed.js";import{_ as j}from"./SectionNav.vue_vue_type_script_setup_true_lang-b284cd8c.js";import{_ as E}from"./BaseSelect.vue_vue_type_script_setup_true_lang-89ccd5ed.js";/* empty css                                                   */const n=k({__name:"AppFormField",props:{label:null,modelValue:null,required:{type:Boolean,default:!1}},setup(u){return(p,r)=>(i(),D(l(v),{label:u.label,class:"w-full text-secondary font-bold",required:u.required},{default:f(()=>[T(p.$slots,"default",{},()=>[d(l(q),{"model-value":u.modelValue,"onUpdate:modelValue":r[0]||(r[0]=b=>p.$emit("update:modelValue",b)),rounded:"",required:u.required,class:"bg-neutral/20 shadow-none border-neutral hover:border-secondary/60 focus:border-secondary/60"},null,8,["model-value","required"])])]),_:3},8,["label","required"]))}}),V=[{name:"DNI",label:"Cedula"},{name:"PASSPORT",label:"Pasaporte"}],L={class:"pb-4 bg-white sm:p-6 sm:pb-4"},A={class:"font-bold text-lg w-full text-center"},I={key:0,class:"px-2 md:px-0"},R={class:"flex flex-col md:flex-row md:space-x-2"},O={class:"flex flex-col md:flex-row md:space-x-2"},G={class:"flex flex-col md:flex-row md:space-x-2"},h={key:1,class:"px-2 md:px-0"},z={class:"flex space-x-2"},H={class:"flex flex-col md:flex-row md:space-x-2"},J={key:2},K={class:"flex space-x-2"},M={class:"flex space-x-2"},le=k({__name:"ClientForm",props:{formData:null,type:{default:"lender"}},emits:["success","error","update:isLoading"],setup(u,{expose:p,emit:r}){const b=u,a=F({names:"",lastnames:"",email:"",cellphone:"",address_details:"",dniType:V[0],dni_type:"DNI",dni:"",work_name:"",work_email:"",work_cellphone:"",work_address_details:"",bank_name:"",bank_account_number:"",owner_distribution_date:""}),_=[{value:"general",label:"Datos Generales"},{value:"work",label:"Datos de trabajo"},{value:"accounting",label:"Cuenta y Pago"}],m=N("general"),w=y(()=>{var t;return(t=_.find(e=>e.value==m.value))==null?void 0:t.label}),g=y(()=>V.find(t=>t.name==a.dni_type).label),U=()=>{r("update:isLoading",!0),S.create({...a,[`is_${b.type}`]:!0}).then(()=>{r("success")}).catch(t=>{r("error",t)}).finally(()=>{r("update:isLoading",!1)})};return p({reset:a.reset,onSubmit:U}),B(()=>b.formData,t=>{Object.keys(a.data()).forEach(e=>{e=="date"?a[e]=new Date(t[e]):t&&(a[e]=t[e])})},{deep:!0,immediate:!0}),(t,e)=>(i(),c(P,null,[d(j,{class:"bg-primary/5 w-full",modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=o=>m.value=o),"selected-class":"bg-base-lvl-3 text-primary font-bold",sections:_},null,8,["modelValue"]),s("main",L,[s("h1",A,C(l(w)),1),m.value=="general"?(i(),c("article",I,[s("section",R,[d(n,{label:"Nombres",modelValue:l(a).names,"onUpdate:modelValue":e[1]||(e[1]=o=>l(a).names=o),required:""},null,8,["modelValue"]),d(n,{label:"Apellidos",modelValue:l(a).lastnames,"onUpdate:modelValue":e[2]||(e[2]=o=>l(a).lastnames=o),rounded:"",required:""},null,8,["modelValue"])]),d(n,{label:"Dirección",required:""},{default:f(()=>[d(l(x),{modelValue:l(a).address_details,"onUpdate:modelValue":e[3]||(e[3]=o=>l(a).address_details=o),class:"border px-4 py-2 bg-neutral/20 shadow-none border-neutral hover:border-secondary/60 focus:border-secondary/60"},null,8,["modelValue"])]),_:1}),s("section",O,[d(n,{label:"Tipo Documento",required:""},{default:f(()=>[d(E,{options:l(V),"track-by":"name",modelValue:l(a).dniType,"onUpdate:modelValue":e[4]||(e[4]=o=>l(a).dniType=o)},null,8,["options","modelValue"])]),_:1}),d(n,{label:l(g),modelValue:l(a).dni,"onUpdate:modelValue":e[5]||(e[5]=o=>l(a).dni=o),rounded:"",required:""},null,8,["label","modelValue"])]),s("section",G,[d(n,{label:"Email",modelValue:l(a).email,"onUpdate:modelValue":e[6]||(e[6]=o=>l(a).email=o),rounded:"",type:"email"},null,8,["modelValue"]),d(n,{required:"",label:"Telefono",modelValue:l(a).cellphone,"onUpdate:modelValue":e[7]||(e[7]=o=>l(a).cellphone=o),type:"tel",rounded:""},null,8,["modelValue"])])])):m.value=="work"?(i(),c("article",h,[s("section",z,[d(n,{label:"Lugar de trabajo",modelValue:l(a).work_name,"onUpdate:modelValue":e[8]||(e[8]=o=>l(a).work_name=o)},null,8,["modelValue"])]),d(n,{label:"Dirección de trabajo"},{default:f(()=>[d(l(x),{modelValue:l(a).work_address_details,"onUpdate:modelValue":e[9]||(e[9]=o=>l(a).work_address_details=o),class:"border"},null,8,["modelValue"])]),_:1}),s("section",H,[d(n,{label:"Email",modelValue:l(a).work_email,"onUpdate:modelValue":e[10]||(e[10]=o=>l(a).work_email=o),rounded:"",type:"email"},null,8,["modelValue"]),d(n,{label:"Telefono",modelValue:l(a).work_cellphone,"onUpdate:modelValue":e[11]||(e[11]=o=>l(a).work_cellphone=o),type:"tel",rounded:""},null,8,["modelValue"])])])):m.value=="accounting"?(i(),c("article",J,[s("section",K,[d(n,{label:"Banco",modelValue:l(a).bank_name,"onUpdate:modelValue":e[12]||(e[12]=o=>l(a).bank_name=o)},null,8,["modelValue"]),d(n,{label:"No. de cuenta",modelValue:l(a).bank_account_number,"onUpdate:modelValue":e[13]||(e[13]=o=>l(a).bank_account_number=o)},null,8,["modelValue"])]),s("section",M,[d(n,{label:"Dia de generacion de factura",modelValue:l(a).owner_distribution_date,"onUpdate:modelValue":e[14]||(e[14]=o=>l(a).owner_distribution_date=o)},null,8,["modelValue"])])])):$("",!0)])],64))}});export{le as _,n as a};
