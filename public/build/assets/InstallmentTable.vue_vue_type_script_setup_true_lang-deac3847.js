import{_}from"./sharp-payment-a643f5bb.js";import{_ as f}from"./AppButton.vue_vue_type_script_setup_true_lang-70b35c26.js";import{_ as h}from"./BaseTable.vue_vue_type_style_index_0_lang-8bddfc90.js";import{u as b}from"./usePaymentModal-81539917.js";import{f as y}from"./index-901d5032.js";import{f as s}from"./formatMoney-b7ef7683.js";import{O as r,k as x,c,w as l,u as g,o as i,a as C,b as $,h as I,g as P}from"./app-9b138141.js";const k=[{name:"due_date",minWidth:100,label:"Fecha",render(a){return y(a.due_date)}},{name:"amount",label:"Monto",minWidth:100,render(a){return s(a.amount)}},{name:"capital",label:"Capital",minWidth:100,render(a){return s(a.principal)}},{name:"interest",label:"InterÃ©s",minWidth:100,render(a){return s(a.interest)}},{name:"balance",label:"Balance pendiente",width:200,headerClass:"text-right",class:"text-right",render(a){return r("div",{class:"flex space-x-4 w-full justify-end"},[r("span",a.payment_status),r("span",{class:"text-right font-bold"},s(a.final_balance))])}},{name:"actions",label:"Acciones"}],v={class:"flex space-x-2 justify-end"},F=x({__name:"InstallmentTable",props:{installments:null,loanId:null},emits:["pay"],setup(a,{emit:d}){const m=a,{openModal:u}=b(),p=e=>{const t={...e,amount:parseFloat(e.amount_due)||e.amount,id:void 0,installment_id:e.id},o=`Pago prestamo ${e.loan_id} (${e.number}/${m.installments.length})`;u({data:{title:"Pagar prestamo",endpoint:`/loans/${e.loan_id}/installments/${e.id}/pay`,due:t.amount,account_id:t.account_id,payment:t,defaultConcept:o,accountsEndpoint:"/loan-accounts"}}),d("pay",e)};return(e,t)=>{const o=_;return i(),c(h,{cols:g(k),"table-data":a.installments},{actions:l(({scope:{row:n}})=>[C("div",v,[(n==null?void 0:n.payment_status)!=="PAID"||a.loanId?(i(),c(f,{key:0,onClick:B=>p(n),variant:"inverse-secondary",class:"flex items-center"},{default:l(()=>[$(o,{class:"mr-2"}),I(" Pagar ")]),_:2},1032,["onClick"])):P("",!0)])]),_:1},8,["cols","table-data"])}}});export{F as _};
