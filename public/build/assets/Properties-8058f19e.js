import{_ as Y}from"./note-off-91b0c325.js";import{_ as A}from"./BudgetProgress.vue_vue_type_script_setup_true_lang-fb499673.js";import{_ as P}from"./IncomeSummaryWidget.vue_vue_type_script_setup_true_lang-f39335a4.js";import{_ as C}from"./WelcomeWidget.vue_vue_type_script_setup_true_lang-801aae9c.js";import{_ as F}from"./DashboardTemplate.vue_vue_type_script_setup_true_lang-7c8a26e3.js";import{f as d}from"./formatMoney-b7ef7683.js";import T from"./ChartBar-f76835ad.js";import{c as N}from"./config-3e030ca7.js";import{_ as z}from"./PropertyInvoiceWidget.vue_vue_type_script_setup_true_lang-f19ece4d.js";import{_ as L}from"./NextPaymentsWidget.vue_vue_type_script_setup_true_lang-37f6b92c.js";import{_ as E}from"./PaymentsCard.vue_vue_type_script_setup_true_lang-97a6b8c4.js";import{l as G,c as I,w as a,C as j,o as c,a as e,b as o,t as p,u as D,f as u,n as H,h as M,g as B,j as J,F as R}from"./app-494b6f90.js";import"./atmosphere-ui-83e2a306.js";import"./AppLayout.vue_vue_type_style_index_0_lang-3aae0800.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./AppButton.vue_vue_type_script_setup_true_lang-6731c3fc.js";import"./PaymentFormModal.vue_vue_type_script_setup_true_lang-2fd658ef.js";import"./close-40de6817.js";import"./PaymentGrid-a2bc0bdb.js";import"./mathHelper-d6bc48cd.js";import"./exact-math.node-f7579f9b.js";import"./constants-0a903a05.js";import"./AccountSelect.vue_vue_type_script_setup_true_lang-93902e28.js";import"./BaseSelect.vue_vue_type_style_index_1_lang-7b13fe11.js";import"./AppFormField.vue_vue_type_style_index_0_lang-2eb2a149.js";import"./index-c251e33c.js";import"./index-81f33ca2.js";import"./Modal.vue_vue_type_script_setup_true_lang-ca2f799a.js";import"./InvoiceFormModal.vue_vue_type_script_setup_true_lang-d4cb9813.js";import"./user-outline-c87acd59.js";import"./ClientFormModal.vue_vue_type_script_setup_true_lang-593db1f8.js";import"./ClientForm.vue_vue_type_script_setup_true_lang-7ced5882.js";import"./SectionNav.vue_vue_type_script_setup_true_lang-3cbc58a3.js";import"./usePaymentModal-f96f741a.js";import"./FastAccessOptions.vue_vue_type_script_setup_true_lang-ff3d4599.js";import"./ButtonGroup.vue_vue_type_script_setup_true_lang-f813575d.js";import"./InvoiceCard.vue_vue_type_script_setup_true_lang-ccb04f01.js";import"./index-9dc2d84c.js";import"./index-3624ec38.js";import"./constants-a62dae4c.js";import"./InstallmentTable.vue_vue_type_script_setup_true_lang-d4703ba0.js";import"./sharp-payment-0e03bd0a.js";import"./BaseTable.vue_vue_type_style_index_0_lang-39691f37.js";import"./customCell-9e9ed16f.js";import"./IconMarker-d6248750.js";import"./receipt-55266926.js";import"./document-664d61e3.js";const q={class:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4"},U={class:"py-4"},K={class:"mb-1 font-bold flex justify-between"},Q={class:"text-primary"},W={class:"justify-between w-full flex mt-1"},X={key:0},Z={class:"text-body-1 w-full md:w-5/12"},ee=e("div",{class:"text-body-1 w-full shadow-md bg-white mt-4 px-4 py-7 rounded-lg"}," Hola mundo ",-1),te={class:"mt-8 mb-24"},se={class:"flex lg:space-x-4 flex-col w-full lg:flex-row"},oe={class:"lg:w-7/12 space-y-4"},ae={class:"order-1 space-y-5 lg:w-5/12 lg:order-2"},re={class:"flex mt-4 space-x-4"},ie={class:"py-4 my-2 h-[380px] overflow-auto ic-scroller"},ne={key:1,class:"flex text-body-1 flex-col justify-center items-center w-full"},le=e("p",{class:"mt-8"},"No hay pagos realizados en este rango de fechas",-1);const at=G({__name:"Properties",props:{user:{type:Object},revenue:{type:Object,default(){return{previousYear:{values:[]},currentYear:{values:[]}}}},stats:{type:Object},ownerStats:{type:Object},paidInterest:{type:Array},cashOnHand:{type:Object},totals:{type:Object},accounts:{type:Array},nextInvoices:{type:Array},paidCommissions:{type:Number}},setup(s){var h,y,b,g,v,w;const t=s,O=[{label:"Total propiedades",value:((h=t.stats)==null?void 0:h.total)||0},{label:"Alquiladas/Libres",icon:"fa-money",value:`${((y=t.stats)==null?void 0:y.rented)||0} / ${((b=t.stats)==null?void 0:b.available)||0}`},{label:"Comisiones pagadas/mes",value:d(t.paidCommissions||0)}],$=[{label:"Total de propietarios",value:((g=t.ownerStats)==null?void 0:g.total)||0},{label:"Pagado mes",value:d(((v=t.ownerStats)==null?void 0:v.paid)||0)}],f={headers:{gapName:"Year",previous:t.revenue.previousYear.total,current:t.revenue.currentYear.total},options:{chart:{id:"vuechart-example"},stroke:{curve:"smooth"},dropShadow:{enabled:!0,top:3,left:0,blur:1,opacity:.5},colors:["#fa6b88","#80CDFE"]},series:[{name:"previous year",data:t.revenue.previousYear.values.map(r=>r.total)},{name:"current year",data:t.revenue.currentYear.values.map(r=>r.total)}]},_={headers:{gapName:"Year",month:t.paidCommissions.months.at(-1).income,avg:t.paidCommissions.avg,current:(w=t.paidCommissions)==null?void 0:w.year},options:{chart:{id:"commissions",type:"bar"},stroke:{curve:"smooth"},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},colors:[N.colors.highlight,N.colors.info]},series:[{name:"Ganancias intereses",data:t.paidCommissions.months.map(r=>r.income)}]};return(r,ce)=>{const S=j("Link"),V=Y,me=j("IconMarker");return c(),I(F,{user:s.user,class:"pb-10"},{default:a(()=>[e("header",q,[o(C,{message:"Estadisticas de propiedades",class:"text-body-1 w-full md:w-7/12 shadow-md",size:"small",cards:O},{append:a(()=>{var i,m;return[e("section",U,[o(A,{goal:(i=s.totals)==null?void 0:i.total,current:(m=s.totals)==null?void 0:m.paid,class:"h-2.5 text-white rounded-md","progress-class":["bg-primary-shade-2","bg-primary-shade-1"],"show-labels":!1},{before:a(({progress:x})=>{var n,l;return[e("header",K,[e("span",null,p(D(d)((n=s.totals)==null?void 0:n.paid))+" of "+p(D(d)((l=s.totals)==null?void 0:l.total)),1),e("span",Q,p(x)+"% ",1)])]}),after:a(({progress:x})=>{var n,l,k;return[e("div",W,[(n=s.totals)!=null&&n.outstandingInvoices?(c(),u("p",X,[e("span",{class:H(["font-bold",[(l=s.totals)!=null&&l.outstandingInvoices?"text-success":"text-error"]])},p((k=s.totals)==null?void 0:k.outstandingInvoices),3),M(" Pagos de renta atrasados ")])):B("",!0)])]}),_:1},8,["goal","current"])])]}),_:1}),e("div",Z,[o(C,{message:"Distribucion a propierarios",class:"text-body-1 w-full shadow-md",size:"small",cards:$}),ee])]),e("section",te,[e("section",se,[e("section",oe,[o(P,{title:"Flujo de efectivo",description:"Movimiento de efectivo del año por mes",class:"order-2 mt-4 lg:w-full lg:mt-0 lg:order-1 shadow-md",style:{height:"350px"},chart:f,headerInfo:f.headers,sections:s.accounts},null,8,["headerInfo","sections"])]),e("article",ae,[o(T,{class:"bg-white shadow-md rounded-lg overflow-hidden",title:"Ganancias",description:"Ganancias por comisiones en el año",chart:_,headerInfo:_.headers},null,8,["headerInfo"])])]),e("section",re,[o(z,{class:"w-full md:w-7/12"}),o(L,{title:"Pagos por periodo",endpoint:"/api/rent-payments?",method:"back","default-range":"7D","date-field":"payment_date",class:"rounded-md border w-full md:w-5/12",ranges:[{label:"1D",value:[1,1],tooltip:"Hoy"},{label:"7D",value:[7,0],tooltip:"7 Dias"},{label:"1M",value:[30,0],tooltip:"30 Dias"},{label:"3M",value:[90,0],tooltip:"3 Meses"}]},{beforeRange:a(()=>[o(S,{href:"/payment-center?tab=payments"},{default:a(()=>[M("Todos")]),_:1})]),content:a(({list:i})=>[e("article",ie,[i.length?(c(!0),u(R,{key:0},J(i,m=>(c(),I(E,{payment:m},null,8,["payment"]))),256)):(c(),u("section",ne,[o(V,{class:"text-8xl"}),le]))])]),_:1})]),B("",!0)])]),_:1},8,["user"])}}});export{at as default};
