import{o as l,f as m,a,k as O,J as te,r as B,d as y,l as D,u as e,n as k,g,t as S,m as se,p as ce,q as de,s as C,i as R,e as Z,x as G,b as c,w as p,T as ue,c as v,y as A,F as j,j as E,z as ne,P as me,A as pe,B as fe,C as P,h as V,D as I,E as N,G as he,H as oe,I as _e,K as be,L as ae,M as ve,N as J,O as le,Q as ge,X as xe,R as ye}from"./app-b9464164.js";import{R as L,V as z,N as K,O as we}from"./atmosphere-ui-8913659c.js";import{u as $e,a as ke,t as Ce,A as Me}from"./AppLayout.vue_vue_type_style_index_0_lang-0d2503f0.js";import{_ as U}from"./_plugin-vue_export-helper-c27b6911.js";import{_ as Q}from"./AppButton.vue_vue_type_script_setup_true_lang-89aa5f09.js";import{_ as Te}from"./PaymentFormModal.vue_vue_type_script_setup_true_lang-a1e2938d.js";import{_ as Ae}from"./Modal.vue_vue_type_script_setup_true_lang-74361783.js";import{_ as X}from"./AccountSelect.vue_vue_type_script_setup_true_lang-d3f16147.js";import{f as Se}from"./index-c251e33c.js";import{u as Ve,m as Y}from"./usePaymentModal-23c75da0.js";import{_ as Be}from"./ClientFormModal.vue_vue_type_script_setup_true_lang-3f2645eb.js";import{f as Oe}from"./formatMoney-b7ef7683.js";import{_ as Le}from"./AppSearch.vue_vue_type_script_setup_true_lang-b788b25f.js";const De={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Re=a("path",{fill:"currentColor",d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2Z"},null,-1),je=[Re];function Ie(o,t){return l(),m("svg",De,je)}const Ee={name:"mdi-plus",render:Ie},Pe={},We={class:"app-logo w-14 h-14"};function Ne(o,t){return l(),m("div",We)}const Ue=U(Pe,[["render",Ne]]),He={class:"max-w-screen-xl mx-auto py-2 px-3 sm:px-6 lg:px-8"},ze={class:"flex items-center justify-between flex-wrap"},Fe={class:"w-0 flex-1 flex items-center min-w-0"},Ze={key:0,class:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},qe=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),Ge=[qe],Je={key:1,class:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Ke=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},null,-1),Qe=[Ke],Xe={class:"ml-3 font-medium text-sm text-white truncate"},Ye={class:"shrink-0 sm:ml-3"},et=a("svg",{class:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),tt=[et],st=O({__name:"Banner",setup(o){const t=te().props,n=B(!0),s=y(()=>{var f,_;return((_=(f=t==null?void 0:t.jetstream)==null?void 0:f.flash)==null?void 0:_.bannerStyle)||"success"}),r=y(()=>{var f,_;return((_=(f=t==null?void 0:t.jetstream)==null?void 0:f.flash)==null?void 0:_.banner)||""});return D(r,async()=>{n.value=!0}),(f,_)=>(l(),m("div",null,[n.value&&e(r)?(l(),m("div",{key:0,class:k({"bg-indigo-500":e(s)=="success","bg-red-700":e(s)=="danger"})},[a("div",He,[a("div",ze,[a("div",Fe,[a("span",{class:k(["flex p-2 rounded-lg",{"bg-indigo-600":e(s)=="success","bg-red-600":e(s)=="danger"}])},[e(s)=="success"?(l(),m("svg",Ze,Ge)):g("",!0),e(s)=="danger"?(l(),m("svg",Je,Qe)):g("",!0)],2),a("p",Xe,S(e(r)),1)]),a("div",Ye,[a("button",{type:"button",class:k(["-mr-1 flex p-2 rounded-md focus:outline-none sm:-mr-2 transition",{"hover:bg-indigo-600 focus:bg-indigo-600":e(s)=="success","hover:bg-red-600 focus:bg-red-600":e(s)=="danger"}]),"aria-label":"Dismiss",onClick:_[0]||(_[0]=se(i=>n.value=!1,["prevent"]))},tt,2)])])])],2)):g("",!0)]))}}),nt={class:"relative"},re={__name:"Dropdown",props:{align:{type:String,default:"right"},width:{type:String,default:"48"},contentClasses:{type:Array,default:()=>["py-1","bg-white"]}},setup(o){const t=o;let n=B(!1);const s=_=>{n.value&&_.key==="Escape"&&(n.value=!1)};ce(()=>document.addEventListener("keydown",s)),de(()=>document.removeEventListener("keydown",s));const r=y(()=>({48:"w-48"})[t.width.toString()]),f=y(()=>t.align==="left"?"origin-top-left left-0":t.align==="right"?"origin-top-right right-0":"origin-top");return(_,i)=>(l(),m("div",nt,[a("div",{onClick:i[0]||(i[0]=M=>R(n)?n.value=!e(n):n=!e(n))},[C(_.$slots,"trigger")]),Z(a("div",{class:"fixed inset-0 z-40",onClick:i[1]||(i[1]=M=>R(n)?n.value=!1:n=!1)},null,512),[[G,e(n)]]),c(ue,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:p(()=>[Z(a("div",{class:k(["absolute z-50 mt-2 rounded-md shadow-lg",[e(r),e(f)]]),style:{display:"none"},onClick:i[2]||(i[2]=M=>R(n)?n.value=!1:n=!1)},[a("div",{class:k(["rounded-md ring-1 ring-black ring-opacity-5",o.contentClasses])},[C(_.$slots,"content")],2)],2),[[G,e(n)]])]),_:3})]))}},ot={key:0,type:"submit",class:"block w-full px-4 py-2 text-sm leading-5 text-gray-700 text-left hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition"},at=["href"],F={__name:"DropdownLink",props:{href:String,as:String},setup(o){return(t,n)=>(l(),m("div",null,[o.as=="button"?(l(),m("button",ot,[C(t.$slots,"default")])):o.as=="a"?(l(),m("a",{key:1,href:o.href,class:"block px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition"},[C(t.$slots,"default")],8,at)):(l(),v(e(A),{key:2,href:o.href,class:"block px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition"},{default:p(()=>[C(t.$slots,"default")]),_:3},8,["href"]))]))}},lt={class:"grid grid-cols-3 overflow-hidden text-lg rounded-lg"},rt=["onClick"],it=O({__name:"TransactionTypesPicker",props:{modelValue:{type:String}},emits:["update:modelValue"],setup(o){const t=[{value:"DEPOSIT",label:"Ingreso"},{value:"WITHDRAW",label:"Gasto"},{value:"TRANSFER",label:"Transferencia"}];return(n,s)=>(l(),m("div",lt,[(l(),m(j,null,E(t,r=>a("div",{key:r.value,options:t,onClick:f=>n.$emit("update:modelValue",r.value),class:k(["py-1 font-bold text-center cursor-pointer",[o.modelValue==r.value?"bg-primary hover:bg-primary text-white":"hover:bg-base-lvl-3 text-body bg-base-lvl-2"]])},S(r.label),11,rt)),64))]))}}),ct={WITHDRAW:"WITHDRAW",DEPOSIT:"DEPOSIT",TRANSFER:"TRANSFER"},dt={class:"pb-4 bg-base-lvl-3 sm:p-6 sm:pb-4 text-body flex-1"},ut={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},mt={class:"mt-2"},pt={key:0,class:"flex justify-between py-3 px-4"},ft=a("span",{class:"flex items-center pl-2"}," RD$ ",-1),ht={class:"md:flex md:space-x-2 md:px-0 px-4"},_t={class:"md:flex md:space-x-3 md:px-0 px-4"},bt=a("span",{class:"flex items-center pl-2"}," RD$ ",-1),vt={class:"px-6 py-4 space-x-3 items-center justify-end flex w-full bg-base-lvl-2"},gt=O({__name:"TransactionModal",props:{show:{default:!1},maxWidth:{default:"2xl"},closeable:{default:!0},categories:{type:Array,default:[]},accounts:{type:Array,default:[]},recurrence:{type:Boolean,default:!1},transactionData:{type:Object,default:()=>({})},mode:{type:String,default:"income"},fullHeight:{type:Boolean}},emits:["close","saved"],setup(o,{emit:t}){const n=o,s=ne({frequencyLabel:"every",form:me({name:"",payee_id:"",account:null,payee_label:"",date:null,description:"",direction:"WITHDRAW",category_id:null,counterAccount:null,counter_account_id:null,account_id:null,display_id:"",total:0,is_transfer:!1})});D(()=>s.form.direction,x=>{(x==null?void 0:x.toLowerCase())=="transfer"?s.form.is_transfer=!0:s.form.is_transfer=!1});const r=y(()=>s.form.is_transfer),f=y(()=>r.value?"Cuenta origen":"Cuenta"),_=y(()=>r.value?"Cuenta destino":"Categoria"),i=y(()=>r.value?"counter_account_id":"category_id"),M=pe("categoryOptions",[]),T=()=>{const x={transaction:{save:{method:"post",url:()=>route("transactions.store")},update:{method:"put",url:()=>route("transactions.update",n.transactionData)}},recurrence:{save:{method:"post",url:()=>route("transactions.store-planned")},update:{method:"update",url:()=>route("transactions.store-planned")}}},u=n.transactionData&&n.transactionData.id?"update":"save",H=d.value?"recurrence":"transaction",W=x[H][u];s.form.transform($=>{var b,q;return{...$,resource_type_id:"MANUAL",total:$.total,account_id:(b=$.account)==null?void 0:b.id,counter_account_id:(q=$.counterAccount)==null?void 0:q.id,date:Se(new Date($.date),"yyyy-MM-dd"),status:"verified",direction:$.is_transfer?ct.WITHDRAW:$.direction}}).submit(W.method,W.url(),{onBefore($){$.data.total||alert("The balance should be more than 0")},onSuccess:()=>{t("close"),s.form.reset()}})};D(()=>n.transactionData,()=>{const x={...n.transactionData};Object.keys(s.form.data()).forEach(u=>{u=="date"&&x[u]?s.form[u]=new Date(x[u]):s.form[u]=x[u]||s.form[u]})},{deep:!0}),D(()=>n.show,x=>{var u;s.form.direction=((u=n.mode)==null?void 0:u.toUpperCase())??"WITHDRAW"});const d=B(n.recurrence),{form:h}=fe(s),w=B(!1);return(x,u)=>{const H=P("CategoryPicker"),W=P("ElDatePicker");return l(),v(Ae,{show:o.show,"max-width":o.maxWidth,"full-height":o.fullHeight,closeable:o.closeable,onClose:u[9]||(u[9]=$=>x.$emit("update:show",!1))},{default:p(({close:$})=>[a("div",dt,[a("div",ut,[c(it,{modelValue:e(h).direction,"onUpdate:modelValue":u[0]||(u[0]=b=>e(h).direction=b)},null,8,["modelValue"]),a("div",mt,[C(x.$slots,"content",{},()=>[a("div",null,[o.fullHeight?(l(),m("header",pt,[c(H,{class:"w-full",modelValue:e(h)[e(i)],"onUpdate:modelValue":u[1]||(u[1]=b=>e(h)[e(i)]=b),isPickerOpen:w.value,"onUpdate:isPickerOpen":u[2]||(u[2]=b=>w.value=b),placeholder:`Choose ${e(_)}`,options:e(M)},null,8,["modelValue","isPickerOpen","placeholder","options"]),w.value?g("",!0):(l(),v(e(L),{key:0},{default:p(()=>[c(e(z),{"number-format":!0,modelValue:e(h).total,"onUpdate:modelValue":u[3]||(u[3]=b=>e(h).total=b)},{prefix:p(()=>[ft]),_:1},8,["modelValue"])]),_:1}))])):g("",!0),a("div",ht,[c(e(L),{label:"Fecha",class:"md:w-4/12 md:block flex w-full justify-between"},{default:p(()=>[c(W,{modelValue:e(h).date,"onUpdate:modelValue":u[4]||(u[4]=b=>e(h).date=b),type:"date",size:"large",class:"w-48 md:w-full"},null,8,["modelValue"])]),_:1}),c(e(L),{label:"Concepto",class:"md:w-8/12 flex w-full md:block md:space-x-0 justify-between"},{default:p(()=>[c(e(z),{modelValue:e(h).description,"onUpdate:modelValue":u[5]||(u[5]=b=>e(h).description=b),class:"w-48 md:w-full"},null,8,["modelValue"])]),_:1})]),c(e(L),{label:e(f),class:"md:w-full md:block md:space-x-0 flex w-full justify-between space-x-4"},{default:p(()=>[c(X,{endpoint:"/api/accounts",modelValue:e(h).account,"onUpdate:modelValue":u[6]||(u[6]=b=>e(h).account=b)},null,8,["modelValue"])]),_:1},8,["label"]),a("div",_t,[c(e(L),{label:e(_),class:"hidden md:block md:w-full"},{default:p(()=>[c(X,{endpoint:"/api/accounts",modelValue:e(h).counterAccount,"onUpdate:modelValue":u[7]||(u[7]=b=>e(h).counterAccount=b)},null,8,["modelValue"])]),_:1},8,["label"]),c(e(L),{label:"Monto",class:"hidden md:block md:w-5/12"},{default:p(()=>[c(e(z),{"number-format":!0,modelValue:e(h).total,"onUpdate:modelValue":u[8]||(u[8]=b=>e(h).total=b)},{prefix:p(()=>[bt]),_:1},8,["modelValue"])]),_:1})])])])])])]),a("footer",vt,[a("div",null,[c(e(K),{onClick:$,rounded:"",class:"h-10 text-body"},{default:p(()=>[V(" Cancel ")]),_:2},1032,["onClick"]),c(e(K),{class:"h-10 text-white bg-primary",disabled:!e(h).total||e(h).processing,onClick:T,rounded:""},{default:p(()=>[V(" Save ")]),_:1},8,["disabled"])])])]),_:3},8,["show","max-width","full-height","closeable"])}}}),xt=O({__name:"TheGlobals",setup(o){const{isOpen:t}=Ve(),{isOpen:n,closeTransactionModal:s}=$e(),r=()=>{N.reload(),s()},{isOpen:f,closeModal:_,data:i}=ke("contact"),M=()=>{N.reload(),_()};return(T,d)=>{var h;return l(),m(j,null,[e(Y)?(l(),v(Te,I({key:0},(h=e(Y))==null?void 0:h.data,{modelValue:e(t),"onUpdate:modelValue":d[0]||(d[0]=w=>R(t)?t.value=w:null),onSaved:d[1]||(d[1]=w=>e(N).reload())}),null,16,["modelValue"])):g("",!0),c(gt,I({show:e(n),"onUpdate:show":d[2]||(d[2]=w=>R(n)?n.value=w:null)},e(Ce),{onSaved:r,onClose:r}),null,16,["show"]),c(Be,I({show:e(f),"onUpdate:show":d[3]||(d[3]=w=>R(f)?f.value=w:null)},e(i),{onSaved:M}),null,16,["show"])],64)}}}),yt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},wt=a("path",{fill:"currentColor",d:"M21 19v1H3v-1l2-2v-6c0-3.1 2.03-5.83 5-6.71V4a2 2 0 0 1 2-2a2 2 0 0 1 2 2v.29c2.97.88 5 3.61 5 6.71v6l2 2m-7 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2"},null,-1),$t=[wt];function kt(o,t){return l(),m("svg",yt,$t)}const Ct={name:"mdi-bell",render:kt},Mt={__name:"AppButtonTab",props:{keepActiveState:{type:Boolean,default:!0},icon:{type:String},rounded:{type:Boolean,default:!1}},setup(o){const t=o,n=y(()=>{const s=t.keepActiveState&&"focus:bg-base-lvl-1",r=t.rounded?"rounded-full h-8 w-8":"";return[s,r]});return(s,r)=>(l(),m("button",I({type:"button",class:["inline-flex items-center px-2 py-2 text-sm font-medium leading-4 text-body transition border border-transparent rounded-md hover:bg-base-lvl-2 hover:text-body/80 focus:outline-none",e(n)]},s.$attrs),[C(s.$slots,"icon",{},()=>[o.icon?(l(),m("i",{key:0,class:k(["fa mr-2",o.icon])},null,2)):g("",!0)]),C(s.$slots,"default")],16))}},ie={__name:"AppButtonCircle",setup(o){return(t,n)=>(l(),v(Mt,{rounded:"",type:"button",class:"relative text-body-1/80 bg-base-lvl-1 hover:bg-primary/10 transition border-base-lvl-1 hover:border-primary rounded-full"},{default:p(()=>[C(t.$slots,"default")]),_:3}))}},Tt={key:0,class:"absolute bottom-0 right-0 w-4 h-4 text-xs text-white bg-error rounded-full shadow-md"},At={__name:"AppNotificationBell",props:{notifications:{type:Number,default(){return 0}}},setup(o){return(t,n)=>{const s=Ct;return l(),v(ie,{type:"button"},{default:p(()=>[c(s,{class:"text-md"}),o.notifications>0?(l(),m("div",Tt,S(o.notifications),1)):g("",!0)]),_:1})}}},St={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Vt=a("path",{fill:"currentColor",d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.62L12 2L9.19 8.62L2 9.24l5.45 4.73L5.82 21L12 17.27Z"},null,-1),Bt=[Vt];function Ot(o,t){return l(),m("svg",St,Bt)}const Lt={name:"mdi-star",render:Ot},Dt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Rt=a("path",{fill:"currentColor",d:"m12 15.39l-3.76 2.27l.99-4.28l-3.32-2.88l4.38-.37L12 6.09l1.71 4.04l4.38.37l-3.32 2.88l.99 4.28M22 9.24l-7.19-.61L12 2L9.19 8.63L2 9.24l5.45 4.73L5.82 21L12 17.27L18.18 21l-1.64-7.03L22 9.24Z"},null,-1),jt=[Rt];function It(o,t){return l(),m("svg",Dt,jt)}const Et={name:"mdi-star-outline",render:It},Pt={class:"w-64 py-1"},Wt=a("header",{class:"flex justify-between"},[a("h4",{class:"px-2 text-body-1/80"},"Watchlist"),a("button",{class:"px-2 text-primary"},"See all")],-1),Nt={class:"flex items-center"},Ut={class:"text-secondary"},ee={__name:"WatchlistButton",setup(o){const t=()=>oe.get("/api/watchlist/").then(({data:r})=>r.data),n=B(),s=B();return he(s,async()=>{n.value=await t()}),(r,f)=>{const _=Et,i=Lt,M=P("LogerButtonTab");return l(),v(re,{align:"right",width:"64",open:s.value,"onUpdate:open":f[1]||(f[1]=T=>s.value=T)},{trigger:p(()=>[c(ie,{class:"hover:text-primary"},{default:p(()=>[c(_)]),_:1})]),content:p(()=>[a("div",Pt,[Wt,(l(!0),m(j,null,E(n.value,T=>(l(),v(M,{class:"flex items-center justify-between w-full font-bold",onClick:f[0]||(f[0]=d=>r.openTransactionModal({mode:r.DEPOSIT}))},{default:p(()=>{var d;return[a("span",Nt,[c(i,{class:"mr-2 text-md text-secondary"}),V(" "+S(T.name),1)]),a("span",Ut,S(e(Oe)((d=T==null?void 0:T.data)==null?void 0:d.month.total)),1)]}),_:2},1024))),256))])]),_:1},8,["open"])}}},Ht={class:"flex w-full"},zt={class:"w-full py-2 mt-4"},Ft=O({__name:"AppResourceSearch",setup(o){const t=ne({searchText:"",results:{},hasResults:y(()=>!!Object.keys(t.tabsWithResults).length),selectedTab:null,tabsWithResults:y(()=>Object.keys(t.results).filter(n=>t.results[n]))});return D(()=>t.searchText,n=>{oe.get(`/search?search=${n}`).then(({data:s})=>{t.results=s,t.selectedTab=t.tabsWithResults[0]}),n||(t.results={})}),(n,s)=>{const r=P("ElPopover");return l(),v(r,{visible:t.hasResults,"show-arrow":!1,placement:"bottom-end",width:500},{reference:p(()=>[a("div",_e(be(n.$attrs)),[c(Le,{modelValue:t.searchText,"onUpdate:modelValue":s[0]||(s[0]=f=>t.searchText=f)},null,8,["modelValue"])],16)]),default:p(()=>[a("section",null,[a("section",Ht,[(l(!0),m(j,null,E(t.tabsWithResults,f=>(l(),m("div",{class:k(["px-5 cursor-pointer py-1 font-bold w-full capitalize text-center rounded-md bg-base-lvl-2",t.selectedTab==f?"bg-primary text-white":""])},S(f),3))),256))]),a("div",zt,[(l(!0),m(j,null,E(t.results[t.selectedTab],f=>(l(),m("div",null,S(f.fullName),1))),256))])])]),_:1},8,["visible"])}}}),Zt=U(Ft,[["__scopeId","data-v-fd64bfb9"]]),qt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Gt=a("path",{fill:"currentColor",d:"M20 14h-6v6h-4v-6H4v-4h6V4h4v6h6v4Z"},null,-1),Jt=[Gt];function Kt(o,t){return l(),m("svg",qt,Jt)}const Qt={name:"mdi-plus-thick",render:Kt},Xt=()=>{const o=[{icon:"fa fa-home",name:"home",label:"Inicio",to:"/dashboard",as:A},{icon:"fas fa-money-check-alt",label:"Prestamos",name:"prestamos",to:"/loans",as:A,isActiveFunction(s,r){return/loans|lender/.test(r)}},{icon:"fas fa-building",label:"Propiedades",to:"/units?filter[status]=RENTED",as:A,isActiveFunction(s,r){return/properties|units|tenant|owner/.test(r)}},{icon:"fas fa-calculator",label:"Contabilidad",to:"/invoices?filter[type]=expense|invoice",as:A,isActiveFunction(s,r){return/invoices/.test(r)},hidden:!0},{icon:"fas fa-chart-bar",label:"Reportes",to:"/statements",as:A,isActiveFunction(s,r){return/statements/.test(r)}}].filter(s=>!(s!=null&&s.hidden));let t=ae.cloneDeep(o);return t.splice(2,null,{name:"add",label:"Add",icon:Qt,action:"openTransactionModal"}),{appMenu:o,headerMenu:[{icon:"fas fa-question",label:"Ayuda y Soporte",to:"/settings/help",as:A},{icon:"fas fa-cogs",label:"Settings",name:"settings",to:"/settings",as:A}],mobileMenu:t}};function Yt(){const o=(t,n="subcategories",s="categoryOptions",r)=>{if(!t||!t.map)return;const _=ae.cloneDeep(t).map(i=>(i&&(i.type=n&&i[n]?"group":null,i.key=i.id,i.value=i.id,i.label=i.name,i[n]&&(i.children=o(i[n],!1,!1,r))),r?r(i):i));return s&&ve(s,_),_};return{categoryOptions:o}}const es={};function ts(o,t){return l(),m("button",I(o.$attrs,{class:"flex items-center justify-center w-16 h-16 text-3xl text-white bg-primary rounded-full shadow-md cursor-pointer"}),[C(o.$slots,"default")],16)}const ss=U(es,[["render",ts]]),ns={class:"flex items-center justify-center text-lg"},os={key:0,class:"block mt-1 text-xs"},as={__name:"MobileMenuItem",props:{item:{type:Object},isActive:{type:Boolean}},setup(o){const t=o,n=r=>typeof r!="string",s=y(()=>{const r=t.item.url||t.item.to;return window.location.href.includes(r)});return(r,f)=>{const _=J("ripple"),i=J("auto-animate");return o.item.to||o.item.url?Z((l(),v(e(A),{key:0,href:o.item.to||o.item.url,class:"inline-block h-full w-full transition-all overflow-hidden"},{default:p(()=>[a("div",{class:k(["flex flex-col items-center justify-center text-white h-full w-full",{"text-primary":e(s)}])},[a("div",ns,[n(o.item.icon)?(l(),v(le(o.item.icon),{key:0,class:"text-xl custom-icon"})):(l(),m("i",{key:1,class:k(["custom-icon",o.item.icon])},null,2))]),e(s)?(l(),m("span",os,S(o.item.label),1)):g("",!0)],2)]),_:1},8,["href"])),[[_],[i]]):g("",!0)}}},ls={class:"flex w-screen overflow z-50 fixed left-0 -bottom-1 h-14 bg-gray-900 rounded-t-2xl lg:hidden"},rs={class:"w-full h-full"},is={key:1,class:"relative mx-auto"},cs=O({__name:"MobileMenuBar",props:{menu:{type:Array}},setup(o){return(t,n)=>(l(),m("div",ls,[(l(!0),m(j,null,E(o.menu,s=>(l(),m("div",rs,[s.url||s.to?(l(),v(as,{key:0,item:s},null,8,["item"])):(l(),m("div",is,[c(ss,{class:"mx-auto -translate-y-7",onClick:r=>t.$emit("action",s.action)},{default:p(()=>[s.icon?(l(),v(le(s.icon),{key:0})):g("",!0)]),_:2},1032,["onClick"])]))]))),256))]))}}),ds=U(cs,[["__scopeId","data-v-4a94dad3"]]),us={class:"flex items-center justify-between h-16 pr-4 mx-auto sm:pr-6 lg:pr-8 text-body-1/80"},ms={class:"flex items-center"},ps={class:"flex justify-end h-16"},fs={class:"flex items-center sm:ml-6"},hs={class:"relative ml-3"},_s={key:0,class:"flex text-sm transition border-2 border-transparent rounded-full focus:outline-none focus:border-gray-300"},bs=["src","alt"],vs={key:1,class:"inline-flex rounded-md"},gs={type:"button",class:"inline-flex items-center px-3 py-2 text-sm font-medium leading-4 text-gray-500 transition bg-white border border-transparent rounded-md hover:text-gray-700 focus:outline-none"},xs=a("svg",{class:"ml-2 -mr-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),ys=a("div",{class:"block px-4 py-2 text-xs text-gray-400"}," Manage Account ",-1),ws=a("div",{class:"border-t border-gray-100"},null,-1),$s=["onSubmit"],ks={class:"flex items-center w-full shrink-0 px-7 text-gray-100"},Cs=a("span",{class:"text-xl font-bold"}," ICLoan ",-1),Ms={class:"pt-0 md:pt-8 mx-auto md:px-24"},Ws=O({__name:"AppLayout",props:{title:String,showBackButton:Boolean,isOnboarding:Boolean},setup(o){B(!1);const t=y(()=>{var d;return(d=document==null?void 0:document.location)==null?void 0:d.pathname}),n=ge("isMenuExpanded",!0),s=()=>{N.post(route("logout"))},{appMenu:r,headerMenu:f,mobileMenu:_}=Xt(),i=te().props,{categoryOptions:M}=Yt();M(i==null?void 0:i.categories,"sub_categories","categoryOptions"),M(i==null?void 0:i.accounts,"accounts","accountsOptions",d=>({...d,name:d.id})),D(()=>i.errors,d=>{Object.keys(d).forEach(h=>{ye({message:d[h],title:"Ha ocurrido un error",type:"error"})})},{deep:!0,immediate:!0});const T=d=>{};return(d,h)=>{const w=P("IconBack"),x=Ee;return l(),m("div",null,[c(e(xe),{title:o.title},null,8,["title"]),c(st),c(Me,{"is-expanded":e(n),"nav-class":[!d.$slots.header&&"border-b"]},{navigation:p(()=>[a("div",us,[a("div",ms,[o.showBackButton?(l(),v(Q,{key:0,onClick:h[0]||(h[0]=u=>d.$emit("back"))},{default:p(()=>[c(w)]),_:1})):g("",!0),a("h4",{class:k([[o.showBackButton?"lg:ml-2":"lg:ml-6"],"pl-4 md:pl-0 text-lg font-bold text-secondary"])},S(o.title),3)]),a("div",ps,[a("div",fs,[c(Zt,{class:"hidden md:block mr-2"}),c(Q,{class:"hidden md:flex px-1 items-center mr-4 ml-2"},{default:p(()=>[c(x,{class:"mr-2"}),V(" Nuevo ")]),_:1}),o.isOnboarding?g("",!0):(l(),v(ee,{key:0,class:"hidden mr-2 md:inline-block"})),o.isOnboarding?g("",!0):(l(),v(ee,{key:1,class:"hidden mr-2 md:inline-block"})),c(At,{notifications:e(i).unreadNotifications,onClick:h[1]||(h[1]=u=>d.$router.visit("/notifications"))},null,8,["notifications"]),a("div",hs,[c(re,{align:"right",width:"48"},{trigger:p(()=>[d.$page.props.jetstream.managesProfilePhotos?(l(),m("button",_s,[a("img",{class:"object-cover w-8 h-8 rounded-full",src:d.$page.props.user.profile_photo_url,alt:d.$page.props.user.name},null,8,bs)])):(l(),m("span",vs,[a("button",gs,[V(S(d.$page.props.user.name)+" ",1),xs])]))]),content:p(()=>[ys,c(F,{href:d.route("profile.show")},{default:p(()=>[V(" Profile ")]),_:1},8,["href"]),d.$page.props.jetstream.hasApiFeatures?(l(),v(F,{key:0,href:d.route("api-tokens.index")},{default:p(()=>[V(" API Tokens ")]),_:1},8,["href"])):g("",!0),ws,a("form",{onSubmit:se(s,["prevent"])},[c(F,{as:"button"},{default:p(()=>[V(" Log Out ")]),_:1})],40,$s)]),_:1})])])])])]),aside:p(()=>[c(e(we),{class:"border-none shadow-none text-bold bg-primary",title:"ICLoan","is-expanded":e(n),"onUpdate:isExpanded":h[2]||(h[2]=u=>n.value=u),menu:e(r),"header-menu":e(f),"current-path":e(t),"brand-container-class":"py-2","nav-container-class":"px-2 pt-1 space-y-2 border-t border-base-lvl-3/20","icon-class":"text-gray-100 transition hover:text-primary hover:bg-base-lvl-3/10","item-class":"px-5 py-[0.80rem] rounded-md font-bold text-gray-100 w-54 hover:text-primary-shade-1 hover:bg-base-lvl-3/10","item-active-class":"text-primary bg-base-lvl-3/10","is-expandable":""},{brand:p(()=>[a("h1",ks,[c(e(A),{href:d.route("dashboard"),class:"flex items-center space-x-2"},{default:p(()=>[c(Ue,{class:"block w-auto h-9"}),Cs]),_:1},8,["href"])])]),_:1},8,["is-expanded","menu","header-menu","current-path"])]),"main-section":p(()=>[d.$slots.header?(l(),m("header",{key:0,class:k([[e(n)?"lg:pr-56":"lg:pr-20"],"fixed z-30 w-full border-b bg-neutral base-deep-1"])},[C(d.$slots,"header")],2)):g("",!0),a("main",Ms,[C(d.$slots,"default")]),c(ds,{menu:e(_),onAction:T},null,8,["menu"])]),_:3},8,["is-expanded","nav-class"]),c(xt)])}}});export{ss as B,Ws as _,Ee as a};
