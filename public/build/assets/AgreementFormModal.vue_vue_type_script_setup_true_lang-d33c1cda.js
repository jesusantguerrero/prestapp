import{_ as x}from"./close-40de6817.js";import{z as w}from"./atmosphere-ui-83e2a306.js";import{_ as f}from"./AppButton.vue_vue_type_script_setup_true_lang-6731c3fc.js";import{l as v,P as y,r as C,c as $,w as s,u as o,$ as h,o as k,a as d,b as t,h as c,a0 as p,M as D}from"./app-494b6f90.js";import{_ as r}from"./AppFormField.vue_vue_type_style_index_0_lang-2eb2a149.js";const U={class:"border-b -mx-6 -mt-6 -mr-10 bg-secondary/80 text-white py-4 px-4 flex items-center justify-between"},j=d("h4",{class:"font-bold text-xl"},"Agregar acuerdo de pago",-1),z={class:"-mt-8"},B={class:"flex space-x-4"},E={class:"flex space-x-4 justify-between"},M={class:"space-x-2 flex justify-end dialog-footer"},S=v({__name:"AgreementFormModal",props:{modelValue:Boolean,loan:{type:Object,required:!0}},emits:["update:modelValue","saved"],setup(u,{emit:i}){const m=u,l=y({reason:"",due:new Date,date:new Date,amount:m.loan.amount_due}),g=C(!1);function V(){g.value=!0,l.post(`/loans/${m.loan.id}/agreements`,{onSuccess(){l.reset(),i("saved")},onError(n){D({type:"error",message:n.message??"Ha ocurrido un error"})}})}function b(n){i("update:modelValue",n)}return(n,e)=>{const _=x;return k(),$(o(h),{class:"rounded-lg overflow-hidden",width:"550","model-value":u.modelValue,"onUpdate:modelValue":e[7]||(e[7]=a=>n.$emit("update:modelValue",a))},{header:s(()=>[d("header",U,[j,d("button",{class:"hover:text-danger",onClick:e[0]||(e[0]=a=>n.close())},[t(_)])])]),footer:s(()=>[d("div",M,[t(f,{variant:"neutral",onClick:e[5]||(e[5]=a=>b(!1)),class:"bg-white border rounded-md text-gray"},{default:s(()=>[c(" Cancel ")]),_:1}),t(f,{onClick:e[6]||(e[6]=a=>V()),variant:"secondary",disabled:o(l).processing,loading:o(l).processing},{default:s(()=>[c(" Guardar ")]),_:1},8,["disabled","loading"])])]),default:s(()=>[d("div",z,[d("section",B,[t(r,{class:"w-full text-left",label:"Concepto",modelValue:o(l).reason,"onUpdate:modelValue":e[1]||(e[1]=a=>o(l).reason=a),rounded:""},null,8,["modelValue"]),t(r,{class:"w-full text-left",label:"Monto Recibido"},{default:s(()=>[t(o(w),{class:"form-control","number-format":"",modelValue:o(l).amount,"onUpdate:modelValue":e[2]||(e[2]=a=>o(l).amount=a),rounded:"",required:""},null,8,["modelValue"])]),_:1})]),d("section",E,[t(r,{label:"Fecha de creacion",class:"w-full"},{default:s(()=>[t(o(p),{modelValue:o(l).date,"onUpdate:modelValue":e[3]||(e[3]=a=>o(l).date=a),size:"large",class:"w-full",rounded:""},null,8,["modelValue"])]),_:1}),t(r,{label:"Fecha de limite",class:"w-full"},{default:s(()=>[t(o(p),{modelValue:o(l).due,"onUpdate:modelValue":e[4]||(e[4]=a=>o(l).due=a),size:"large",width:"100%",class:"w-full",rounded:""},null,8,["modelValue"])]),_:1})])])]),_:1},8,["model-value"])}}});export{S as _};
