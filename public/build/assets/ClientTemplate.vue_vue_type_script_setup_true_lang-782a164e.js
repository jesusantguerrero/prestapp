import{_ as V}from"./edit-3340e0a9.js";import{o as a,f as y,a as t,l as j,d as H,c as r,w as n,u as o,C as x,b as s,a1 as q,E as k,h as c,g as m,t as f,ac as z,j as F,y as G,n as A,F as J,k as C}from"./app-e7293397.js";import{t as v}from"./atmosphere-ui-86b7f8ed.js";import{_ as L}from"./AppLayout.vue_vue_type_style_index_0_lang-96d4f03f.js";import{_ as h}from"./AppButton.vue_vue_type_script_setup_true_lang-046c4e1c.js";import{_ as U}from"./AppSectionHeader.vue_vue_type_script_setup_true_lang-4f8015fe.js";import _ from"./EmptyAddTool-be692e14.js";import{_ as Z}from"./PropertySectionNav.vue_vue_type_script_setup_true_lang-516e104c.js";import{_ as K}from"./LoanSectionNav.vue_vue_type_script_setup_true_lang-6869f5ef.js";import{f as I}from"./formatMoney-b7ef7683.js";import{c as Q}from"./ClientForm.vue_vue_type_script_setup_true_lang-f1abe81a.js";import{a as M}from"./user-outline-dcfa7b13.js";const W={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},X=t("path",{fill:"currentColor",d:"M17 14h2v3h3v2h-3v3h-2v-3h-3v-2h3v-3M5 20v-8H2l10-9l10 9h-5v-1.81l-5-4.5l-5 4.5V18h5c0 .7.12 1.37.34 2H5Z"},null,-1),Y=[X];function ee(e,p){return a(),y("svg",W,Y)}const te={name:"mdi-home-plus-outline",render:ee},se={class:"p-5 mt-8"},ne={class:"flex space-x-2"},oe={class:"w-full px-5 pb-2 mb-5 space-y-5 text-gray-600 bg-white border-gray-200 shadow-md rounded-b-md"},ae={class:"flex items-center justify-between py-4"},le={class:"flex items-center space-x-2"},ce={class:"flex items-center space-x-2 cursor-pointer text-primary group"},ie={class:"group-hover:underline underline-offset-4"},re={class:"flex space-x-5"},de={key:0,class:"text-center"},ue={class:"flex items-center w-full text-center"},me={class:"mx-auto font-bold text-success"},fe=t("p",{class:"text-bold text-body-1"},"Propiedades",-1),he={class:"flex space-x-2"},pe={class:"flex-col md:flex-row flex w-full md:space-x-8 rounded-t-none border-t-none"},_e={class:"w-full md:w-9/12 space-y-4"},ye={key:0,class:"flex flex-col md:flex-row md:space-y-0 space-y-4 md:space-x-4"},xe={class:"w-full md:w-3/12 mt-4 md:mt-0 space-y-2"},ve={class:"px-5 py-10 text-gray-600 bg-gray-200 rounded-md shadow-md"},ge=t("div",{class:"header"},[t("h2",{class:"text-lg font-bold"},"Manejo de contacto"),t("small",null," Espacio para manejar los detalles de tu contacto y todas sus cosas.")],-1),be={class:"mt-4 space-y-2"},we={class:"flex space-x-4"},Re=j({__name:"ClientTemplate",props:{clients:null,currentTab:{default:"summary"},hideStatistics:{type:Boolean,default:!1},type:null,stats:null,contract:null,tabs:{default:{"":"Detalles",contracts:"Contratos",transactions:"Transacciones"}}},setup(e){const p=e,T=(d="")=>`/contacts/${p.clients.id}/${p.type}?section=${d}`,{openModal:B}=M("contact"),{openModal:N}=M("invoice"),P=H(()=>{const d={owners:"Propietarios",owner:"Propietarios",tenants:"Inquilino",lenders:"Cliente"};return d[p.type]??d.lenders});return(d,l)=>{const E=te,S=V,D=x("IconMarker"),R=x("IconPersonSafe"),O=x("IconCoins");return a(),r(L,{title:`${o(P)} / ${e.clients.fullName}`},{header:n(()=>[e.clients.is_lender?(a(),r(K,{key:1})):(a(),r(Z,{key:0}))]),default:n(()=>{var g,b,w,$;return[t("main",se,[s(U,{name:"Clientes",class:"px-5 border-2 border-white rounded-md rounded-b-none shadow-md",resource:e.clients,title:(g=e.clients)==null?void 0:g.fullName,"hide-action":""},q({_:2},[e.clients.is_tenant?{name:"actions",fn:n(()=>[t("section",ne,[e.contract?m("",!0):(a(),r(h,{key:0,onClick:l[0]||(l[0]=u=>o(k).visit(`/rents/create?client=${e.clients.id}`)),variant:"success",title:"Reembolsar deposito"},{default:n(()=>[s(E,{class:"mr-2"}),c(" Registrar mudanza ")]),_:1})),e.contract?(a(),r(h,{key:1,onClick:l[1]||(l[1]=u=>{var i;return o(k).visit(`/rents/${(i=e.contract)==null?void 0:i.id}/transactions/deposit-refund/create`)}),variant:"secondary",title:"Reembolsar deposito"},{default:n(()=>[c(" Ret. Deposito ")]),_:1})):m("",!0),e.contract?(a(),r(h,{key:2,onClick:l[2]||(l[2]=u=>{var i;return o(N)({data:{clientId:e.clients.id,rentId:(i=e.contract)==null?void 0:i.id,hideClientOptions:!0},isOpen:!0})}),variant:"secondary",title:"Registrar gasto"},{default:n(()=>[c(" Registrar Gasto ")]),_:1})):m("",!0),s(h,{title:"Editar Inquilino",onClick:l[3]||(l[3]=u=>o(B)({data:{formData:e.clients},isOpen:!0})),variant:"neutral"},{default:n(()=>[s(S)]),_:1})])]),key:"0"}:void 0]),1032,["resource","title"]),t("header",oe,[t("section",ae,[t("article",null,[t("p",le,[s(D),t("span",null,f(e.clients.dni),1)]),t("p",ce,[s(R),t("span",ie,f((b=e.clients.account)==null?void 0:b.name),1)])]),t("article",re,[e.clients.is_owner?(a(),y("section",de,[t("div",ue,[s(O,{class:"mr-2 text-yellow-600"}),t("span",me,f((w=e.clients.properties)==null?void 0:w.length),1)]),fe])):m("",!0),s(o(z),null,{default:n(()=>[c(f(e.clients.status),1)]),_:1})])]),t("div",he,[(a(!0),y(J,null,F(e.tabs,(u,i)=>(a(),r(o(G),{class:A(["px-2 py-1 transition rounded-md cursor-pointer bg-gray-50 hover:bg-gray-200",{"bg-gray-300":i==e.currentTab}]),key:i,href:T(i),replace:""},{default:n(()=>[c(f(u),1)]),_:2},1032,["class","href"]))),128))])]),t("section",pe,[t("article",_e,[e.hideStatistics?m("",!0):(a(),y("section",ye,[s(o(v),{class:"w-full bg-white border h-28 text-body-1",title:"Balance de Cuenta",value:o(I)(($=e.stats)==null?void 0:$.balance)},null,8,["value"]),s(o(v),{class:"w-full bg-white border h-28 text-body-1",title:"Balance de Pendiente",value:o(I)(0)},null,8,["value"]),s(o(v),{class:"w-full bg-white border h-28 text-body-1",title:"Dias de mora",value:0})])),C(d.$slots,"default")]),t("article",xe,[t("div",ve,[ge,t("div",be,[t("section",we,[e.clients.is_owner?(a(),r(h,{key:0,class:"w-full",onClick:l[4]||(l[4]=u=>o(Q).generateOwnerDistribution(e.clients.id))},{default:n(()=>[c(" Generar de propiedades ")]),_:1})):m("",!0)]),C(d.$slots,"options",{},()=>[s(_,null,{default:n(()=>[c(" Personas de contacto ")]),_:1}),s(_,null,{default:n(()=>[c(" Imagenes ")]),_:1}),s(_,null,{default:n(()=>[c(" Notas ")]),_:1}),s(_,null,{default:n(()=>[c(" Informacion de entrada ")]),_:1})])])])])])])]}),_:3},8,["title"])}}});export{Re as _};
