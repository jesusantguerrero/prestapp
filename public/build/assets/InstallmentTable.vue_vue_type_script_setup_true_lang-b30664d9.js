import{_}from"./sharp-payment-ccd5d474.js";import{_ as f}from"./AppButton.vue_vue_type_script_setup_true_lang-89aa5f09.js";import{_ as h}from"./BaseTable.vue_vue_type_style_index_0_lang-d3c40c15.js";import{u as x}from"./usePaymentModal-23c75da0.js";import{f as y}from"./index-8305cd09.js";import{f as n}from"./formatMoney-b7ef7683.js";import{U as t,k as b,c,w as r,u as g,o as i,a as C,b as $,h as v,g as I}from"./app-b9464164.js";const P=[{name:"due_date",minWidth:100,label:"Fecha",render(e){return y(e.due_date)}},{name:"amount",label:"Monto",minWidth:100,render(e){return n(e.amount)}},{name:"capital",label:"Capital",minWidth:100,render(e){return n(e.principal)}},{name:"interest",label:"InterÃ©s",minWidth:100,render(e){return t("div",{class:"text-right"},[t("span",{class:"text-primary"},n(e.interest))," + ",t("span",{class:"text-error"},n(e.late_fee))])}},{name:"balance",label:"Balance pendiente",width:200,headerClass:"text-right",class:"text-right",render(e){return t("div",{class:"flex space-x-4 w-full justify-end"},[t("span",e.payment_status),t("span",{class:"text-right font-bold"},n(e.final_balance))])}},{name:"actions",label:"Acciones"}],k={class:"flex space-x-2 justify-end"},F=b({__name:"InstallmentTable",props:{installments:null,loanId:null,hiddenCols:null},emits:["pay"],setup(e,{emit:d}){const m=e,{openModal:u}=x(),p=a=>{const s={...a,amount:parseFloat(a.amount_due)||a.amount,id:void 0,installment_id:a.id},l=`Pago prestamo ${a.loan_id} (${a.number}/${m.installments.length})`;u({data:{title:"Pagar prestamo",endpoint:`/loans/${a.loan_id}/installments/${a.id}/pay`,due:s.amount,account_id:s.account_id,payment:s,defaultConcept:l,accountsEndpoint:"/loan-accounts"}}),d("pay",a)};return(a,s)=>{const l=_;return i(),c(h,{cols:g(P),"table-data":e.installments,"hidden-cols":e.hiddenCols},{actions:r(({scope:{row:o}})=>[C("div",k,[(o==null?void 0:o.payment_status)!=="PAID"||e.loanId?(i(),c(f,{key:0,onClick:B=>p(o),variant:"inverse-secondary",class:"flex items-center"},{default:r(()=>[$(l,{class:"mr-2"}),v(" Pagar ")]),_:2},1032,["onClick"])):I("",!0)])]),_:1},8,["cols","table-data","hidden-cols"])}}});export{F as _};
