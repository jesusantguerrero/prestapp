import{o as i,f as y,a as e,k as V,d as M,r as b,c as _,w as l,u as r,C as N,b as o,E as p,h as a,t as c,ab as F,j,F as D,g as $}from"./app-b9464164.js";import{i as g}from"./atmosphere-ui-8913659c.js";import{_ as E}from"./Modal.vue_vue_type_script_setup_true_lang-74361783.js";import{_ as T}from"./AppLayout.vue_vue_type_script_setup_true_lang-0afa9cc5.js";import"./AppLayout.vue_vue_type_style_index_0_lang-0d2503f0.js";import{_ as C}from"./AppButton.vue_vue_type_script_setup_true_lang-89aa5f09.js";import{_ as z}from"./AppSectionHeader-611c7f77.js";import{I as U}from"./IconMarker-c773280e.js";import{I as L}from"./IconCoins-55131ff2.js";import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";import{_ as A}from"./PropertySectionNav.vue_vue_type_script_setup_true_lang-e2241f15.js";import G from"./ContractCard-18614c8f.js";import v from"./EmptyAddTool-4fec7d30.js";import H from"./UnitForm-b3b6558d.js";import{f as h}from"./formatMoney-b7ef7683.js";import{c as J}from"./clientInteractions-6c951eed.js";import"./PaymentFormModal.vue_vue_type_script_setup_true_lang-a1e2938d.js";import"./PaymentGrid-88a06cd9.js";/* empty css                                                                    */import"./mathHelper-44355b55.js";import"./exact-math.node-e9867222.js";import"./constants-0a903a05.js";import"./AccountSelect.vue_vue_type_script_setup_true_lang-d3f16147.js";import"./BaseSelect.vue_vue_type_script_setup_true_lang-89ccd5ed.js";/* empty css                                                   */import"./index-c251e33c.js";import"./index-81f33ca2.js";import"./usePaymentModal-23c75da0.js";import"./ClientFormModal.vue_vue_type_script_setup_true_lang-3f2645eb.js";import"./close-45140fa9.js";import"./ClientForm.vue_vue_type_script_setup_true_lang-d4d45920.js";import"./SectionNav.vue_vue_type_script_setup_true_lang-b284cd8c.js";import"./AppSearch.vue_vue_type_script_setup_true_lang-b788b25f.js";import"./AppSearchFilters-93f60e1e.js";import"./menus-2c7b33a0.js";import"./index-8305cd09.js";import"./constants-ca1255a1.js";const R={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Z=e("path",{fill:"currentColor",d:"M10 20v-6h4v6h5v-8h3L12 3L2 12h3v8h5Z"},null,-1),q=[Z];function K(s,u){return i(),y("svg",R,q)}const Q={name:"mdi-home",render:K},W={name:"Fa6SolidUserShield"},X={width:"1.25em",height:"1em",viewBox:"0 0 640 512"},Y=e("path",{fill:"currentColor",d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512h388.6c1.8 0 3.5-.2 5.3-.5c-76.3-55.1-99.8-141-103.1-200.2c-16.1-4.8-33.1-7.3-50.7-7.3h-91.5zm308.8-78.3l-120 48C358 277.4 352 286.2 352 296c0 63.3 25.9 168.8 134.8 214.2c5.9 2.5 12.6 2.5 18.5 0C614.1 464.8 640 359.3 640 296c0-9.8-6-18.6-15.1-22.3l-120-48c-5.7-2.3-12.1-2.3-17.8 0zM591.4 312c-3.9 50.7-27.2 116.7-95.4 149.7V273.8l95.4 38.2z"},null,-1),ee=[Y];function te(s,u,w,x,d,k){return i(),y("svg",X,ee)}const oe=O(W,[["render",te]]),se={class:"p-5 mt-8"},re={class:"w-full px-5 pb-2 mb-5 space-y-5 text-gray-600 bg-white border-gray-200 shadow-md rounded-b-md"},ne={class:"flex items-center justify-between py-4"},le={class:"flex items-center space-x-2"},ae={class:"group-hover:underline underline-offset-4"},ie={class:"flex space-x-5"},de={class:"flex items-center"},ce={class:"font-bold text-success"},me=e("p",{class:"text-bold text-body-1"},"Renta Mensual",-1),pe={class:"flex flex-col md:flex-row w-full space-x-8 rounded-t-none border-t-none"},ue={class:"w-full md:w-9/12 space-y-4"},fe={class:"flex space-x-4"},_e={class:"space-y-4 shadow-md bg-base-lvl-3"},ve={class:"flex w-full rounded-md px-4 py-2 justify-between"},he=e("p",null,null,-1),ye={class:"w-3/12 space-y-2 rounded-md shadow-md"},we={class:"px-5 py-10 text-gray-600 bg-gray-200 rounded-md"},xe=e("div",{class:"header"},[e("h2",{class:"text-lg font-bold"},"Manejo de Propiedad"),e("small",null," Private place for you and your internal team to manage this project")],-1),be={class:"mt-4 space-y-2"},$e={class:"flex space-x-4"},lt=V({__name:"Show",props:{properties:null,currentTab:{default:"summary"}},setup(s){const u=s,w=M(()=>u.properties.address.split(",")[0]),x=b(!1),d=b(null),k=M(()=>d.value&&`Pago ${u.properties.id} pago #${d.value.installment_id}`),P=()=>{p.reload()},m=b(!1),I=()=>{m.value=!0};return(f,t)=>{const S=Q,B=N("PaymentFormModal");return i(),_(T,{title:`Propiedades / ${r(w)}`},{header:l(()=>[o(A,null,{actions:l(()=>[o(C,{onClick:t[0]||(t[0]=n=>r(p).visit(f.route("properties.edit",s.properties))),variant:"inverse"},{default:l(()=>[a(" Editar ")]),_:1}),o(C,{onClick:t[1]||(t[1]=n=>r(p).visit(f.route("rents.create",{propertyId:s.properties.id}))),variant:"inverse"},{default:l(()=>[a(" Nuevo Contrato ")]),_:1})]),_:1})]),default:l(()=>[e("main",se,[o(z,{name:"",class:"px-5 border-2 border-white rounded-md rounded-b-none shadow-md",resource:s.properties,title:r(w),onCreate:t[2]||(t[2]=n=>r(p).visit("/properties/create")),"hide-action":""},null,8,["resource","title"]),e("header",re,[e("section",ne,[e("article",null,[e("p",le,[o(U),e("span",null,c(s.properties.address),1)]),e("p",{class:"flex items-center space-x-2 cursor-pointer text-primary group",onClick:t[3]||(t[3]=n=>r(p).visit(f.route("clients.show",s.properties.owner)))},[o(oe),e("span",ae,c(s.properties.owner.fullName),1)])]),e("article",ie,[e("section",null,[e("div",de,[o(L,{class:"mr-2 text-yellow-600"}),e("span",ce,c(r(h)(s.properties.price)),1)]),me]),o(r(F),null,{default:l(()=>[a(c(s.properties.status),1)]),_:1})])])]),e("section",pe,[e("article",ue,[e("section",fe,[o(r(g),{class:"w-full bg-white border h-28 text-body-1",title:"Balance de Cuenta",value:r(h)(0)},null,8,["value"]),o(r(g),{class:"w-full bg-white border h-28 text-body-1",title:"Balance de Pendiente",value:r(h)(0)},null,8,["value"]),o(r(g),{class:"w-full bg-white border h-28 text-body-1",title:"Dias de mora",value:0})]),e("section",_e,[(i(!0),y(D,null,j(s.properties.units,n=>(i(),y("div",ve,[e("h4",null,[o(S),a(" "+c(n.name||"Sin nombre")+" ",1),e("p",null,c(r(h)(n.price)),1)]),e("div",null,[a(c(n.status)+" ",1),he])]))),256))]),s.properties.contract?(i(),_(G,{key:0,class:"p-4 border rounded-md shadow-md bg-base-lvl-3",contract:s.properties.contract},null,8,["contract"])):$("",!0)]),e("article",ye,[e("div",we,[xe,e("div",be,[e("section",$e,[o(C,{class:"w-full",onClick:t[4]||(t[4]=n=>r(J).generateOwnerDistribution(s.properties.owner_id))},{default:l(()=>[a(" Generar Pago a DueÃ±o ")]),_:1})]),o(v,null,{default:l(()=>[a(" Notes ")]),_:1}),o(v,null,{default:l(()=>[a(" Imagenes ")]),_:1}),o(v,null,{default:l(()=>[a(" Documentos ")]),_:1}),o(v,{onClick:t[5]||(t[5]=n=>I())},{default:l(()=>[a(" Agregar unidad ")]),_:1})])])])]),d.value?(i(),_(B,{key:0,modelValue:x.value,"onUpdate:modelValue":t[6]||(t[6]=n=>x.value=n),payment:d.value,endpoint:`/loans/${s.properties.id}/installments/${d.value.installment_id}/pay`,due:d.value.amount,"default-concept":r(k),onSaved:t[7]||(t[7]=n=>P())},null,8,["modelValue","payment","endpoint","due","default-concept"])):$("",!0),m.value?(i(),_(E,{key:1,show:m.value,onClose:t[9]||(t[9]=n=>m.value=!1)},{default:l(()=>[o(H,{onClose:t[8]||(t[8]=n=>m.value=!1),property:s.properties},null,8,["property"])]),_:1},8,["show"])):$("",!0)])]),_:1},8,["title"])}}});export{lt as default};
