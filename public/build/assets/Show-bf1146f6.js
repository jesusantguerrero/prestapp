import{_ as E}from"./file-b6d9b4b3.js";import{_ as T}from"./edit-c2d315cc.js";import{l as S,d as P,r as u,c as f,w as n,u as a,C as D,o as d,b as t,a as e,E as p,h as l,t as c,y as U,ac as A,f as I,j as L,F as O,g as x}from"./app-494b6f90.js";import{t as b}from"./atmosphere-ui-83e2a306.js";import{_ as G}from"./Modal.vue_vue_type_script_setup_true_lang-ca2f799a.js";import{_ as J}from"./AppLayout.vue_vue_type_style_index_0_lang-3aae0800.js";import{_}from"./AppButton.vue_vue_type_script_setup_true_lang-6731c3fc.js";import{_ as R}from"./AppSectionHeader.vue_vue_type_script_setup_true_lang-5e6dc640.js";import{I as q}from"./IconMarker-d6248750.js";import{I as z}from"./IconCoins-9b99ca67.js";import{I as H}from"./IconPersonSafe-91120459.js";import{_ as K}from"./PropertySectionNav.vue_vue_type_script_setup_true_lang-d424aeb5.js";import{_ as Q}from"./ContractCard.vue_vue_type_script_setup_true_lang-f3845b5e.js";import v from"./EmptyAddTool-1f60e564.js";import{_ as W}from"./UnitFormModal.vue_vue_type_script_setup_true_lang-b375da2b.js";import{f as y}from"./formatMoney-b7ef7683.js";import"./ClientForm.vue_vue_type_script_setup_true_lang-7ced5882.js";import{_ as X}from"./UnitTitle.vue_vue_type_script_setup_true_lang-ad071be3.js";import{_ as Y}from"./UnitTag.vue_vue_type_script_setup_true_lang-b8ff0b68.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./PaymentFormModal.vue_vue_type_script_setup_true_lang-2fd658ef.js";import"./close-40de6817.js";import"./PaymentGrid-a2bc0bdb.js";import"./mathHelper-d6bc48cd.js";import"./exact-math.node-f7579f9b.js";import"./constants-0a903a05.js";import"./AccountSelect.vue_vue_type_script_setup_true_lang-93902e28.js";import"./BaseSelect.vue_vue_type_style_index_1_lang-7b13fe11.js";import"./AppFormField.vue_vue_type_style_index_0_lang-2eb2a149.js";import"./index-c251e33c.js";import"./index-81f33ca2.js";import"./InvoiceFormModal.vue_vue_type_script_setup_true_lang-d4cb9813.js";import"./user-outline-c87acd59.js";import"./ClientFormModal.vue_vue_type_script_setup_true_lang-593db1f8.js";import"./usePaymentModal-f96f741a.js";import"./FastAccessOptions.vue_vue_type_script_setup_true_lang-ff3d4599.js";import"./menus-f4817d1f.js";import"./SectionNav.vue_vue_type_script_setup_true_lang-3cbc58a3.js";import"./index-9dc2d84c.js";import"./index-3624ec38.js";import"./UnitForm.vue_vue_type_script_setup_true_lang-00246753.js";import"./sharp-photo-size-select-small-cad54262.js";import"./chevron-right-182a2a80.js";import"./constants-79e2e68b.js";const Z={class:"p-5 mt-8"},ee={class:"flex space-x-2"},te={class:"w-full px-5 pb-2 mb-5 space-y-5 text-gray-600 bg-white border-gray-200 shadow-md rounded-b-md"},se={class:"flex items-center justify-between py-4"},oe={class:"flex items-center space-x-2"},ae={class:"group-hover:underline underline-offset-4"},re={class:"flex space-x-5"},ne={class:"flex items-center"},le={class:"font-bold text-success"},ie=e("p",{class:"text-bold text-body-1"},"Renta Mensual",-1),de={class:"flex flex-col md:flex-row w-full space-x-8 rounded-t-none border-t-none"},me={class:"w-full md:w-9/12 space-y-4"},pe={class:"flex space-x-4"},ce={class:"space-y-4 shadow-md bg-base-lvl-3"},ue={class:"flex w-full rounded-md px-4 py-2 justify-between"},fe={class:"flex items-center space-x-2"},_e={class:"flex"},ve={class:"w-3/12 space-y-2 rounded-md shadow-md"},ye={class:"px-5 py-10 text-gray-600 bg-gray-200 rounded-md"},we=e("div",{class:"header"},[e("h2",{class:"text-lg font-bold"},"Manejo de Propiedad"),e("small",null," Private place for you and your internal team to manage this project")],-1),xe={class:"mt-4 space-y-2"},be={class:"flex space-x-4"},pt=S({__name:"Show",props:{properties:null,currentTab:{default:"summary"}},setup(o){const h=o,g=P(()=>h.properties.address.split(",")[0]),$=u(!1),i=u(null),M=P(()=>i.value&&`Pago ${h.properties.id} pago #${i.value.installment_id}`),B=()=>{p.reload()},m=u(!1),N=()=>{m.value=!0},C=u(!1);return(w,s)=>{const V=T,F=E,j=D("PaymentFormModal");return d(),f(J,{title:`Propiedades / ${a(g)}`},{header:n(()=>[t(K)]),default:n(()=>[e("main",Z,[t(R,{name:"",class:"px-5 border-2 border-white rounded-md rounded-b-none shadow-md",resource:o.properties,title:a(g),onCreate:s[2]||(s[2]=r=>a(p).visit("/properties/create")),"hide-action":""},{actions:n(()=>[e("section",ee,[t(_,{onClick:s[0]||(s[0]=r=>a(p).visit(w.route("properties.edit",o.properties))),variant:"neutral"},{default:n(()=>[t(V)]),_:1}),t(_,{onClick:s[1]||(s[1]=r=>a(p).visit(w.route("rents.create",{propertyId:o.properties.id}))),variant:"secondary"},{default:n(()=>[l(" Nuevo Contrato ")]),_:1})])]),_:1},8,["resource","title"]),e("header",te,[e("section",se,[e("article",null,[e("p",oe,[t(q),e("span",null,c(o.properties.address),1)]),t(a(U),{class:"flex items-center space-x-2 cursor-pointer text-primary group",href:`/contacts/${o.properties.owner_id}/owners`},{default:n(()=>[t(H),e("span",ae,c(o.properties.owner.fullName),1)]),_:1},8,["href"])]),e("article",re,[e("section",null,[e("div",ne,[t(z,{class:"mr-2 text-yellow-600"}),e("span",le,c(a(y)(o.properties.price)),1)]),ie]),t(a(A),null,{default:n(()=>[l(c(o.properties.status),1)]),_:1})])])]),e("section",de,[e("article",me,[e("section",pe,[t(a(b),{class:"w-full bg-white border h-28 text-body-1",title:"Balance de Cuenta",value:a(y)(0)},null,8,["value"]),t(a(b),{class:"w-full bg-white border h-28 text-body-1",title:"Balance de Pendiente",value:a(y)(0)},null,8,["value"]),t(a(b),{class:"w-full bg-white border h-28 text-body-1",title:"Dias de mora",value:0})]),e("section",ce,[(d(!0),I(O,null,L(o.properties.units,r=>{var k;return d(),I("div",ue,[e("h4",null,[t(X,{title:r.name,"owner-name":o.properties.owner.display_name,"tenant-name":(k=r.contract)==null?void 0:k.client.display_name,price:a(y)(r.price)},null,8,["title","owner-name","tenant-name","price"])]),e("div",fe,[t(Y,{status:r.status},null,8,["status"]),e("div",_e,[t(_,{variant:"neutral"},{default:n(()=>[t(F)]),_:1})])])])}),256))]),o.properties.contract?(d(),f(Q,{key:0,class:"p-4 border rounded-md shadow-md bg-base-lvl-3",contract:o.properties.contract},null,8,["contract"])):x("",!0)]),e("article",ve,[e("div",ye,[we,e("div",xe,[e("section",be,[t(_,{class:"w-full",variant:"secondary",disabled:C.value,processing:C.value,onClick:s[3]||(s[3]=r=>a(p).visit(`/owners/draws?filters[owner]=${o.properties.owner_id}`))},{default:n(()=>[l(" Generar Pago a "+c(o.properties.owner.names),1)]),_:1},8,["disabled","processing"])]),t(v,null,{default:n(()=>[l(" Notes ")]),_:1}),t(v,null,{default:n(()=>[l(" Imagenes ")]),_:1}),t(v,null,{default:n(()=>[l(" Documentos ")]),_:1}),t(v,{onClick:s[4]||(s[4]=r=>N())},{default:n(()=>[l(" Agregar unidad ")]),_:1})])])])]),i.value?(d(),f(j,{key:0,modelValue:$.value,"onUpdate:modelValue":s[5]||(s[5]=r=>$.value=r),payment:i.value,endpoint:`/loans/${o.properties.id}/installments/${i.value.installment_id}/pay`,due:i.value.amount,"default-concept":a(M),onSaved:s[6]||(s[6]=r=>B())},null,8,["modelValue","payment","endpoint","due","default-concept"])):x("",!0),m.value?(d(),f(G,{key:1,show:m.value,onClose:s[8]||(s[8]=r=>m.value=!1)},{default:n(()=>[t(W,{onClose:s[7]||(s[7]=r=>m.value=!1),property:o.properties},null,8,["property"])]),_:1},8,["show"])):x("",!0)])]),_:1},8,["title"])}}});export{pt as default};
