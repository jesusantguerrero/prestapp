import{_ as g}from"./WelcomeWidget.vue_vue_type_script_setup_true_lang-e3b9f9b9.js";import{g as b}from"./index-8305cd09.js";import{_}from"./InstallmentTable.vue_vue_type_script_setup_true_lang-b30664d9.js";import{k as v,r as d,d as x,p as h,c as y,w as i,o,a as R,f as u,j as k,n as C,t as D,F as $,s as B,b as F}from"./app-b9464164.js";const P={class:"flex text-xs space-x-2 text-body-1"},w=["onClick"],E=v({__name:"NextPaymentsWidget",props:{ranges:{default:[{label:"1D",value:[0,1]},{label:"7D",value:[0,7]},{label:"30D",value:[0,30]},{label:"90D",value:[0,90]}]},title:{default:"Proximas coutas"},method:{default:"forward"},endpoint:{default:"/api/repayments?filter[payment_status]=~paid&"},dateField:{default:"due_date"},defaultRange:null},setup(t){const a=t,s=d(a.defaultRange??"1D"),m=e=>s.value==e,f=x(()=>a.ranges.find(e=>e.label===s.value).value),l=d([]),r=()=>{const e=b(a.dateField,f.value,a.method);axios.get(`${a.endpoint}${e}`).then(({data:c})=>{l.value=c.data})},p=e=>{s.value=e,r()};return h(()=>{r()}),(e,c)=>(o(),y(g,{class:"mt-4",message:t.title},{actions:i(()=>[R("section",P,[(o(!0),u($,null,k(t.ranges,n=>(o(),u("span",{role:"button",class:C(["rounded-3xl bg-base-lvl-2 py-1 px-4",m(n.label)&&"text-primary font-bold bg-primary/10"]),onClick:N=>p(n.label)},D(n.label),11,w))),256))])]),content:i(()=>[B(e.$slots,"content",{list:l.value},()=>[F(_,{installments:l.value,"hidden-cols":["balance"]},null,8,["installments"])])]),_:3},8,["message"]))}});export{E as _};
