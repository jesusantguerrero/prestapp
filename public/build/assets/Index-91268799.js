import{O as a,a7 as h,a8 as v,k as $,r as C,d as E,c as k,w as o,o as A,b as l,u as c,E as f,h as u,a as x,y as I}from"./app-fef21123.js";import{_ as S}from"./AppLayout.vue_vue_type_script_setup_true_lang-dc441d96.js";import"./AppLayout.vue_vue_type_style_index_0_lang-cff2a039.js";import{_ as T}from"./BaseTable.vue_vue_type_style_index_0_lang-6dbbce48.js";import{_}from"./AppButton.vue_vue_type_script_setup_true_lang-78bec775.js";import{_ as V}from"./PropertySectionNav.vue_vue_type_script_setup_true_lang-f16b6b1a.js";import{_ as D}from"./BaseSelect.vue_vue_type_script_setup_true_lang-c6d5c1da.js";/* empty css                                                   */import{a as N,g as q}from"./constants-0a903a05.js";import{I as B}from"./IconMarker-a0d62ca8.js";import{d as L}from"./index-901d5032.js";import{a as R}from"./index-af4464e9.js";import{r as M,a as j}from"./index-81f33ca2.js";import"./atmosphere-ui-43ec926d.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./PaymentFormModal.vue_vue_type_script_setup_true_lang-3ea39cd1.js";import"./PaymentGrid-926a1204.js";/* empty css                                                                    */import"./mathHelper-02ca0ff8.js";import"./exact-math.node-8398c915.js";import"./AccountSelect.vue_vue_type_script_setup_true_lang-f3e358be.js";import"./formatMoney-b7ef7683.js";import"./index-c251e33c.js";import"./Modal.vue_vue_type_script_setup_true_lang-05fdc6cc.js";import"./usePaymentModal-a07a875e.js";import"./ClientFormModal.vue_vue_type_script_setup_true_lang-396b1c58.js";import"./close-ce456e3e.js";import"./SectionNav.vue_vue_type_script_setup_true_lang-5401ee99.js";import"./clientInteractions-23fb4c77.js";import"./AppSearch.vue_vue_type_script_setup_true_lang-7eed6d28.js";import"./AppSearchFilters-54a857cd.js";import"./customCell-775a8e84.js";import"./menus-be25f72f.js";function w(t,s){M(2,arguments);var n=j(s);return R(t,-n)}const J=[{name:"client",label:"Inquilino",class:"text-center",headerClass:"text-center",minWidth:200,render(t){var m,p,d,i,e;const s=((m=t.client)==null?void 0:m.names)+" "+((p=t.client)==null?void 0:p.lastnames),n=((d=t.client)==null?void 0:d.names[0])+((i=t.client)==null?void 0:i.lastnames[0]);return a("div",{class:"px-4"},[a("div",{class:"flex items-center space-x-2"},[a(h,{shape:"circle"},n),a("span",s)]),a("div",{class:"flex items-center text-primary font-bold"},[a(B,{class:"text-primary font-bold"}),a("span",(e=t.property)==null?void 0:e.short_name)])])}},{name:"id",label:"Terminos Contrato",class:"text-center",headerClass:"text-center",render(t){var s;return a("div",[a("p",`RENT-${(s=t.id)==null?void 0:s.toString().padStart(6,"0")}`),a("p",t.commission+" %")])}},{name:"total",class:"text-center",type:"money",headerClass:"text-center",label:"Total a pagar"},{name:"status",label:"Estado",render(t){return a(v,{type:q(t.status)},N(t.status))}},{name:"actions",label:"Acciones"}],O={class:"py-16"},U={class:"flex"},$t=$({__name:"Index",props:{loans:null},setup(t){const s=t,n=C({}),m=[{text:"Este mes",range:[30,0]},{text:"3 Meses",range:[90,0]},{text:"Last 6 months",range:[180,0]}],p=(i,e)=>{const r=new Date,g=e.map(y=>L(w(r,y))).join("~"),b=`filter[${i}]=${g}`;f.get(`/rents?${b}`,{},{preserveState:!0})},d=E(()=>Array.isArray(s.loans)?s.loans:s.loans.data);return(i,e)=>(A(),k(S,{title:"Contratos de alquiler"},{header:o(()=>[l(V,null,{actions:o(()=>[l(D,{placeholder:"Expira en",options:m,modelValue:n.value.end_date,"onUpdate:modelValue":[e[0]||(e[0]=r=>n.value.end_date=r),e[1]||(e[1]=r=>p("end_date",r.range))],label:"text","track-by":"text"},null,8,["modelValue"]),l(_,{onClick:e[2]||(e[2]=r=>c(f).visit(i.route("rents.create")))},{default:o(()=>[u("Agregar Contrato")]),_:1})]),_:1})]),default:o(()=>[x("main",O,[l(T,{"table-data":c(d),cols:c(J),class:"bg-white rounded-md text-body-1"},{actions:o(({scope:{row:r}})=>[x("div",U,[l(c(I),{class:"relative inline-block px-5 py-2 overflow-hidden font-bold text-white transition border rounded-md focus:outline-none hover:bg-opacity-80 min-w-max bg-primary",href:`/rents/${r.id}`},{default:o(()=>[u(" Edit")]),_:2},1032,["href"]),l(_,null,{default:o(()=>[u(" Delete")]),_:1})])]),_:1},8,["table-data","cols"])])]),_:1}))}});export{$t as default};
