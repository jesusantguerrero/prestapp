import{_ as F}from"./file-8bfe57ae.js";import{l as j,d as k,r as w,c as u,w as n,u as r,C as D,o as d,b as t,E as p,h as l,a as e,t as f,ac as E,f as P,j as T,F as S,g as x}from"./app-e7293397.js";import{t as b}from"./atmosphere-ui-86b7f8ed.js";import{_ as O}from"./Modal.vue_vue_type_script_setup_true_lang-53b90f8d.js";import{_ as U}from"./AppLayout.vue_vue_type_style_index_0_lang-96d4f03f.js";import{_ as v}from"./AppButton.vue_vue_type_script_setup_true_lang-046c4e1c.js";import{_ as A}from"./AppSectionHeader.vue_vue_type_script_setup_true_lang-4f8015fe.js";import{I as G}from"./IconMarker-562faee5.js";import{I as J}from"./IconCoins-68b11b4b.js";import{I as L}from"./IconPersonSafe-7fa958bb.js";import{_ as R}from"./PropertySectionNav.vue_vue_type_script_setup_true_lang-516e104c.js";import{_ as q}from"./UnitTitle.vue_vue_type_script_setup_true_lang-c25f773c.js";import{_ as z}from"./UnitTag.vue_vue_type_script_setup_true_lang-5b0bf4f3.js";import _ from"./EmptyAddTool-be692e14.js";import{_ as H}from"./ContractCard.vue_vue_type_script_setup_true_lang-f623b58b.js";import{_ as K}from"./UnitFormModal.vue_vue_type_script_setup_true_lang-ec9017e0.js";import{f as y}from"./formatMoney-b7ef7683.js";import{c as Q}from"./ClientForm.vue_vue_type_script_setup_true_lang-f1abe81a.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./PaymentFormModal.vue_vue_type_script_setup_true_lang-dd64f8b8.js";import"./close-f1b40d6b.js";import"./PaymentGrid-6607ced0.js";import"./mathHelper-95aa3a2b.js";import"./exact-math.node-9a256fc0.js";import"./constants-0a903a05.js";import"./AccountSelect.vue_vue_type_script_setup_true_lang-cb870c82.js";import"./BaseSelect.vue_vue_type_style_index_1_lang-cbd59430.js";import"./AppFormField.vue_vue_type_style_index_0_lang-d6998fd8.js";import"./index-c251e33c.js";import"./index-81f33ca2.js";import"./InvoiceFormModal.vue_vue_type_script_setup_true_lang-88bfc502.js";import"./user-outline-dcfa7b13.js";import"./ClientFormModal.vue_vue_type_script_setup_true_lang-d0093e27.js";import"./usePaymentModal-ad844d5c.js";import"./FastAccessOptions.vue_vue_type_script_setup_true_lang-1fc13d45.js";import"./menus-f4817d1f.js";import"./SectionNav.vue_vue_type_script_setup_true_lang-e0dfad64.js";import"./chevron-right-5280f715.js";import"./constants-fbb1b618.js";import"./index-9dc2d84c.js";import"./index-3624ec38.js";import"./UnitForm.vue_vue_type_script_setup_true_lang-da9688a8.js";import"./sharp-photo-size-select-small-adcc5618.js";import"./constants-22f9a1fe.js";const W={class:"p-5 mt-8"},X={class:"w-full px-5 pb-2 mb-5 space-y-5 text-gray-600 bg-white border-gray-200 shadow-md rounded-b-md"},Y={class:"flex items-center justify-between py-4"},Z={class:"flex items-center space-x-2"},ee={class:"group-hover:underline underline-offset-4"},te={class:"flex space-x-5"},oe={class:"flex items-center"},se={class:"font-bold text-success"},re=e("p",{class:"text-bold text-body-1"},"Renta Mensual",-1),ae={class:"flex flex-col md:flex-row w-full space-x-8 rounded-t-none border-t-none"},ne={class:"w-full md:w-9/12 space-y-4"},le={class:"flex space-x-4"},ie={class:"space-y-4 shadow-md bg-base-lvl-3"},de={class:"flex w-full rounded-md px-4 py-2 justify-between"},me={class:"flex items-center space-x-2"},pe={class:"flex"},ce={class:"w-3/12 space-y-2 rounded-md shadow-md"},ue={class:"px-5 py-10 text-gray-600 bg-gray-200 rounded-md"},fe=e("div",{class:"header"},[e("h2",{class:"text-lg font-bold"},"Manejo de Propiedad"),e("small",null," Private place for you and your internal team to manage this project")],-1),ve={class:"mt-4 space-y-2"},_e={class:"flex space-x-4"},lt=j({__name:"Show",props:{properties:null,currentTab:{default:"summary"}},setup(s){const h=s,g=k(()=>h.properties.address.split(",")[0]),$=w(!1),i=w(null),I=k(()=>i.value&&`Pago ${h.properties.id} pago #${i.value.installment_id}`),M=()=>{p.reload()},m=w(!1),B=()=>{m.value=!0};return(c,o)=>{const N=F,V=D("PaymentFormModal");return d(),u(U,{title:`Propiedades / ${r(g)}`},{header:n(()=>[t(R,null,{actions:n(()=>[t(v,{onClick:o[0]||(o[0]=a=>r(p).visit(c.route("properties.edit",s.properties))),variant:"inverse"},{default:n(()=>[l(" Editar ")]),_:1}),t(v,{onClick:o[1]||(o[1]=a=>r(p).visit(c.route("rents.create",{propertyId:s.properties.id}))),variant:"inverse"},{default:n(()=>[l(" Nuevo Contrato ")]),_:1})]),_:1})]),default:n(()=>[e("main",W,[t(A,{name:"",class:"px-5 border-2 border-white rounded-md rounded-b-none shadow-md",resource:s.properties,title:r(g),onCreate:o[2]||(o[2]=a=>r(p).visit("/properties/create")),"hide-action":""},null,8,["resource","title"]),e("header",X,[e("section",Y,[e("article",null,[e("p",Z,[t(G),e("span",null,f(s.properties.address),1)]),e("p",{class:"flex items-center space-x-2 cursor-pointer text-primary group",onClick:o[3]||(o[3]=a=>r(p).visit(c.route("clients.show",s.properties.owner)))},[t(L),e("span",ee,f(s.properties.owner.fullName),1)])]),e("article",te,[e("section",null,[e("div",oe,[t(J,{class:"mr-2 text-yellow-600"}),e("span",se,f(r(y)(s.properties.price)),1)]),re]),t(r(E),null,{default:n(()=>[l(f(s.properties.status),1)]),_:1})])])]),e("section",ae,[e("article",ne,[e("section",le,[t(r(b),{class:"w-full bg-white border h-28 text-body-1",title:"Balance de Cuenta",value:r(y)(0)},null,8,["value"]),t(r(b),{class:"w-full bg-white border h-28 text-body-1",title:"Balance de Pendiente",value:r(y)(0)},null,8,["value"]),t(r(b),{class:"w-full bg-white border h-28 text-body-1",title:"Dias de mora",value:0})]),e("section",ie,[(d(!0),P(S,null,T(s.properties.units,a=>{var C;return d(),P("div",de,[e("h4",null,[t(q,{title:a.name,"owner-name":s.properties.owner.display_name,"tenant-name":(C=a.contract)==null?void 0:C.client.display_name,price:r(y)(a.price)},null,8,["title","owner-name","tenant-name","price"])]),e("div",me,[t(z,{status:a.status},null,8,["status"]),e("div",pe,[t(v,{variant:"neutral"},{default:n(()=>[t(N)]),_:1})])])])}),256))]),s.properties.contract?(d(),u(H,{key:0,class:"p-4 border rounded-md shadow-md bg-base-lvl-3",contract:s.properties.contract},null,8,["contract"])):x("",!0)]),e("article",ce,[e("div",ue,[fe,e("div",ve,[e("section",_e,[t(v,{class:"w-full",onClick:o[4]||(o[4]=a=>r(Q).generateOwnerDistribution(s.properties.owner_id))},{default:n(()=>[l(" Generar Pago a DueÃ±o ")]),_:1})]),t(_,null,{default:n(()=>[l(" Notes ")]),_:1}),t(_,null,{default:n(()=>[l(" Imagenes ")]),_:1}),t(_,null,{default:n(()=>[l(" Documentos ")]),_:1}),t(_,{onClick:o[5]||(o[5]=a=>B())},{default:n(()=>[l(" Agregar unidad ")]),_:1})])])])]),i.value?(d(),u(V,{key:0,modelValue:$.value,"onUpdate:modelValue":o[6]||(o[6]=a=>$.value=a),payment:i.value,endpoint:`/loans/${s.properties.id}/installments/${i.value.installment_id}/pay`,due:i.value.amount,"default-concept":r(I),onSaved:o[7]||(o[7]=a=>M())},null,8,["modelValue","payment","endpoint","due","default-concept"])):x("",!0),m.value?(d(),u(O,{key:1,show:m.value,onClose:o[9]||(o[9]=a=>m.value=!1)},{default:n(()=>[t(K,{onClose:o[8]||(o[8]=a=>m.value=!1),property:s.properties},null,8,["property"])]),_:1},8,["show"])):x("",!0)])]),_:1},8,["title"])}}});export{lt as default};
