import{_ as b}from"./close-f1b40d6b.js";import{k as y,z as g}from"./atmosphere-ui-86b7f8ed.js";import{l as $,P as C,m as h,f as k,a as r,b as o,w as l,u as n,M as d,o as U,h as p}from"./app-e7293397.js";import{_ as m}from"./AppButton.vue_vue_type_script_setup_true_lang-046c4e1c.js";import{_ as v}from"./UnitForm.vue_vue_type_script_setup_true_lang-da9688a8.js";const j={class:"mx-auto text-gray-500"},w={class:"border-b bg-secondary/80 text-white py-4 px-4 flex items-center justify-between"},N=r("h4",{class:"font-bold text-xl"},"Crear Contacto",-1),z={class:"sm:px-6 lg:px-8"},B={class:"px-6 py-4 flex justify-end space-x-3 text-gray-600 text-right bg-neutral"},V=$({__name:"UnitFormModal",props:{property:{type:Object},unit:{type:Object}},emits:["close"],setup(u,{emit:c}){const a=u,s=C({index:0,description:"",price:0,name:"",area:"",bedrooms:1,bathrooms:1}),f=()=>{var t;if(!s.name||!s.price){d({type:"error",message:"Debe llenar los campos de nombre y precio de renta al menos",title:"Campos requeridos"});return}(t=a.unit)!=null&&t.id?_():s.post(`/properties/${a.property.id}/units/`,{onSuccess(){d({message:`Unidad ${s.name} agregada con exito`,title:"Unidad agregada",type:"success"}),c("close")}})},_=()=>{var t;s.put(`/properties/${a.property.id}/units/${(t=a.unit)==null?void 0:t.id}`,{onSuccess(){d({message:`Unidad ${s.name} actualizada con exito`,title:"Unidad agregada",type:"success"}),c("close")}})};return h(()=>a.unit,t=>{t&&Object.keys(s.data()).forEach(e=>{e=="date"?s[e]=new Date(t[e]):t&&(s[e]=t[e])})},{deep:!0,immediate:!0}),(t,e)=>{const x=b;return U(),k("main",j,[r("header",w,[N,r("button",{class:"hover:text-danger",onClick:e[0]||(e[0]=i=>t.close())},[o(x)])]),r("section",z,[o(n(y),{class:"w-full",label:"Nombre"},{default:l(()=>[o(n(g),{modelValue:n(s).name,"onUpdate:modelValue":e[1]||(e[1]=i=>n(s).name=i),class:"w-full",rounded:"",required:""},null,8,["modelValue"])]),_:1}),o(v,{unit:n(s)},null,8,["unit"])]),r("footer",B,[o(m,{variant:"neutral",onClick:e[2]||(e[2]=i=>t.$emit("close"))},{default:l(()=>[p(" Cerrar ")]),_:1}),o(m,{variant:"secondary",onClick:e[3]||(e[3]=i=>f())},{default:l(()=>[p(" Guardar ")]),_:1})])])}}});export{V as _};
