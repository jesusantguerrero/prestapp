import{_ as A}from"./AppLayout.vue_vue_type_script_setup_true_lang-dc441d96.js";import{a as N}from"./AppLayout.vue_vue_type_style_index_0_lang-cff2a039.js";import{_ as B}from"./ClientsTable.vue_vue_type_script_setup_true_lang-b8d55dd2.js";import{k as O,d as u,B as P,c as n,w as r,u as t,o as s,b as c,h as p,E as d,g as T,t as V,a as _}from"./app-fef21123.js";import b from"./LoanSectionNav-f1a482ff.js";import{_ as x}from"./PropertySectionNav.vue_vue_type_script_setup_true_lang-f16b6b1a.js";import{_ as m}from"./AppButton.vue_vue_type_script_setup_true_lang-78bec775.js";import{u as z}from"./useServerSearch-d893a6fc.js";import"./atmosphere-ui-43ec926d.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./PaymentFormModal.vue_vue_type_script_setup_true_lang-3ea39cd1.js";import"./PaymentGrid-926a1204.js";/* empty css                                                                    */import"./mathHelper-02ca0ff8.js";import"./exact-math.node-8398c915.js";import"./constants-0a903a05.js";import"./AccountSelect.vue_vue_type_script_setup_true_lang-f3e358be.js";import"./formatMoney-b7ef7683.js";import"./BaseSelect.vue_vue_type_script_setup_true_lang-c6d5c1da.js";/* empty css                                                   */import"./index-c251e33c.js";import"./index-81f33ca2.js";import"./Modal.vue_vue_type_script_setup_true_lang-05fdc6cc.js";import"./usePaymentModal-a07a875e.js";import"./ClientFormModal.vue_vue_type_script_setup_true_lang-396b1c58.js";import"./close-ce456e3e.js";import"./SectionNav.vue_vue_type_script_setup_true_lang-5401ee99.js";import"./clientInteractions-23fb4c77.js";import"./AppSearch.vue_vue_type_script_setup_true_lang-7eed6d28.js";import"./AppSearchFilters-54a857cd.js";import"./BaseTable.vue_vue_type_style_index_0_lang-6dbbce48.js";import"./customCell-775a8e84.js";import"./constants-ca1255a1.js";import"./IconMarker-a0d62ca8.js";import"./menus-be25f72f.js";import"./index-901d5032.js";const D={class:"mt-16 bg-white rounded-md"},kt=O({__name:"Index",props:{clients:null,type:null,serverSearchOptions:{default:()=>({filters:{},dates:{},sorts:"",limit:10,relationships:"",search:"",page:1})}},setup(o){const i=o,v=u(()=>Array.isArray(i.clients)?i.clients:i.clients.data),y=u(()=>!Array.isArray(i.clients)&&i.clients.total),{toggleModal:f}=N("contact"),g=u(()=>({owner:"DueÃ±os de propiedades",tenant:"Inquilinos",lender:"Clientes de prestamos"})[i.type]??"Clientes"),{serverSearchOptions:k}=P(i),{executeSearch:C,updateSearch:S,changeSize:$,paginate:w,state:h}=z(k,a=>{S(`/contacts/${i.type}?${a}`)},{manual:!0});return(a,e)=>(s(),n(A,{title:t(g)},{header:r(()=>[o.type=="lender"?(s(),n(b,{key:0},{actions:r(()=>[c(m,{variant:"inverse-secondary",onClick:e[0]||(e[0]=l=>t(d).visit("/loans/create"))},{default:r(()=>[p(" Nuevo prestamo ")]),_:1}),c(m,{variant:"secondary",onClick:e[1]||(e[1]=l=>t(f)({data:{type:o.type},isOpen:!0}))},{default:r(()=>[p(" Nuevo cliente ")]),_:1})]),_:1})):(s(),n(x,{key:1},{actions:r(()=>[o.type=="owner"?(s(),n(m,{key:0,variant:"inverse",onClick:e[2]||(e[2]=l=>t(d).visit(a.route("properties.create")))},{default:r(()=>[p(" Agregar Propiedad ")]),_:1})):T("",!0),o.type=="owner"?(s(),n(m,{key:1,variant:"inverse",onClick:e[3]||(e[3]=l=>t(d).visit(a.route("owners.draw")))},{default:r(()=>[p(" Pagar distribucion ")]),_:1})):(s(),n(m,{key:2,variant:"inverse-secondary",onClick:e[4]||(e[4]=l=>t(d).visit(a.route("properties.create")))},{default:r(()=>[p(" Agregar Contrato ")]),_:1})),c(m,{variant:"secondary",onClick:e[5]||(e[5]=l=>t(f)({data:{type:o.type},isOpen:!0}))},{default:r(()=>[p(" Agregar "+V(o.type),1)]),_:1})]),_:1}))]),default:r(()=>[_("main",D,[c(B,{clients:t(v),pagination:t(h),total:t(y),onSearch:t(C),onPaginate:t(w),onSizeChange:t($)},null,8,["clients","pagination","total","onSearch","onPaginate","onSizeChange"])])]),_:1},8,["title"]))}});export{kt as default};
