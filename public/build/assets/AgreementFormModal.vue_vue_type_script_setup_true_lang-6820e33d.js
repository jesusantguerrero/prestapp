import{N as w,V as f,R as n}from"./atmosphere-ui-92e9addd.js";import{_ as x}from"./AppButton.vue_vue_type_script_setup_true_lang-fcb67ff4.js";import{k as v,P as _,r as C,c as k,w as s,u as e,a2 as N,o as y,a as r,b as t,h as c,a3 as p,R as D}from"./app-bdc0a90d.js";const U={class:""},$={class:"flex space-x-4"},B={class:"flex space-x-4 justify-between"},E={class:"space-x-2 dialog-footer"},q=v({__name:"AgreementFormModal",props:{modelValue:Boolean,loan:{type:Object,required:!0}},emits:["update:modelValue","saved"],setup(u,{emit:i}){const m=u,o=_({reason:"",due:new Date,date:new Date,amount:m.loan.amount_due}),V=C(!1);function g(){V.value=!0,o.post(`/loans/${m.loan.id}/agreements`,{onSuccess(){o.reset(),i("saved")},onError(d){D({type:"error",message:d.message??"Ha ocurrido un error"})}})}function b(d){i("update:modelValue",d)}return(d,a)=>(y(),k(e(N),{title:"Agregar acuerdo de pago",width:"550","model-value":u.modelValue,"onUpdate:modelValue":a[6]||(a[6]=l=>d.$emit("update:modelValue",l))},{footer:s(()=>[r("div",E,[t(e(w),{onClick:a[4]||(a[4]=l=>b(!1)),class:"bg-white border rounded-md text-gray"},{default:s(()=>[c(" Cancel ")]),_:1}),t(x,{onClick:a[5]||(a[5]=l=>g()),disabled:e(o).processing,loading:e(o).processing},{default:s(()=>[c(" Guardar ")]),_:1},8,["disabled","loading"])])]),default:s(()=>[r("div",U,[r("section",$,[t(e(n),{class:"w-full text-left",label:"Concepto"},{default:s(()=>[t(e(f),{type:"text",class:"form-control",name:"invoice-description",id:"invoice-description",modelValue:e(o).reason,"onUpdate:modelValue":a[0]||(a[0]=l=>e(o).reason=l),rounded:""},null,8,["modelValue"])]),_:1}),t(e(n),{class:"w-full text-left",label:"Monto Recibido"},{default:s(()=>[t(e(f),{class:"form-control","number-format":"",modelValue:e(o).amount,"onUpdate:modelValue":a[1]||(a[1]=l=>e(o).amount=l),rounded:"",required:""},null,8,["modelValue"])]),_:1})]),r("section",B,[t(e(n),{label:"Fecha de creacion",class:"w-full"},{default:s(()=>[t(e(p),{modelValue:e(o).date,"onUpdate:modelValue":a[2]||(a[2]=l=>e(o).date=l),size:"large",class:"w-full",rounded:""},null,8,["modelValue"])]),_:1}),t(e(n),{label:"Fecha de limite",class:"w-full"},{default:s(()=>[t(e(p),{modelValue:e(o).due,"onUpdate:modelValue":a[3]||(a[3]=l=>e(o).due=l),size:"large",width:"100%",class:"w-full",rounded:""},null,8,["modelValue"])]),_:1})])])]),_:1},8,["model-value"]))}});export{q as _};
