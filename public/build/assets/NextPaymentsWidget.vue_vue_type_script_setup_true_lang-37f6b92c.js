import{_ as b}from"./WelcomeWidget.vue_vue_type_script_setup_true_lang-801aae9c.js";import{g as v}from"./index-9dc2d84c.js";import{_}from"./InstallmentTable.vue_vue_type_script_setup_true_lang-d4703ba0.js";import{l as x,r as u,d as h,q as y,c as R,w as o,o as r,k as d,a as $,f as m,j as k,n as C,t as D,F as B,b as F}from"./app-494b6f90.js";const P={class:"flex text-xs space-x-2 text-body-1"},w=["onClick","title"],z=x({__name:"NextPaymentsWidget",props:{ranges:{default:[{label:"1D",value:[0,1]},{label:"7D",value:[0,7]},{label:"30D",value:[0,30]},{label:"90D",value:[0,90]}]},title:{default:"Proximas coutas"},method:{default:"forward"},endpoint:{default:"/api/repayments?filter[payment_status]=~paid&"},dateField:{default:"due_date"},defaultRange:null},setup(s){const a=s,l=u(a.defaultRange??"1D"),f=e=>l.value==e,g=h(()=>a.ranges.find(e=>e.label===l.value).value),n=u([]),i=()=>{const e=v(a.dateField,g.value,a.method);axios.get(`${a.endpoint}${e}`).then(({data:c})=>{n.value=c.data})},p=e=>{l.value=e,i()};return y(()=>{i()}),(e,c)=>(r(),R(b,{message:s.title,borderless:"",rounded:!1},{title:o(()=>[d(e.$slots,"title")]),actions:o(()=>[$("section",P,[d(e.$slots,"beforeRange"),(r(!0),m(B,null,k(s.ranges,t=>(r(),m("span",{role:"button",class:C(["rounded-3xl bg-base-lvl-2 py-1 px-4",f(t.label)&&"text-primary font-bold bg-primary/10"]),onClick:N=>p(t.label),title:t.tooltip},D(t.label),11,w))),256))])]),content:o(()=>[d(e.$slots,"content",{list:n.value},()=>[F(_,{installments:n.value,"hidden-cols":["balance"]},null,8,["installments"])])]),_:3},8,["message"]))}});export{z as _};
