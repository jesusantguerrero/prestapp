import{_ as T}from"./note-off-8ea22dac.js";import{_ as Y}from"./chevron-right-5280f715.js";import{_ as z}from"./BudgetProgress.vue_vue_type_script_setup_true_lang-d9133f77.js";import{_ as E}from"./IncomeSummaryWidget.vue_vue_type_script_setup_true_lang-7bf9842c.js";import{_ as M}from"./WelcomeWidget.vue_vue_type_script_setup_true_lang-f5ad8b33.js";import{_ as G}from"./DashboardTemplate.vue_vue_type_script_setup_true_lang-285d2e57.js";import{f as n}from"./formatMoney-b7ef7683.js";import J from"./ChartBar-04165057.js";import{c as N}from"./config-3e030ca7.js";import{_ as R}from"./PropertyInvoiceWidget.vue_vue_type_script_setup_true_lang-54670ebe.js";import{_ as L}from"./NextPaymentsWidget.vue_vue_type_script_setup_true_lang-a78ff0fd.js";import{_ as q}from"./PaymentsCard.vue_vue_type_script_setup_true_lang-461e7af0.js";import{l as H,c as j,w as a,C as U,o as l,a as e,b as o,t as c,u as m,h as B,y as I,f as $,j as K,F as Q,g as W}from"./app-e7293397.js";import"./atmosphere-ui-86b7f8ed.js";import"./AppLayout.vue_vue_type_style_index_0_lang-96d4f03f.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./AppButton.vue_vue_type_script_setup_true_lang-046c4e1c.js";import"./PaymentFormModal.vue_vue_type_script_setup_true_lang-dd64f8b8.js";import"./close-f1b40d6b.js";import"./PaymentGrid-6607ced0.js";import"./mathHelper-95aa3a2b.js";import"./exact-math.node-9a256fc0.js";import"./constants-0a903a05.js";import"./AccountSelect.vue_vue_type_script_setup_true_lang-cb870c82.js";import"./BaseSelect.vue_vue_type_style_index_1_lang-cbd59430.js";import"./AppFormField.vue_vue_type_style_index_0_lang-d6998fd8.js";import"./index-c251e33c.js";import"./index-81f33ca2.js";import"./Modal.vue_vue_type_script_setup_true_lang-53b90f8d.js";import"./InvoiceFormModal.vue_vue_type_script_setup_true_lang-88bfc502.js";import"./user-outline-dcfa7b13.js";import"./ClientFormModal.vue_vue_type_script_setup_true_lang-d0093e27.js";import"./ClientForm.vue_vue_type_script_setup_true_lang-f1abe81a.js";import"./SectionNav.vue_vue_type_script_setup_true_lang-e0dfad64.js";import"./constants-22f9a1fe.js";import"./usePaymentModal-ad844d5c.js";import"./FastAccessOptions.vue_vue_type_script_setup_true_lang-1fc13d45.js";import"./ButtonGroup.vue_vue_type_script_setup_true_lang-6c7ef160.js";import"./InvoiceCard.vue_vue_type_script_setup_true_lang-26337e5b.js";import"./index-9dc2d84c.js";import"./index-3624ec38.js";import"./constants-7016751c.js";import"./InstallmentTable.vue_vue_type_script_setup_true_lang-cbcb4ed7.js";import"./sharp-payment-a1c72b2d.js";import"./BaseTable.vue_vue_type_style_index_0_lang-efd97e4a.js";import"./customCell-f0a6687f.js";import"./IconMarker-562faee5.js";import"./receipt-34b79759.js";import"./document-aa315096.js";const X={class:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4"},Z={class:"py-4"},ee={class:"mb-1 font-bold flex justify-between"},te={class:"text-primary"},oe={class:"text-body-1 w-full md:w-5/12"},se={class:"mt-8 mb-24"},ae={class:"flex lg:space-x-4 flex-col w-full lg:flex-row"},re={class:"lg:w-7/12 space-y-4"},ie={class:"order-1 space-y-5 lg:w-5/12 lg:order-2"},ne={class:"flex mt-4 space-x-4"},le={class:"py-4 my-2 h-[380px] overflow-auto ic-scroller"},ce={key:1,class:"flex text-body-1 flex-col justify-center items-center w-full"},me=e("p",{class:"mt-8"},"No hay pagos realizados en este rango de fechas",-1);const lt=H({__name:"Properties",props:{user:{type:Object},revenue:{type:Object,default(){return{previousYear:{values:[]},currentYear:{values:[]}}}},stats:{type:Object},ownerStats:{type:Object},paidInterest:{type:Array},paidCommissions:{type:Object},pendingDraws:{type:Object}},setup(p){var u,f,h,b,y,g,w,v,x,C;const t=p,O=[{label:"Total propiedades",value:((u=t.stats)==null?void 0:u.total)||0},{label:"Alquiladas/Libres",icon:"fa-money",value:`${((f=t.stats)==null?void 0:f.rented)||0} / ${((h=t.stats)==null?void 0:h.available)||0}`},{label:"Comisiones pagadas/mes",value:n(t.paidCommissions||0)}],S=[{label:"Total de propietarios",value:((b=t.ownerStats)==null?void 0:b.total)||0},{label:"Pagado mes",value:n(((y=t.ownerStats)==null?void 0:y.paid)||0)}],d={headers:{gapName:"Year",previous:(g=t.revenue)==null?void 0:g.total},options:{chart:{id:"vuechart-example"},stroke:{curve:"smooth"},dropShadow:{enabled:!0,top:3,left:0,blur:1,opacity:.5},colors:["#fa6b88","#80CDFE"]},series:[{name:"current year",data:t.revenue.map(s=>s.income??0)}]},V=new Date().getMonth(),_={headers:{gapName:"Year",month:(w=t.paidCommissions)==null?void 0:w.months.at(V).income,avg:(v=t.paidCommissions)==null?void 0:v.avg,current:(x=t.paidCommissions)==null?void 0:x.year},options:{chart:{id:"commissions",type:"bar"},stroke:{curve:"smooth"},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},colors:[N.colors.highlight,N.colors.info]},series:[{name:"Ganancias intereses",data:(C=t.paidCommissions)==null?void 0:C.months.map(s=>s.income??0)}]};return(s,pe)=>{const A=Y,F=T,de=U("IconMarker");return l(),j(G,{user:p.user,class:"pb-10"},{default:a(()=>[e("header",X,[o(M,{message:"Estadisticas de propiedades",class:"text-body-1 w-full md:w-7/12 shadow-md",size:"small",cards:O},{append:a(()=>{var r,i;return[e("section",Z,[o(z,{goal:(r=s.totals)==null?void 0:r.total,current:(i=s.totals)==null?void 0:i.paid,class:"h-2.5 text-white rounded-md","progress-class":["bg-primary-shade-2","bg-primary-shade-1"],"show-labels":!1},{before:a(({progress:P})=>{var D,k;return[e("header",ee,[e("span",null,c(m(n)((D=s.totals)==null?void 0:D.paid))+" of "+c(m(n)((k=s.totals)==null?void 0:k.total)),1),e("span",te,c(P)+"% ",1)])]}),_:1},8,["goal","current"])])]}),_:1}),e("div",oe,[o(M,{message:"Distribucion a propierarios",class:"text-body-1 w-full shadow-md",size:"small",cards:S}),o(m(I),{href:"/properties/management-tools",class:"flex items-center cursor-pointer h-14 hover:text-primary hover:font-bold transition-all justify-center w-full mt-4 rounded-md bg-white shadow-md md:mt-4"},{default:a(()=>[B(" Distribución a propietarios pendientes "),o(A),e("span",null,c(p.pendingDraws),1)]),_:1})])]),e("section",se,[e("section",ae,[e("section",re,[o(E,{title:"Flujo de efectivo",description:"Movimiento de efectivo del año por mes en cuenta de inmobiliaria",class:"order-2 mt-4 lg:w-full lg:mt-0 lg:order-1 shadow-md",style:{height:"350px"},chart:d,headerInfo:d.headers},null,8,["headerInfo"])]),e("article",ie,[o(J,{class:"bg-white shadow-md rounded-lg overflow-hidden",title:"Ganancias",description:"Ganancias por comisiones en el año",chart:_,headerInfo:_.headers},null,8,["headerInfo"])])]),e("section",ne,[o(R,{class:"w-full md:w-7/12"}),o(L,{title:"Pagos por periodo",endpoint:"/api/rent-payments?",method:"back","default-range":"7D","date-field":"payment_date",class:"rounded-md border w-full md:w-5/12",section:"invoices",ranges:[{label:"1D",value:[1,1],tooltip:"Hoy"},{label:"7D",value:[7,0],tooltip:"7 Dias"},{label:"1M",value:[30,0],tooltip:"30 Dias"},{label:"3M",value:[90,0],tooltip:"3 Meses"}]},{beforeRange:a(()=>[o(m(I),{href:"/payment-center?tab=payments"},{default:a(()=>[B("Todos")]),_:1})]),content:a(({list:r})=>[e("article",le,[r.length?(l(!0),$(Q,{key:0},K(r,i=>(l(),j(q,{payment:i,type:"invoices"},null,8,["payment"]))),256)):(l(),$("section",ce,[o(F,{class:"text-8xl"}),me]))])]),_:1})]),W("",!0)])]),_:1},8,["user"])}}});export{lt as default};
