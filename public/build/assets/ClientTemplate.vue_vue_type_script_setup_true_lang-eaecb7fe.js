import{_ as j}from"./edit-c2d315cc.js";import{l as O,d as R,c as u,w as n,u as a,C as _,o as i,a as e,b as s,a1 as V,E as q,h as l,t as m,f as x,g as h,ac as F,j as G,y as z,n as A,F as J,k}from"./app-494b6f90.js";import{t as b}from"./atmosphere-ui-83e2a306.js";import{_ as L}from"./AppLayout.vue_vue_type_style_index_0_lang-3aae0800.js";import{_ as f}from"./AppButton.vue_vue_type_script_setup_true_lang-6731c3fc.js";import{_ as U}from"./AppSectionHeader.vue_vue_type_script_setup_true_lang-5e6dc640.js";import p from"./EmptyAddTool-1f60e564.js";import{_ as H}from"./PropertySectionNav.vue_vue_type_script_setup_true_lang-d424aeb5.js";import{_ as K}from"./LoanSectionNav.vue_vue_type_script_setup_true_lang-185d9b4d.js";import{f as $}from"./formatMoney-b7ef7683.js";import{a as Q}from"./ClientForm.vue_vue_type_script_setup_true_lang-7ced5882.js";import{a as I}from"./user-outline-c87acd59.js";const W={class:"p-5 mt-8"},X={class:"flex space-x-2"},Y={class:"w-full px-5 pb-2 mb-5 space-y-5 text-gray-600 bg-white border-gray-200 shadow-md rounded-b-md"},Z={class:"flex items-center justify-between py-4"},ee={class:"flex items-center space-x-2"},te={class:"flex items-center space-x-2 cursor-pointer text-primary group"},se={class:"group-hover:underline underline-offset-4"},ne={class:"flex space-x-5"},ae={key:0,class:"text-center"},oe={class:"flex items-center w-full text-center"},le={class:"mx-auto font-bold text-success"},ce=e("p",{class:"text-bold text-body-1"},"Propiedades",-1),ie={class:"flex space-x-2"},re={class:"flex-col md:flex-row flex w-full md:space-x-8 rounded-t-none border-t-none"},de={class:"w-full md:w-9/12 space-y-4"},ue={key:0,class:"flex flex-col md:flex-row md:space-y-0 space-y-4 md:space-x-4"},me={class:"w-full md:w-3/12 mt-4 md:mt-0 space-y-2"},fe={class:"px-5 py-10 text-gray-600 bg-gray-200 rounded-md shadow-md"},pe=e("div",{class:"header"},[e("h2",{class:"text-lg font-bold"},"Manejo de contacto"),e("small",null," Espacio para manejar los detalles de tu contacto y todas sus cosas.")],-1),ye={class:"mt-4 space-y-2"},_e={class:"flex space-x-4"},Be=O({__name:"ClientTemplate",props:{clients:null,currentTab:{default:"summary"},hideStatistics:{type:Boolean,default:!1},type:null,stats:null,contract:null,tabs:{default:{"":"Detalles",contracts:"Contratos",transactions:"Transacciones"}}},setup(t){const y=t,T=(r="")=>`/contacts/${y.clients.id}/${y.type}?section=${r}`,{openModal:M}=I("contact"),{openModal:B}=I("invoice"),N=R(()=>{const r={owners:"Propietarios",owner:"Propietarios",tenants:"Inquilino",lenders:"Cliente"};return r[y.type]??r.lenders});return(r,c)=>{const E=j,P=_("IconMarker"),S=_("IconPersonSafe"),D=_("IconCoins");return i(),u(L,{title:`${a(N)} / ${t.clients.fullName}`},{header:n(()=>[t.clients.is_lender?(i(),u(K,{key:1})):(i(),u(H,{key:0}))]),default:n(()=>{var g,w,v,C;return[e("main",W,[s(U,{name:"Clientes",class:"px-5 border-2 border-white rounded-md rounded-b-none shadow-md",resource:t.clients,title:(g=t.clients)==null?void 0:g.fullName,"hide-action":""},V({_:2},[t.clients.is_tenant?{name:"actions",fn:n(()=>[e("section",X,[s(f,{onClick:c[0]||(c[0]=d=>{var o;return a(q).visit(`/rents/${(o=t.contract)==null?void 0:o.id}/transactions/deposit-refund/create`)}),variant:"secondary",title:"Reembolsar deposito"},{default:n(()=>[l(" Ret. Deposito ")]),_:1}),s(f,{onClick:c[1]||(c[1]=d=>{var o;return a(B)({data:{clientId:t.clients.id,rentId:(o=t.contract)==null?void 0:o.id,hideClientOptions:!0},isOpen:!0})}),variant:"secondary",title:"Registrar gasto"},{default:n(()=>[l(" Registrar Gasto ")]),_:1}),s(f,{title:"Editar Inquilino",onClick:c[2]||(c[2]=d=>a(M)({data:{formData:t.clients},isOpen:!0})),variant:"neutral"},{default:n(()=>[s(E)]),_:1})])]),key:"0"}:void 0]),1032,["resource","title"]),e("header",Y,[e("section",Z,[e("article",null,[e("p",ee,[s(P),e("span",null,m(t.clients.dni),1)]),e("p",te,[s(S),e("span",se,m((w=t.clients.account)==null?void 0:w.name),1)])]),e("article",ne,[t.clients.is_owner?(i(),x("section",ae,[e("div",oe,[s(D,{class:"mr-2 text-yellow-600"}),e("span",le,m((v=t.clients.properties)==null?void 0:v.length),1)]),ce])):h("",!0),s(a(F),null,{default:n(()=>[l(m(t.clients.status),1)]),_:1})])]),e("div",ie,[(i(!0),x(J,null,G(t.tabs,(d,o)=>(i(),u(a(z),{class:A(["px-2 py-1 transition rounded-md cursor-pointer bg-gray-50 hover:bg-gray-200",{"bg-gray-300":o==t.currentTab}]),key:o,href:T(o),replace:""},{default:n(()=>[l(m(d),1)]),_:2},1032,["class","href"]))),128))])]),e("section",re,[e("article",de,[t.hideStatistics?h("",!0):(i(),x("section",ue,[s(a(b),{class:"w-full bg-white border h-28 text-body-1",title:"Balance de Cuenta",value:a($)((C=t.stats)==null?void 0:C.balance)},null,8,["value"]),s(a(b),{class:"w-full bg-white border h-28 text-body-1",title:"Balance de Pendiente",value:a($)(0)},null,8,["value"]),s(a(b),{class:"w-full bg-white border h-28 text-body-1",title:"Dias de mora",value:0})])),k(r.$slots,"default")]),e("article",me,[e("div",fe,[pe,e("div",ye,[e("section",_e,[t.clients.is_owner?(i(),u(f,{key:0,class:"w-full",onClick:c[3]||(c[3]=d=>a(Q).generateOwnerDistribution(t.clients.id))},{default:n(()=>[l(" Generar de propiedades ")]),_:1})):h("",!0)]),k(r.$slots,"options",{},()=>[s(p,null,{default:n(()=>[l(" Personas de contacto ")]),_:1}),s(p,null,{default:n(()=>[l(" Imagenes ")]),_:1}),s(p,null,{default:n(()=>[l(" Notas ")]),_:1}),s(p,null,{default:n(()=>[l(" Informacion de entrada ")]),_:1})])])])])])])]}),_:3},8,["title"])}}});export{Be as _};
