import{_ as N}from"./trash-b41c2bba.js";import{_ as P}from"./file-8bfe57ae.js";import{_ as j}from"./chevron-right-5280f715.js";import{_ as E}from"./AppLayout.vue_vue_type_style_index_0_lang-96d4f03f.js";import{Q as c,ac as M,l as D,d as I,B as T,r as A,c as b,w as s,o as y,b as t,a,u as o,h as g,E as d,t as u,y as R,g as U}from"./app-e7293397.js";import{_ as z}from"./UnitTitle.vue_vue_type_script_setup_true_lang-c25f773c.js";import{f as O}from"./formatMoney-b7ef7683.js";import{a as F,g as J}from"./constants-fbb1b618.js";import{a as Q,_ as q}from"./BaseTable.vue_vue_type_style_index_0_lang-efd97e4a.js";import{_}from"./AppButton.vue_vue_type_script_setup_true_lang-046c4e1c.js";import{_ as G}from"./PropertySectionNav.vue_vue_type_script_setup_true_lang-516e104c.js";import{_ as H}from"./BudgetProgress.vue_vue_type_script_setup_true_lang-d9133f77.js";import{u as K}from"./useServerSearch-037538e8.js";import{_ as L}from"./ButtonGroup.vue_vue_type_script_setup_true_lang-6c7ef160.js";import"./atmosphere-ui-86b7f8ed.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./PaymentFormModal.vue_vue_type_script_setup_true_lang-dd64f8b8.js";import"./close-f1b40d6b.js";import"./PaymentGrid-6607ced0.js";import"./mathHelper-95aa3a2b.js";import"./exact-math.node-9a256fc0.js";import"./constants-0a903a05.js";import"./AccountSelect.vue_vue_type_script_setup_true_lang-cb870c82.js";import"./BaseSelect.vue_vue_type_style_index_1_lang-cbd59430.js";import"./AppFormField.vue_vue_type_style_index_0_lang-d6998fd8.js";import"./index-c251e33c.js";import"./index-81f33ca2.js";import"./Modal.vue_vue_type_script_setup_true_lang-53b90f8d.js";import"./InvoiceFormModal.vue_vue_type_script_setup_true_lang-88bfc502.js";import"./user-outline-dcfa7b13.js";import"./ClientFormModal.vue_vue_type_script_setup_true_lang-d0093e27.js";import"./ClientForm.vue_vue_type_script_setup_true_lang-f1abe81a.js";import"./SectionNav.vue_vue_type_script_setup_true_lang-e0dfad64.js";import"./constants-22f9a1fe.js";import"./usePaymentModal-ad844d5c.js";import"./FastAccessOptions.vue_vue_type_script_setup_true_lang-1fc13d45.js";import"./customCell-f0a6687f.js";import"./menus-f4817d1f.js";import"./index-9dc2d84c.js";import"./index-3624ec38.js";const W=[{name:"address",label:"DirecciÃ³n",class:"text-left",width:600,render(r){var n,m,p;return c("div",{class:"justify-center"},[c(z,{title:r.short_name,ownerName:(n=r.owner)==null?void 0:n.display_name,tenantName:(p=(m=r.contract)==null?void 0:m.client)==null?void 0:p.display_name})])}},{name:"balance",label:"Balance Pendiente",align:"right",class:"text-right pr-4",render(r){return O(r.balance)}},{name:"status",label:"Estado",render(r){return c(M,{type:J(r.status)},F(r.status))}},{name:"actions",label:" "}],X={class:"p-5 mx-auto mt-8 text-gray-500 sm:px-6 lg:px-8"},Y={class:"flex space-x-4"},Z={class:"flex justify-between mb-1 font-bold"},ee={class:"text-sm"},te={class:"text-secondary"},re={class:"text-primary"},se={class:"flex justify-end"},ae={class:"flex"},He=D({__name:"Index",props:{properties:null,serverSearchOptions:null},setup(r){const n=r,m=I(()=>Array.isArray(n.properties)?n.properties:n.properties.data),{serverSearchOptions:p}=T(n),{executeSearch:$,updateSearch:S,changeSize:oe,paginate:ie,reset:k,state:f}=K(p,l=>{S(`/units?${l}`)},{manual:!0}),h=A("properties"),x={units:{label:"Unidades",link:"/units?filter[status]=RENTED"},properties:{label:"Propiedades",link:"/properties"}},C=l=>{d.get(x[l].link)};return(l,i)=>{const V=j,w=P,B=N;return y(),b(E,{title:"Propiedades"},{header:s(()=>[t(G)]),default:s(()=>[a("main",X,[a("section",Y,[t(Q,{modelValue:o(f).search,"onUpdate:modelValue":i[0]||(i[0]=e=>o(f).search=e),modelModifiers:{lazy:!0},class:"w-full md:flex","has-filters":!0,onClear:i[1]||(i[1]=e=>o(k)()),onBlur:o($)},null,8,["modelValue","onBlur"]),t(L,{class:"w-full md:w-fit","onUpdate:modelValue":[C,i[2]||(i[2]=e=>h.value=e)],values:x,modelValue:h.value},null,8,["modelValue"]),t(_,{variant:"secondary",onClick:i[3]||(i[3]=e=>o(d).visit(l.route("properties.create")))},{default:s(()=>[g(" Agregar Propiedad ")]),_:1})]),t(q,{"table-data":o(m),cols:o(W),class:"bg-white rounded-md text-body-1 mt-4"},{status:s(({scope:{row:e}})=>[a("div",null,[t(H,{goal:e.unit_count,current:e.available_units,class:"h-2.5 text-white rounded-md","progress-class":["bg-primary","bg-primary/5"],"show-labels":!1},{before:s(({progress:v})=>[a("header",Z,[a("div",ee,[a("span",te,u(e.available_units)+" disponible ",1),g(" de "+u(e.unit_count)+" unidades ",1)]),a("span",re,u(v)+"% ",1)])]),_:2},1032,["goal","current"])])]),actions:s(({scope:{row:e}})=>[a("div",se,[t(o(R),{class:"relative inline-block cursor-pointer ml-4 hover:bg-primary hover:text-white px-5 py-2 overflow-hidden font-bold text-body transition rounded-md focus:outline-none hover:bg-opacity-80 min-w-max",href:`/properties/${e.id}`},{default:s(()=>[t(V)]),_:2},1032,["href"]),a("div",ae,[e.contract?(y(),b(_,{key:0,class:"hover:text-primary transition items-center flex flex-col justify-center hover:border-primary-400",variant:"neutral",onClick:v=>o(d).visit(`/rents/${e.contract.id}`)},{default:s(()=>[t(w)]),_:2},1032,["onClick"])):U("",!0)]),t(_,{variant:"neutral",class:"hover:text-error transition items-center flex flex-col justify-center hover:border-red-400"},{default:s(()=>[t(B)]),_:1})])]),_:1},8,["table-data","cols"])])]),_:1})}}});export{He as default};
