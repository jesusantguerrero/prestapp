import{O as a,a7 as h,a8 as v,k as $,r as C,d as E,c as k,w as o,o as A,b as l,u as c,E as f,h as u,a as x,y as I}from"./app-9b138141.js";import{_ as S}from"./AppLayout.vue_vue_type_script_setup_true_lang-e699ee9b.js";import"./AppLayout.vue_vue_type_style_index_0_lang-0c70bcc1.js";import{_ as T}from"./BaseTable.vue_vue_type_style_index_0_lang-8bddfc90.js";import{_}from"./AppButton.vue_vue_type_script_setup_true_lang-70b35c26.js";import{_ as V}from"./PropertySectionNav.vue_vue_type_script_setup_true_lang-d8996414.js";import{_ as D}from"./BaseSelect.vue_vue_type_script_setup_true_lang-71eb1903.js";/* empty css                                                   */import{a as N,g as q}from"./constants-0a903a05.js";import{I as B}from"./IconMarker-87d7c953.js";import{d as L}from"./index-901d5032.js";import{a as R}from"./index-af4464e9.js";import{r as M,a as j}from"./index-81f33ca2.js";import"./atmosphere-ui-18006871.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./PaymentFormModal.vue_vue_type_script_setup_true_lang-d178a55a.js";import"./PaymentGrid-bb2f1c2e.js";/* empty css                                                                    */import"./mathHelper-7298fc42.js";import"./exact-math.node-df6f4533.js";import"./AccountSelect.vue_vue_type_script_setup_true_lang-79716ae8.js";import"./formatMoney-b7ef7683.js";import"./index-c251e33c.js";import"./Modal.vue_vue_type_script_setup_true_lang-6e9de0f6.js";import"./usePaymentModal-81539917.js";import"./ClientFormModal.vue_vue_type_script_setup_true_lang-e40a6e31.js";import"./close-f797118c.js";import"./ClientForm.vue_vue_type_script_setup_true_lang-386607dc.js";import"./clientInteractions-762b0273.js";import"./SectionNav.vue_vue_type_script_setup_true_lang-c3d92866.js";import"./AppSearch.vue_vue_type_script_setup_true_lang-da5abf29.js";import"./AppSearchFilters-f097730f.js";import"./customCell-c06172d5.js";import"./menus-1fa29540.js";function w(t,r){M(2,arguments);var n=j(r);return R(t,-n)}const J=[{name:"client",label:"Inquilino",class:"text-center",headerClass:"text-center",minWidth:200,render(t){var m,p,d,i,e;const r=((m=t.client)==null?void 0:m.names)+" "+((p=t.client)==null?void 0:p.lastnames),n=((d=t.client)==null?void 0:d.names[0])+((i=t.client)==null?void 0:i.lastnames[0]);return a("div",{class:"px-4"},[a("div",{class:"flex items-center space-x-2"},[a(h,{shape:"circle"},n),a("span",r)]),a("div",{class:"flex items-center text-primary font-bold"},[a(B,{class:"text-primary font-bold"}),a("span",(e=t.property)==null?void 0:e.short_name)])])}},{name:"id",label:"Terminos Contrato",class:"text-center",headerClass:"text-center",render(t){var r;return a("div",[a("p",`RENT-${(r=t.id)==null?void 0:r.toString().padStart(6,"0")}`),a("p",t.commission+" %")])}},{name:"total",class:"text-center",type:"money",headerClass:"text-center",label:"Total a pagar"},{name:"status",label:"Estado",render(t){return a(v,{type:q(t.status)},N(t.status))}},{name:"actions",label:"Acciones"}],O={class:"py-16"},U={class:"flex"},Ct=$({__name:"Index",props:{loans:null},setup(t){const r=t,n=C({}),m=[{text:"Este mes",range:[30,0]},{text:"3 Meses",range:[90,0]},{text:"Last 6 months",range:[180,0]}],p=(i,e)=>{const s=new Date,g=e.map(y=>L(w(s,y))).join("~"),b=`filter[${i}]=${g}`;f.get(`/rents?${b}`,{},{preserveState:!0})},d=E(()=>Array.isArray(r.loans)?r.loans:r.loans.data);return(i,e)=>(A(),k(S,{title:"Contratos de alquiler"},{header:o(()=>[l(V,null,{actions:o(()=>[l(D,{placeholder:"Expira en",options:m,modelValue:n.value.end_date,"onUpdate:modelValue":[e[0]||(e[0]=s=>n.value.end_date=s),e[1]||(e[1]=s=>p("end_date",s.range))],label:"text","track-by":"text"},null,8,["modelValue"]),l(_,{onClick:e[2]||(e[2]=s=>c(f).visit(i.route("rents.create")))},{default:o(()=>[u("Agregar Contrato")]),_:1})]),_:1})]),default:o(()=>[x("main",O,[l(T,{"table-data":c(d),cols:c(J),class:"bg-white rounded-md text-body-1"},{actions:o(({scope:{row:s}})=>[x("div",U,[l(c(I),{class:"relative inline-block px-5 py-2 overflow-hidden font-bold text-white transition border rounded-md focus:outline-none hover:bg-opacity-80 min-w-max bg-primary",href:`/rents/${s.id}`},{default:o(()=>[u(" Edit")]),_:2},1032,["href"]),l(_,null,{default:o(()=>[u(" Delete")]),_:1})])]),_:1},8,["table-data","cols"])])]),_:1}))}});export{Ct as default};
