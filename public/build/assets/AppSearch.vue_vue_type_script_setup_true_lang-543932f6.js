import{o as r,f as p,a as u,k as S,r as _,c as h,w as i,u as g,a6 as B,g as m,b as a,m as x,h as $,a7 as M}from"./app-bdc0a90d.js";import{_ as A}from"./close-0030bbab.js";import{V as F}from"./atmosphere-ui-92e9addd.js";import{A as y}from"./AppSearchFilters-f0af399e.js";const O={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},N=u("path",{fill:"currentColor",d:"m18 21l-4-4h3V7h-3l4-4l4 4h-3v10h3M2 19v-2h10v2M2 13v-2h7v2M2 7V5h4v2H2Z"},null,-1),Y=[N];function I(o,n){return r(),p("svg",O,Y)}const j={name:"mdi-sort",render:I},K={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},T=u("path",{fill:"currentColor",d:"M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5l-1.5 1.5l-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16A6.5 6.5 0 0 1 3 9.5A6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14S14 12 14 9.5S12 5 9.5 5Z"},null,-1),U=[T];function Z(o,n){return r(),p("svg",K,U)}const D={name:"mdi-search",render:Z},E={class:"flex rounded-md bg-base-lvl-2 w-full h-10 border border-base-lvl-1"},G=S({__name:"AppSearch",props:{filters:{type:Object},sorts:{type:Object},modelValue:{type:String},placeholder:{type:String,default:"Buscar..."},hasFilters:{type:Boolean}},emits:["update:sorts","update:filters","update:modelValue","clear","blur","focus"],setup(o,{emit:n}){const d=o,b=t=>{const e=d.sorts[t],v=["desc",""].includes(e.direction)?"asc":"desc";n("update:sorts",{...d.sorts,[t]:{...e,value:!0,direction:v}}),l.value=""},V=(t,e)=>{n("update:filters",{...d.filters,[t]:{...d.filters[t],value:e}}),l.value=""},l=_(""),c=t=>t==l.value,w=()=>{n("clear"),l.value=""},C=M(t=>{n("update:modelValue",t)},200);return(t,e)=>{const v=D,k=A,f=j;return r(),p("div",E,[l.value?m("",!0):(r(),h(g(F),{key:0,class:"rounded-md bg-base-lvl-2 w-full h-12","is-borderless":!0,"input-class":"overflow-visible",placeholder:o.placeholder,"model-value":o.modelValue,"onUpdate:modelValue":g(C),onFocus:e[2]||(e[2]=s=>t.$emit("focus")),onBlur:e[3]||(e[3]=s=>t.$emit("blur")),onKeydown:e[4]||(e[4]=B(x(s=>t.$emit("search"),["ctrl"]),["enter"]))},{prefix:i(()=>[u("button",{class:"rounded-l-md px-2 hover:bg-gray-50 md:px-4",onClick:e[0]||(e[0]=x(s=>t.$emit("search"),["stop"]))},[a(v)])]),suffix:i(()=>[o.hasFilters?(r(),p("button",{key:0,title:"Reset all filters",class:"hover:bg-red-400 bg-gray-100 h-6 transition-all mr-4 flex items-center justify-center w-6 my-auto hover:text-white px-2 rounded-full",onClick:e[1]||(e[1]=s=>w())},[a(k)])):m("",!0)]),_:1},8,["placeholder","model-value","onUpdate:modelValue"])),c("filter")?m("",!0):(r(),h(y,{key:1,class:"flex space-x-4 items-center",title:"Sort by","is-active":c("sort"),filters:o.sorts,fields:["title","releaseYear"],onOpen:e[7]||(e[7]=s=>l.value="sort"),onClose:e[8]||(e[8]=s=>l.value=null)},{releaseYear:i(()=>[u("button",{class:"hover:bg-gray-50 px-2 flex h-full items-center",onClick:e[5]||(e[5]=s=>b("releaseYear"))},[a(f),$(" Year ")])]),title:i(()=>[u("button",{class:"hover:bg-gray-50 px-2 flex items-center",onClick:e[6]||(e[6]=s=>b("title"))},[a(f),$(" Name ")])]),icon:i(()=>[a(f)]),_:1},8,["is-active","filters"])),c("sort")?m("",!0):(r(),h(y,{key:2,class:"flex space-x-4 items-center text-body-1","is-active":c("filter"),fields:["releaseYear","programType"],filters:o.filters,onOpen:e[9]||(e[9]=s=>l.value="filter"),onClose:e[10]||(e[10]=s=>l.value=null),onSelect:V},null,8,["is-active","filters"]))])}}});export{G as _};
