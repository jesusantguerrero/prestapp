import{_ as b,B as v,a as M}from"./AppLayout.vue_vue_type_script_setup_true_lang-0afa9cc5.js";import{_ as O}from"./document-9032bbbd.js";import{a as P}from"./AppLayout.vue_vue_type_style_index_0_lang-0d2503f0.js";import{_ as D}from"./ClientsTable.vue_vue_type_script_setup_true_lang-71491dff.js";import{k as I,d as f,B as T,c as l,w as o,u as e,o as s,b as n,h as m,E as c,g as y,t as V,a as z,f as E}from"./app-b9464164.js";import R from"./LoanSectionNav-102d6475.js";import{_ as q}from"./PropertySectionNav.vue_vue_type_script_setup_true_lang-e2241f15.js";import{_ as d}from"./AppButton.vue_vue_type_script_setup_true_lang-89aa5f09.js";import{u as J}from"./useServerSearch-99df1bc6.js";import{u as j}from"./BaseTable.vue_vue_type_style_index_0_lang-d3c40c15.js";import"./atmosphere-ui-8913659c.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./PaymentFormModal.vue_vue_type_script_setup_true_lang-a1e2938d.js";import"./PaymentGrid-88a06cd9.js";/* empty css                                                                    */import"./mathHelper-44355b55.js";import"./exact-math.node-e9867222.js";import"./constants-0a903a05.js";import"./AccountSelect.vue_vue_type_script_setup_true_lang-d3f16147.js";import"./formatMoney-b7ef7683.js";import"./BaseSelect.vue_vue_type_script_setup_true_lang-89ccd5ed.js";/* empty css                                                   */import"./index-c251e33c.js";import"./index-81f33ca2.js";import"./Modal.vue_vue_type_script_setup_true_lang-74361783.js";import"./usePaymentModal-23c75da0.js";import"./ClientFormModal.vue_vue_type_script_setup_true_lang-3f2645eb.js";import"./close-45140fa9.js";import"./ClientForm.vue_vue_type_script_setup_true_lang-d4d45920.js";import"./clientInteractions-6c951eed.js";import"./SectionNav.vue_vue_type_script_setup_true_lang-b284cd8c.js";import"./AppSearch.vue_vue_type_script_setup_true_lang-b788b25f.js";import"./AppSearchFilters-93f60e1e.js";import"./constants-ca1255a1.js";import"./IconMarker-c773280e.js";import"./ClientCard.vue_vue_type_script_setup_true_lang-39a927b8.js";import"./menus-2c7b33a0.js";import"./index-8305cd09.js";import"./customCell-57b73ca8.js";const F={class:"mt-16 bg-white rounded-md"},G={key:0,class:"fixed bottom-16 right-5 flex space-x-2"},Mt=I({__name:"Index",props:{clients:null,type:null,serverSearchOptions:{default:()=>({filters:{},dates:{},sorts:"",limit:10,relationships:"",search:"",page:1})}},setup(i){const r=i,g=f(()=>Array.isArray(r.clients)?r.clients:r.clients.data),k=f(()=>!Array.isArray(r.clients)&&r.clients.total),{toggleModal:u}=P("contact"),C=f(()=>({owner:"DueÃ±os de propiedades",tenant:"Inquilinos",lender:"Clientes de prestamos"})[r.type]??"Clientes"),{serverSearchOptions:_}=T(r),{executeSearch:$,updateSearch:S,changeSize:w,paginate:x,state:h}=J(_,p=>{S(`/contacts/${r.type}?${p}`)},{manual:!0}),{isMobile:A}=j();return(p,t)=>{const B=O,N=M;return s(),l(b,{title:e(C)},{header:o(()=>[i.type=="lender"?(s(),l(R,{key:0},{actions:o(()=>[n(d,{variant:"inverse-secondary",class:"hidden md:flex",onClick:t[0]||(t[0]=a=>e(c).visit("/loans/create"))},{default:o(()=>[m(" Nuevo prestamo ")]),_:1}),n(d,{variant:"secondary",class:"hidden md:flex",onClick:t[1]||(t[1]=a=>e(u)({data:{type:i.type},isOpen:!0}))},{default:o(()=>[m(" Nuevo cliente ")]),_:1})]),_:1})):(s(),l(q,{key:1},{actions:o(()=>[i.type=="owner"?(s(),l(d,{key:0,variant:"inverse",onClick:t[2]||(t[2]=a=>e(c).visit(p.route("properties.create")))},{default:o(()=>[m(" Agregar Propiedad ")]),_:1})):y("",!0),i.type=="owner"?(s(),l(d,{key:1,variant:"inverse",onClick:t[3]||(t[3]=a=>e(c).visit(p.route("owners.draw")))},{default:o(()=>[m(" Pagar distribucion ")]),_:1})):(s(),l(d,{key:2,variant:"inverse-secondary",onClick:t[4]||(t[4]=a=>e(c).visit(p.route("properties.create")))},{default:o(()=>[m(" Agregar Contrato ")]),_:1})),n(d,{variant:"secondary",onClick:t[5]||(t[5]=a=>e(u)({data:{type:i.type},isOpen:!0}))},{default:o(()=>[m(" Agregar "+V(i.type),1)]),_:1})]),_:1}))]),default:o(()=>[z("main",F,[n(D,{clients:e(g),pagination:e(h),total:e(k),onSearch:e($),onPaginate:e(x),onSizeChange:e(w)},null,8,["clients","pagination","total","onSearch","onPaginate","onSizeChange"]),e(A)?(s(),E("div",G,[n(v,{onClick:t[6]||(t[6]=a=>e(c).visit("/loans/create"))},{default:o(()=>[n(B)]),_:1}),n(v,{onClick:t[7]||(t[7]=a=>e(u)({data:{type:i.type},isOpen:!0}))},{default:o(()=>[n(N)]),_:1})])):y("",!0)])]),_:1},8,["title"])}}});export{Mt as default};
