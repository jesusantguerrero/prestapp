import{_}from"./sharp-payment-87c77348.js";import{_ as f}from"./AppButton.vue_vue_type_script_setup_true_lang-bb509e3b.js";import{_ as h}from"./BaseTable.vue_vue_type_style_index_0_lang-46fdd41f.js";import{u as b}from"./usePaymentModal-7f0729f4.js";import{f as y}from"./index-8305cd09.js";import{f as s}from"./formatMoney-b7ef7683.js";import{U as c,k as x,c as l,w as r,u as C,o as i,a as g,b as $,h as I,g as P}from"./app-5778ba55.js";const k=[{name:"due_date",minWidth:100,label:"Fecha",render(e){return y(e.due_date)}},{name:"amount",label:"Monto",minWidth:100,render(e){return s(e.amount)}},{name:"capital",label:"Capital",minWidth:100,render(e){return s(e.principal)}},{name:"interest",label:"InterÃ©s",minWidth:100,render(e){return s(e.interest)}},{name:"balance",label:"Balance pendiente",width:200,headerClass:"text-right",class:"text-right",render(e){return c("div",{class:"flex space-x-4 w-full justify-end"},[c("span",e.payment_status),c("span",{class:"text-right font-bold"},s(e.final_balance))])}},{name:"actions",label:"Acciones"}],v={class:"flex space-x-2 justify-end"},F=x({__name:"InstallmentTable",props:{installments:null,loanId:null,hiddenCols:null},emits:["pay"],setup(e,{emit:d}){const m=e,{openModal:u}=b(),p=a=>{const t={...a,amount:parseFloat(a.amount_due)||a.amount,id:void 0,installment_id:a.id},o=`Pago prestamo ${a.loan_id} (${a.number}/${m.installments.length})`;u({data:{title:"Pagar prestamo",endpoint:`/loans/${a.loan_id}/installments/${a.id}/pay`,due:t.amount,account_id:t.account_id,payment:t,defaultConcept:o,accountsEndpoint:"/loan-accounts"}}),d("pay",a)};return(a,t)=>{const o=_;return i(),l(h,{cols:C(k),"table-data":e.installments,"hidden-cols":e.hiddenCols},{actions:r(({scope:{row:n}})=>[g("div",v,[(n==null?void 0:n.payment_status)!=="PAID"||e.loanId?(i(),l(f,{key:0,onClick:B=>p(n),variant:"inverse-secondary",class:"flex items-center"},{default:r(()=>[$(o,{class:"mr-2"}),I(" Pagar ")]),_:2},1032,["onClick"])):P("",!0)])]),_:1},8,["cols","table-data","hidden-cols"])}}});export{F as _};
