import{o as i,f as y,a as e,k as V,d as M,r as b,c as _,w as a,u as n,C as N,b as o,E as p,h as l,t as c,ab as F,j,F as D,g as $}from"./app-de9d56f0.js";import{i as g}from"./atmosphere-ui-55a1c253.js";import{_ as E}from"./Modal.vue_vue_type_script_setup_true_lang-26f85fd9.js";import{_ as T}from"./AppLayout.vue_vue_type_script_setup_true_lang-5b8fe57e.js";import"./AppLayout.vue_vue_type_style_index_0_lang-1b19aa61.js";import{_ as C}from"./AppButton.vue_vue_type_script_setup_true_lang-81087974.js";import{_ as z}from"./AppSectionHeader-191edb46.js";import{I as U}from"./IconMarker-92fd0c89.js";import{I as L}from"./IconCoins-5bb86058.js";import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";import{_ as A}from"./PropertySectionNav.vue_vue_type_script_setup_true_lang-19b23e2c.js";import G from"./ContractCard-63df8f6e.js";import v from"./EmptyAddTool-948051e3.js";import H from"./UnitForm-24598a11.js";import{f as h}from"./formatMoney-b7ef7683.js";import{c as J}from"./clientInteractions-a56251a7.js";import"./PaymentFormModal.vue_vue_type_script_setup_true_lang-e6300ed2.js";import"./PaymentGrid-aa03ae3b.js";/* empty css                                                                    */import"./mathHelper-c551ea9f.js";import"./exact-math.node-4d03343f.js";import"./constants-0a903a05.js";import"./AccountSelect.vue_vue_type_script_setup_true_lang-a83a84cb.js";import"./BaseSelect.vue_vue_type_script_setup_true_lang-7415b2b5.js";/* empty css                                                   */import"./index-c251e33c.js";import"./index-81f33ca2.js";import"./usePaymentModal-6968ac37.js";import"./ClientFormModal.vue_vue_type_script_setup_true_lang-ca470652.js";import"./close-69e3a4b1.js";import"./ClientForm.vue_vue_type_script_setup_true_lang-8a48d595.js";import"./SectionNav.vue_vue_type_script_setup_true_lang-de720a79.js";import"./AppSearch.vue_vue_type_script_setup_true_lang-46ceeab7.js";import"./AppSearchFilters-d4c59cd5.js";import"./menus-942163d8.js";import"./index-8305cd09.js";import"./constants-ca1255a1.js";const R={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Z=e("path",{fill:"currentColor",d:"M10 20v-6h4v6h5v-8h3L12 3L2 12h3v8h5Z"},null,-1),q=[Z];function K(s,u){return i(),y("svg",R,q)}const Q={name:"mdi-home",render:K},W={name:"Fa6SolidUserShield"},X={width:"1.25em",height:"1em",viewBox:"0 0 640 512"},Y=e("path",{fill:"currentColor",d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512h388.6c1.8 0 3.5-.2 5.3-.5c-76.3-55.1-99.8-141-103.1-200.2c-16.1-4.8-33.1-7.3-50.7-7.3h-91.5zm308.8-78.3l-120 48C358 277.4 352 286.2 352 296c0 63.3 25.9 168.8 134.8 214.2c5.9 2.5 12.6 2.5 18.5 0C614.1 464.8 640 359.3 640 296c0-9.8-6-18.6-15.1-22.3l-120-48c-5.7-2.3-12.1-2.3-17.8 0zM591.4 312c-3.9 50.7-27.2 116.7-95.4 149.7V273.8l95.4 38.2z"},null,-1),ee=[Y];function te(s,u,w,x,d,k){return i(),y("svg",X,ee)}const oe=O(W,[["render",te]]),se={class:"p-5 mt-8"},ne={class:"w-full px-5 pb-2 mb-5 space-y-5 text-gray-600 bg-white border-gray-200 shadow-md rounded-b-md"},re={class:"flex items-center justify-between py-4"},ae={class:"flex items-center space-x-2"},le={class:"group-hover:underline underline-offset-4"},ie={class:"flex space-x-5"},de={class:"flex items-center"},ce={class:"font-bold text-success"},me=e("p",{class:"text-bold text-body-1"},"Renta Mensual",-1),pe={class:"flex w-full space-x-8 rounded-t-none border-t-none"},ue={class:"w-9/12 space-y-4"},fe={class:"flex space-x-4"},_e={class:"space-y-4 shadow-md bg-base-lvl-3"},ve={class:"flex w-full rounded-md px-4 py-2 justify-between"},he=e("p",null,null,-1),ye={class:"w-3/12 space-y-2 rounded-md shadow-md"},we={class:"px-5 py-10 text-gray-600 bg-gray-200 rounded-md"},xe=e("div",{class:"header"},[e("h2",{class:"text-lg font-bold"},"Manejo de Propiedad"),e("small",null," Private place for you and your internal team to manage this project")],-1),be={class:"mt-4 space-y-2"},$e={class:"flex space-x-4"},at=V({__name:"Show",props:{properties:null,currentTab:{default:"summary"}},setup(s){const u=s,w=M(()=>u.properties.address.split(",")[0]),x=b(!1),d=b(null),k=M(()=>d.value&&`Pago ${u.properties.id} pago #${d.value.installment_id}`),P=()=>{p.reload()},m=b(!1),I=()=>{m.value=!0};return(f,t)=>{const S=Q,B=N("PaymentFormModal");return i(),_(T,{title:`Propiedades / ${n(w)}`},{header:a(()=>[o(A,null,{actions:a(()=>[o(C,{onClick:t[0]||(t[0]=r=>n(p).visit(f.route("properties.edit",s.properties))),variant:"inverse"},{default:a(()=>[l(" Editar ")]),_:1}),o(C,{onClick:t[1]||(t[1]=r=>n(p).visit(f.route("rents.create",{propertyId:s.properties.id}))),variant:"inverse"},{default:a(()=>[l(" Nuevo Contrato ")]),_:1})]),_:1})]),default:a(()=>[e("main",se,[o(z,{name:"",class:"px-5 border-2 border-white rounded-md rounded-b-none shadow-md",resource:s.properties,title:n(w),onCreate:t[2]||(t[2]=r=>n(p).visit("/properties/create")),"hide-action":""},null,8,["resource","title"]),e("header",ne,[e("section",re,[e("article",null,[e("p",ae,[o(U),e("span",null,c(s.properties.address),1)]),e("p",{class:"flex items-center space-x-2 cursor-pointer text-primary group",onClick:t[3]||(t[3]=r=>n(p).visit(f.route("clients.show",s.properties.owner)))},[o(oe),e("span",le,c(s.properties.owner.fullName),1)])]),e("article",ie,[e("section",null,[e("div",de,[o(L,{class:"mr-2 text-yellow-600"}),e("span",ce,c(n(h)(s.properties.price)),1)]),me]),o(n(F),null,{default:a(()=>[l(c(s.properties.status),1)]),_:1})])])]),e("section",pe,[e("article",ue,[e("section",fe,[o(n(g),{class:"w-full bg-white border h-28 text-body-1",title:"Balance de Cuenta",value:n(h)(0)},null,8,["value"]),o(n(g),{class:"w-full bg-white border h-28 text-body-1",title:"Balance de Pendiente",value:n(h)(0)},null,8,["value"]),o(n(g),{class:"w-full bg-white border h-28 text-body-1",title:"Dias de mora",value:0})]),e("section",_e,[(i(!0),y(D,null,j(s.properties.units,r=>(i(),y("div",ve,[e("h4",null,[o(S),l(" "+c(r.name||"Sin nombre")+" ",1),e("p",null,c(n(h)(r.price)),1)]),e("div",null,[l(c(r.status)+" ",1),he])]))),256))]),s.properties.contract?(i(),_(G,{key:0,class:"p-4 border rounded-md shadow-md bg-base-lvl-3",contract:s.properties.contract},null,8,["contract"])):$("",!0)]),e("article",ye,[e("div",we,[xe,e("div",be,[e("section",$e,[o(C,{class:"w-full",onClick:t[4]||(t[4]=r=>n(J).generateOwnerDistribution(s.properties.owner_id))},{default:a(()=>[l(" Generar Pago a DueÃ±o ")]),_:1})]),o(v,null,{default:a(()=>[l(" Notes ")]),_:1}),o(v,null,{default:a(()=>[l(" Imagenes ")]),_:1}),o(v,null,{default:a(()=>[l(" Documentos ")]),_:1}),o(v,{onClick:t[5]||(t[5]=r=>I())},{default:a(()=>[l(" Agregar unidad ")]),_:1})])])])]),d.value?(i(),_(B,{key:0,modelValue:x.value,"onUpdate:modelValue":t[6]||(t[6]=r=>x.value=r),payment:d.value,endpoint:`/loans/${s.properties.id}/installments/${d.value.installment_id}/pay`,due:d.value.amount,"default-concept":n(k),onSaved:t[7]||(t[7]=r=>P())},null,8,["modelValue","payment","endpoint","due","default-concept"])):$("",!0),m.value?(i(),_(E,{key:1,show:m.value,onClose:t[9]||(t[9]=r=>m.value=!1)},{default:a(()=>[o(H,{onClose:t[8]||(t[8]=r=>m.value=!1),property:s.properties},null,8,["property"])]),_:1},8,["show"])):$("",!0)])]),_:1},8,["title"])}}});export{at as default};
