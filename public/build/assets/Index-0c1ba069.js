import{_ as I,B as S,a as T}from"./AppLayout.vue_vue_type_style_index_0_lang-3aae0800.js";import{_ as D}from"./document-664d61e3.js";import{l as E,d as g,B as R,z as U,c as m,w as a,u as t,o as r,E as c,h as p,g as f,b as n,t as q,a as _,f as k}from"./app-494b6f90.js";import{_ as F}from"./ClientsTable.vue_vue_type_script_setup_true_lang-abee7fff.js";import{_ as J}from"./LoanSectionNav.vue_vue_type_script_setup_true_lang-185d9b4d.js";import{_ as j}from"./PropertySectionNav.vue_vue_type_script_setup_true_lang-d424aeb5.js";import{_ as d}from"./AppButton.vue_vue_type_script_setup_true_lang-6731c3fc.js";import{a as G}from"./user-outline-c87acd59.js";import{c as C}from"./ClientForm.vue_vue_type_script_setup_true_lang-7ced5882.js";import{u as H}from"./useServerSearch-a69254f0.js";import{u as K,a as L}from"./BaseTable.vue_vue_type_style_index_0_lang-39691f37.js";import{_ as Q}from"./BaseSelect.vue_vue_type_style_index_1_lang-7b13fe11.js";import"./atmosphere-ui-83e2a306.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./PaymentFormModal.vue_vue_type_script_setup_true_lang-2fd658ef.js";import"./close-40de6817.js";import"./PaymentGrid-a2bc0bdb.js";import"./mathHelper-d6bc48cd.js";import"./exact-math.node-f7579f9b.js";import"./constants-0a903a05.js";import"./AccountSelect.vue_vue_type_script_setup_true_lang-93902e28.js";import"./formatMoney-b7ef7683.js";import"./AppFormField.vue_vue_type_style_index_0_lang-2eb2a149.js";import"./index-c251e33c.js";import"./index-81f33ca2.js";import"./Modal.vue_vue_type_script_setup_true_lang-ca2f799a.js";import"./InvoiceFormModal.vue_vue_type_script_setup_true_lang-d4cb9813.js";import"./ClientFormModal.vue_vue_type_script_setup_true_lang-593db1f8.js";import"./usePaymentModal-f96f741a.js";import"./FastAccessOptions.vue_vue_type_script_setup_true_lang-ff3d4599.js";import"./constants-79e2e68b.js";import"./IconMarker-d6248750.js";import"./ClientCard.vue_vue_type_script_setup_true_lang-d2ac3241.js";import"./ClientProfile-45452668.js";import"./menus-f4817d1f.js";import"./SectionNav.vue_vue_type_script_setup_true_lang-3cbc58a3.js";import"./index-9dc2d84c.js";import"./index-3624ec38.js";import"./customCell-9e9ed16f.js";const W={class:"mt-16"},X={class:"flex space-x-4"},Y={key:0,class:"flex space-x-2"},Z={key:1},ee={key:0,class:"fixed bottom-16 right-5 flex space-x-2"},Ue=E({__name:"Index",props:{clients:null,type:null,serverSearchOptions:{default:()=>({filters:{},dates:{},sorts:"",limit:10,relationships:"",search:"",page:1})}},setup(s){const l=s,x=g(()=>Array.isArray(l.clients)?l.clients:l.clients.data),V=g(()=>!Array.isArray(l.clients)&&l.clients.total),{toggleModal:y}=G("contact"),w=g(()=>({owner:"Propietarios",tenant:"Inquilinos",lender:"Clientes de prestamos"})[l.type]??"Clientes"),{serverSearchOptions:B}=R(l),{executeSearch:v,updateSearch:b,changeSize:h,paginate:A,reset:z,state:u}=H(B,i=>{b(`/contacts/${l.type}?${i}`)},{manual:!0}),{isMobile:M}=K(),$=U({status:C.find(i=>i.name===u.filters.status)??C[0]}),N=i=>{u.filters.status=i.name,v()};return(i,e)=>{const P=D,O=T;return r(),m(I,{title:t(w)},{header:a(()=>[s.type=="lender"?(r(),m(J,{key:0})):(r(),m(j,{key:1},{actions:a(()=>[s.type=="owner"?(r(),m(d,{key:0,variant:"inverse",onClick:e[0]||(e[0]=o=>t(c).visit(i.route("properties.create")))},{default:a(()=>[p(" Agregar Propiedad ")]),_:1})):f("",!0),s.type=="owner"?(r(),m(d,{key:1,variant:"inverse",onClick:e[1]||(e[1]=o=>t(c).visit(i.route("owners.draw")))},{default:a(()=>[p(" Pagar distribucion ")]),_:1})):(r(),m(d,{key:2,variant:"inverse-secondary",onClick:e[2]||(e[2]=o=>t(c).visit(i.route("properties.create")))},{default:a(()=>[p(" Agregar Contrato ")]),_:1})),n(d,{variant:"secondary",onClick:e[3]||(e[3]=o=>t(y)({data:{type:s.type},isOpen:!0}))},{default:a(()=>[p(" Agregar "+q(s.type),1)]),_:1})]),_:1}))]),default:a(()=>[_("main",W,[_("section",X,[n(L,{modelValue:t(u).search,"onUpdate:modelValue":e[4]||(e[4]=o=>t(u).search=o),modelModifiers:{lazy:!0},class:"w-full md:flex","has-filters":!0,onClear:e[5]||(e[5]=o=>t(z)()),onBlur:t(v)},null,8,["modelValue","onBlur"]),s.type=="lender"?(r(),k("article",Y,[n(d,{variant:"inverse-secondary",class:"hidden md:flex",onClick:e[6]||(e[6]=o=>t(c).visit("/loans/create"))},{default:a(()=>[p(" Nuevo prestamo ")]),_:1}),n(d,{variant:"secondary",class:"hidden md:flex",onClick:e[7]||(e[7]=o=>t(y)({data:{type:s.type},isOpen:!0}))},{default:a(()=>[p(" Nuevo cliente ")]),_:1})])):f("",!0),s.type=="tenant"?(r(),k("article",Z,[n(Q,{placeholder:"Filtrar",options:t(C),modelValue:$.status,"onUpdate:modelValue":[e[8]||(e[8]=o=>$.status=o),N],label:"label","track-by":"name",size:"large"},null,8,["options","modelValue"])])):f("",!0)]),n(F,{class:"bg-white rounded-md",clients:t(x),pagination:t(u),total:t(V),onSearch:t(v),onPaginate:t(A),onSizeChange:t(h)},null,8,["clients","pagination","total","onSearch","onPaginate","onSizeChange"]),t(M)?(r(),k("div",ee,[n(S,{onClick:e[9]||(e[9]=o=>t(c).visit("/loans/create"))},{default:a(()=>[n(P)]),_:1}),n(S,{onClick:e[10]||(e[10]=o=>t(y)({data:{type:s.type},isOpen:!0}))},{default:a(()=>[n(O)]),_:1})])):f("",!0)])]),_:1},8,["title"])}}});export{Ue as default};
