import{o as l,f as p,a,k as x,n as k,l as B,J as X,r as O,d as M,m as R,u as e,g as y,t as D,p as Y,q as ee,s as te,i as V,e as H,x as P,b as c,w as u,T as ae,c as w,y as A,F as W,j as ne,z as le,P as re,A as ie,B as ce,C as de,h as C,D as E,E as N,G as se,H as ue,I as q,K as oe,L as me,M as pe,X as fe,N as he}from"./app-e7293397.js";import{z as _e,F as G,a as ve}from"./atmosphere-ui-86b7f8ed.js";import{_ as z}from"./_plugin-vue_export-helper-c27b6911.js";import{_ as Z}from"./AppButton.vue_vue_type_script_setup_true_lang-046c4e1c.js";import{_ as be}from"./PaymentFormModal.vue_vue_type_script_setup_true_lang-dd64f8b8.js";import{_ as ge}from"./Modal.vue_vue_type_script_setup_true_lang-53b90f8d.js";import{_ as J}from"./AccountSelect.vue_vue_type_script_setup_true_lang-cb870c82.js";import{_ as I}from"./AppFormField.vue_vue_type_style_index_0_lang-d6998fd8.js";import{f as xe}from"./index-c251e33c.js";import{_ as ye}from"./InvoiceFormModal.vue_vue_type_script_setup_true_lang-88bfc502.js";import{u as we,a as K,t as $e}from"./user-outline-dcfa7b13.js";import{_ as ke}from"./ClientFormModal.vue_vue_type_script_setup_true_lang-d0093e27.js";import{u as Ce,m as Q}from"./usePaymentModal-ad844d5c.js";import{_ as Me}from"./FastAccessOptions.vue_vue_type_script_setup_true_lang-1fc13d45.js";const Ae={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Se=a("path",{fill:"currentColor",d:"M10 19h3v3h-3v-3m2-17c5.35.22 7.68 5.62 4.5 9.67c-.83 1-2.17 1.66-2.83 2.5C13 15 13 16 13 17h-3c0-1.67 0-3.08.67-4.08c.66-1 2-1.59 2.83-2.25C15.92 8.43 15.32 5.26 12 5a3 3 0 0 0-3 3H6a6 6 0 0 1 6-6Z"},null,-1),Be=[Se];function Te(t,s){return l(),p("svg",Ae,Be)}const Ve={name:"mdi-question-mark",render:Te},De={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ee=a("path",{fill:"currentColor",d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2Z"},null,-1),Oe=[Ee];function je(t,s){return l(),p("svg",De,Oe)}const Ie={name:"mdi-plus",render:je},Le={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Re=a("path",{fill:"currentColor",d:"M15.41 16.58L10.83 12l4.58-4.59L14 6l-6 6l6 6l1.41-1.42Z"},null,-1),Ne=[Re];function Fe(t,s){return l(),p("svg",Le,Ne)}const He={name:"mdi-chevron-left",render:Fe};const Ue={class:"app-content"},We={class:"app-side-container"},ze={class:"border app-content__inner ic-scroller bg-base-100"},Pe={__name:"AppShell",props:{navClass:{type:[String,Object]},isExpanded:{type:Boolean,default:!0}},setup(t){return(s,o)=>(l(),p("main",{class:k(["min-h-screen bg-base-lvl-3 home-container",{expanded:t.isExpanded}])},[a("nav",{class:k(["app-header md:pl-{var(--app)} bg-neutral imary border-b",t.navClass])},[x(s.$slots,"navigation")],2),a("article",Ue,[a("aside",We,[x(s.$slots,"aside")]),a("section",ze,[x(s.$slots,"main-section")])])],2))}},qe=Pe;const Ge={},Ze={class:"app-logo w-14 h-14"};function Je(t,s){return l(),p("div",Ze)}const Ke=z(Ge,[["render",Je]]),Qe={class:"max-w-screen-xl mx-auto py-2 px-3 sm:px-6 lg:px-8"},Xe={class:"flex items-center justify-between flex-wrap"},Ye={class:"w-0 flex-1 flex items-center min-w-0"},et={key:0,class:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},tt=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),nt=[tt],st={key:1,class:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ot=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},null,-1),at=[ot],lt={class:"ml-3 font-medium text-sm text-white truncate"},rt={class:"shrink-0 sm:ml-3"},it=a("svg",{class:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),ct=[it],dt=B({__name:"Banner",setup(t){const s=X().props,o=O(!0),n=M(()=>{var g,h;return((h=(g=s==null?void 0:s.jetstream)==null?void 0:g.flash)==null?void 0:h.bannerStyle)||"success"}),r=M(()=>{var g,h;return((h=(g=s==null?void 0:s.jetstream)==null?void 0:g.flash)==null?void 0:h.banner)||""});return R(r,async()=>{o.value=!0}),(g,h)=>(l(),p("div",null,[o.value&&e(r)?(l(),p("div",{key:0,class:k({"bg-indigo-500":e(n)=="success","bg-red-700":e(n)=="danger"})},[a("div",Qe,[a("div",Xe,[a("div",Ye,[a("span",{class:k(["flex p-2 rounded-lg",{"bg-indigo-600":e(n)=="success","bg-red-600":e(n)=="danger"}])},[e(n)=="success"?(l(),p("svg",et,nt)):y("",!0),e(n)=="danger"?(l(),p("svg",st,at)):y("",!0)],2),a("p",lt,D(e(r)),1)]),a("div",rt,[a("button",{type:"button",class:k(["-mr-1 flex p-2 rounded-md focus:outline-none sm:-mr-2 transition",{"hover:bg-indigo-600 focus:bg-indigo-600":e(n)=="success","hover:bg-red-600 focus:bg-red-600":e(n)=="danger"}]),"aria-label":"Dismiss",onClick:h[0]||(h[0]=Y(i=>o.value=!1,["prevent"]))},ct,2)])])])],2)):y("",!0)]))}}),ut={class:"relative"},U=B({__name:"Dropdown",props:{align:{type:String,default:"right"},width:{type:String,default:"48"},contentClasses:{type:Array,default:()=>["py-1","bg-white"]}},setup(t){const s=t;let o=O(!1);const n=h=>{o.value&&h.key==="Escape"&&(o.value=!1)};ee(()=>document.addEventListener("keydown",n)),te(()=>document.removeEventListener("keydown",n));const r=M(()=>({48:"w-48",300:"w-[300px]",500:"w-[500px]"})[s.width.toString()]),g=M(()=>s.align==="left"?"origin-top-left left-0":s.align==="right"?"origin-top-right right-0":"origin-top");return(h,i)=>(l(),p("div",ut,[a("div",{onClick:i[0]||(i[0]=S=>V(o)?o.value=!e(o):o=!e(o))},[x(h.$slots,"trigger")]),H(a("div",{class:"fixed inset-0 z-40",onClick:i[1]||(i[1]=S=>V(o)?o.value=!1:o=!1)},null,512),[[P,e(o)]]),c(ae,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:u(()=>[H(a("div",{class:k(["absolute z-50 mt-2 rounded-md shadow-lg",[e(r),e(g)]]),style:{display:"none"},onClick:i[2]||(i[2]=S=>V(o)?o.value=!1:o=!1)},[a("div",{class:k(["rounded-md ring-1 ring-black ring-opacity-5",t.contentClasses])},[x(h.$slots,"content")],2)],2),[[P,e(o)]])]),_:3})]))}}),mt={key:0,type:"submit",class:"block w-full px-4 py-2 text-sm leading-5 text-gray-700 text-left hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition"},pt=["href"],L={__name:"DropdownLink",props:{href:String,as:String},setup(t){return(s,o)=>(l(),p("div",null,[t.as=="button"?(l(),p("button",mt,[x(s.$slots,"default")])):t.as=="a"?(l(),p("a",{key:1,href:t.href,class:"block px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition"},[x(s.$slots,"default")],8,pt)):(l(),w(e(A),{key:2,href:t.href,class:"block px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition"},{default:u(()=>[x(s.$slots,"default")]),_:3},8,["href"]))]))}},ft={class:"grid grid-cols-3 overflow-hidden text-lg rounded-lg"},ht=["onClick"],_t=B({__name:"TransactionTypesPicker",props:{modelValue:{type:String}},emits:["update:modelValue"],setup(t){const s=[{value:"DEPOSIT",label:"Ingreso"},{value:"WITHDRAW",label:"Gasto"},{value:"TRANSFER",label:"Transferencia"}];return(o,n)=>(l(),p("div",ft,[(l(),p(W,null,ne(s,r=>a("div",{key:r.value,options:s,onClick:g=>o.$emit("update:modelValue",r.value),class:k(["py-1 font-bold text-center cursor-pointer",[t.modelValue==r.value?"bg-primary hover:bg-primary text-white":"hover:bg-base-lvl-3 text-body bg-base-lvl-2"]])},D(r.label),11,ht)),64))]))}}),vt={WITHDRAW:"WITHDRAW",DEPOSIT:"DEPOSIT",TRANSFER:"TRANSFER"},bt={class:"pb-4 bg-base-lvl-3 sm:p-6 sm:pb-4 text-body flex-1"},gt={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},xt={class:"mt-2"},yt={class:"md:flex md:space-x-2 md:px-0 px-4"},wt={class:"md:flex md:space-x-3 md:px-0 px-4"},$t=a("span",{class:"flex items-center pl-2"}," RD$ ",-1),kt={class:"px-6 py-4 space-x-3 items-center justify-end flex w-full bg-base-lvl-2"},Ct=B({__name:"TransactionModal",props:{show:{default:!1},maxWidth:{default:"2xl"},closeable:{default:!0},categories:{type:Array,default:[]},accounts:{type:Array,default:[]},recurrence:{type:Boolean,default:!1},transactionData:{type:Object,default:()=>({})},mode:{type:String,default:"income"},fullHeight:{type:Boolean}},emits:["close","saved"],setup(t,{emit:s}){const o=t,n=le({frequencyLabel:"every",form:re({name:"",payee_id:"",account:null,payee_label:"",date:new Date,description:"",direction:"WITHDRAW",category_id:null,counterAccount:null,counter_account_id:null,account_id:null,display_id:"",total:0,is_transfer:!1})});R(()=>n.form.direction,b=>{(b==null?void 0:b.toLowerCase())=="transfer"?n.form.is_transfer=!0:n.form.is_transfer=!1});const r=M(()=>n.form.is_transfer),g=M(()=>r.value?"Cuenta origen":"Cuenta"),h=M(()=>r.value?"Cuenta destino":"Categoria");M(()=>r.value?"counter_account_id":"category_id"),ie("categoryOptions",[]);const i=()=>{s("close")},S=()=>{const b={transaction:{save:{method:"post",url:()=>route("transactions.store")},update:{method:"put",url:()=>route("transactions.update",o.transactionData)}},recurrence:{save:{method:"post",url:()=>route("transactions.store-planned")},update:{method:"update",url:()=>route("transactions.store-planned")}}},m=o.transactionData&&o.transactionData.id?"update":"save",d=j.value?"recurrence":"transaction",f=b[d][m];n.form.transform(_=>{var T,$;return{..._,resource_type_id:"MANUAL",total:_.total,account_id:(T=_.account)==null?void 0:T.id,counter_account_id:($=_.counterAccount)==null?void 0:$.id,date:xe(new Date(_.date),"yyyy-MM-dd"),status:"verified",direction:_.is_transfer?vt.WITHDRAW:_.direction}}).submit(f.method,f.url(),{onBefore(_){_.data.total||alert("The balance should be more than 0")},onSuccess:()=>{s("close"),n.form.reset()}})};R(()=>o.transactionData,()=>{const b={...o.transactionData};Object.keys(n.form.data()).forEach(m=>{m=="date"&&b[m]?n.form[m]=new Date(b[m]):n.form[m]=b[m]||n.form[m]})},{deep:!0}),R(()=>o.show,b=>{var m;n.form.direction=((m=o.mode)==null?void 0:m.toUpperCase())??"WITHDRAW"});const j=O(o.recurrence),{form:v}=ce(n);return O(!1),(b,m)=>{const d=de("ElDatePicker");return l(),w(ge,{show:t.show,"max-width":t.maxWidth,"full-height":t.fullHeight,closeable:t.closeable,onClose:m[7]||(m[7]=f=>b.$emit("update:show",!1))},{default:u(()=>[a("div",bt,[a("div",gt,[c(_t,{modelValue:e(v).direction,"onUpdate:modelValue":m[0]||(m[0]=f=>e(v).direction=f)},null,8,["modelValue"]),C(" "+D(e(v).direction)+" ",1),a("div",xt,[x(b.$slots,"content",{},()=>[a("div",null,[a("div",yt,[c(I,{label:"Fecha",class:"md:w-4/12 md:block flex w-full justify-between"},{default:u(()=>[c(d,{modelValue:e(v).date,"onUpdate:modelValue":m[1]||(m[1]=f=>e(v).date=f),type:"date",size:"large",class:"w-48 md:w-full"},null,8,["modelValue"])]),_:1}),c(I,{label:"Concepto",class:"md:w-8/12 flex w-full md:block md:space-x-0 justify-between",modelValue:e(v).description,"onUpdate:modelValue":m[2]||(m[2]=f=>e(v).description=f)},null,8,["modelValue"])]),c(I,{label:e(g),class:"md:w-full md:block md:space-x-0 flex w-full justify-between space-x-4"},{default:u(()=>[c(J,{endpoint:"/api/accounts",modelValue:e(v).account,"onUpdate:modelValue":m[3]||(m[3]=f=>e(v).account=f)},null,8,["modelValue"])]),_:1},8,["label"]),a("div",wt,[c(I,{label:e(h),class:"hidden md:block md:w-full"},{default:u(()=>[c(J,{endpoint:"/api/accounts",modelValue:e(v).counterAccount,"onUpdate:modelValue":m[4]||(m[4]=f=>e(v).counterAccount=f)},null,8,["modelValue"])]),_:1},8,["label"]),c(I,{label:"Monto",class:"hidden md:block md:w-5/12"},{default:u(()=>[c(e(_e),{"number-format":!0,modelValue:e(v).total,"onUpdate:modelValue":m[5]||(m[5]=f=>e(v).total=f)},{prefix:u(()=>[$t]),_:1},8,["modelValue"])]),_:1})])])])])])]),a("footer",kt,[a("div",null,[c(e(G),{onClick:m[6]||(m[6]=f=>i()),rounded:"",class:"h-10 text-body"},{default:u(()=>[C(" Cancel ")]),_:1}),c(e(G),{class:"h-10 text-white bg-primary",disabled:!e(v).total||e(v).processing,onClick:S,rounded:""},{default:u(()=>[C(" Save ")]),_:1},8,["disabled"])])])]),_:3},8,["show","max-width","full-height","closeable"])}}}),Mt=B({__name:"TheGlobals",emits:["reload"],setup(t,{emit:s}){const{isOpen:o}=Ce(),n=()=>{o.value=!1,s("reload")},{isOpen:r,closeTransactionModal:g}=we(),h=()=>{g(),s("reload")},{isOpen:i,closeModal:S,data:j}=K("contact"),v=()=>{S(),s("reload")},{isOpen:b,closeModal:m,data:d}=K("invoice");return(f,_)=>{var T;return l(),p(W,null,[e(Q)?(l(),w(be,E({key:0},(T=e(Q))==null?void 0:T.data,{modelValue:e(o),"onUpdate:modelValue":_[0]||(_[0]=$=>V(o)?o.value=$:null),onSaved:n}),null,16,["modelValue"])):y("",!0),c(Ct,E({show:e(r),"onUpdate:show":_[1]||(_[1]=$=>V(r)?r.value=$:null)},e($e),{onSaved:h,onClose:h}),null,16,["show"]),c(ke,E({show:e(i),"onUpdate:show":_[2]||(_[2]=$=>V(i)?i.value=$:null)},e(j),{onSaved:v}),null,16,["show"]),e(b)?(l(),w(ye,E({key:1,title:"Registar gasto de propiedad",modelValue:e(b),"onUpdate:modelValue":_[3]||(_[3]=$=>V(b)?b.value=$:null)},e(d),{onSaved:_[4]||(_[4]=$=>e(N).reload())}),null,16,["modelValue"])):y("",!0)],64)}}}),At={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},St=a("path",{fill:"currentColor",d:"M21 19v1H3v-1l2-2v-6c0-3.1 2.03-5.83 5-6.71V4a2 2 0 0 1 2-2a2 2 0 0 1 2 2v.29c2.97.88 5 3.61 5 6.71v6l2 2m-7 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2"},null,-1),Bt=[St];function Tt(t,s){return l(),p("svg",At,Bt)}const Vt={name:"mdi-bell",render:Tt},Dt={__name:"AppButtonTab",props:{keepActiveState:{type:Boolean,default:!0},icon:{type:String},rounded:{type:Boolean,default:!1}},setup(t){const s=t,o=M(()=>{const n=s.keepActiveState&&"focus:bg-base-lvl-1",r=s.rounded?"rounded-full h-8 w-8":"";return[n,r]});return(n,r)=>(l(),p("button",E({type:"button",class:["inline-flex items-center px-2 py-2 text-sm font-medium leading-4 text-body transition border border-transparent rounded-md hover:bg-base-lvl-2 hover:text-body/80 focus:outline-none",e(o)]},n.$attrs),[x(n.$slots,"icon",{},()=>[t.icon?(l(),p("i",{key:0,class:k(["fa mr-2",t.icon])},null,2)):y("",!0)]),x(n.$slots,"default")],16))}},Et={__name:"AppButtonCircle",setup(t){return(s,o)=>(l(),w(Dt,{rounded:"",type:"button",class:"relative text-body-1/80 bg-base-lvl-1 hover:bg-primary/10 transition border-base-lvl-1 hover:border-primary rounded-full"},{default:u(()=>[x(s.$slots,"default")]),_:3}))}},Ot={key:0,class:"absolute bottom-0 right-0 w-4 h-4 text-xs text-white bg-error rounded-full shadow-md"},jt={__name:"AppNotificationBell",props:{notifications:{type:Number,default(){return 0}}},setup(t){return(s,o)=>{const n=Vt;return l(),w(Et,{type:"button"},{default:u(()=>[c(n,{class:"text-md"}),t.notifications>0?(l(),p("div",Ot,D(t.notifications),1)):y("",!0)]),_:1})}}},It=B({__name:"AddNewButton",setup(t){return(s,o)=>(l(),w(U,{align:"right",width:"500"},{trigger:u(()=>[x(s.$slots,"default")]),content:u(()=>[c(Me,{extended:!0,class:"px-4"})]),_:3}))}}),Lt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Rt=a("path",{fill:"currentColor",d:"M20 14h-6v6h-4v-6H4v-4h6V4h4v6h6v4Z"},null,-1),Nt=[Rt];function Ft(t,s){return l(),p("svg",Lt,Nt)}const Ht={name:"mdi-plus-thick",render:Ft},Ut=()=>{const t=[{icon:"fa fa-home",name:"home",label:"Inicio",to:"/dashboard",as:A},{icon:"fas fa-money-check-alt",label:"Prestamos",name:"prestamos",to:"/loans",as:A,isActiveFunction(n,r){return/loans|lender/.test(r)}},{icon:"fas fa-building",label:"Propiedades",to:"/units?filter[status]=RENTED",as:A,isActiveFunction(n,r){return/properties|units|tenant|owner/.test(r)}},{icon:"fas fa-calculator",label:"Contabilidad",to:"/invoices?filter[type]=expense|invoice",as:A,isActiveFunction(n,r){return/invoices/.test(r)},hidden:!0},{icon:"fas fa-chart-bar",label:"Reportes",to:"/statements",as:A,isActiveFunction(n,r){return/statements/.test(r)},hidden:!0}].filter(n=>!(n!=null&&n.hidden));let s=se.cloneDeep(t);return s.splice(2,null,{name:"add",label:"Add",icon:Ht,action:"openTransactionModal"}),{appMenu:t,headerMenu:[{icon:"fas fa-question",label:"Ayuda y Soporte",to:"/help",as:A},{icon:"fas fa-cogs",label:"Configuración",name:"settings",to:"/settings",as:A}],mobileMenu:s}};function Wt(){const t=(s,o="subcategories",n="categoryOptions",r)=>{if(!s||!s.map)return;const h=se.cloneDeep(s).map(i=>(i&&(i.type=o&&i[o]?"group":null,i.key=i.id,i.value=i.id,i.label=i.name,i[o]&&(i.children=t(i[o],!1,!1,r))),r?r(i):i));return n&&ue(n,h),h};return{categoryOptions:t}}const zt={};function Pt(t,s){return l(),p("button",E(t.$attrs,{class:"flex items-center justify-center w-16 h-16 text-3xl text-white bg-primary rounded-full shadow-md cursor-pointer"}),[x(t.$slots,"default")],16)}const qt=z(zt,[["render",Pt]]),Gt={class:"flex items-center justify-center text-lg"},Zt={key:0,class:"block mt-1 text-xs"},Jt={__name:"MobileMenuItem",props:{item:{type:Object},isActive:{type:Boolean}},setup(t){const s=t,o=r=>typeof r!="string",n=M(()=>{const r=s.item.url||s.item.to;return window.location.href.includes(r)});return(r,g)=>{const h=q("ripple"),i=q("auto-animate");return t.item.to||t.item.url?H((l(),w(e(A),{key:0,href:t.item.to||t.item.url,class:"inline-block h-full w-full transition-all overflow-hidden"},{default:u(()=>[a("div",{class:k(["flex flex-col items-center justify-center text-white h-full w-full",{"text-primary":e(n)}])},[a("div",Gt,[o(t.item.icon)?(l(),w(oe(t.item.icon),{key:0,class:"text-xl custom-icon"})):(l(),p("i",{key:1,class:k(["custom-icon",t.item.icon])},null,2))]),e(n)?(l(),p("span",Zt,D(t.item.label),1)):y("",!0)],2)]),_:1},8,["href"])),[[h],[i]]):y("",!0)}}},Kt={class:"flex w-screen overflow z-50 fixed left-0 -bottom-1 h-14 bg-gray-900 rounded-t-2xl lg:hidden"},Qt={class:"w-full h-full"},Xt={key:1,class:"relative mx-auto"},Yt=B({__name:"MobileMenuBar",props:{menu:{type:Array}},setup(t){return(s,o)=>(l(),p("div",Kt,[(l(!0),p(W,null,ne(t.menu,n=>(l(),p("div",Qt,[n.url||n.to?(l(),w(Jt,{key:0,item:n},null,8,["item"])):(l(),p("div",Xt,[c(qt,{class:"mx-auto -translate-y-7",onClick:r=>s.$emit("action",n.action)},{default:u(()=>[n.icon?(l(),w(oe(n.icon),{key:0})):y("",!0)]),_:2},1032,["onClick"])]))]))),256))]))}});const en=z(Yt,[["__scopeId","data-v-db0c87ed"]]),tn={class:"flex items-center justify-between h-16 pr-4 mx-auto sm:pr-6 lg:pr-8 text-body-1/80"},nn={class:"flex items-center"},sn={class:"flex justify-end h-16"},on={class:"flex items-center sm:ml-6"},an={class:"relative ml-3"},ln={class:"flex text-sm w-8 h-8 bg-base-lvl-3 items-center justify-center transition border-2 border-transparent rounded-full focus:outline-none focus:border-gray-300"},rn=a("div",{class:"block px-4 py-2 text-xs text-gray-400"}," Manage Account ",-1),cn=a("div",{class:"border-t border-gray-100"},null,-1),dn={class:"relative ml-3"},un={key:0,class:"flex text-sm transition border-2 border-transparent rounded-full focus:outline-none focus:border-gray-300"},mn=["src","alt"],pn={key:1,class:"inline-flex rounded-md"},fn={type:"button",class:"inline-flex items-center px-3 py-2 text-sm font-medium leading-4 text-gray-500 transition bg-white border border-transparent rounded-md hover:text-gray-700 focus:outline-none"},hn=a("svg",{class:"ml-2 -mr-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),_n=a("div",{class:"block px-4 py-2 text-xs text-gray-400"}," Manage Account ",-1),vn=a("div",{class:"border-t border-gray-100"},null,-1),bn=["onSubmit"],gn={class:"flex items-center w-full shrink-0 px-7 text-gray-100"},xn=a("span",{class:"text-xl font-bold"}," ICLoan ",-1),yn={class:"pt-0 md:pt-8 mx-auto md:px-24"},In=B({__name:"AppLayout",props:{title:String,showBackButton:Boolean,isOnboarding:Boolean},setup(t){O(!1);const s=M(()=>{var d;return(d=document==null?void 0:document.location)==null?void 0:d.pathname}),o=me("isMenuExpanded",!0),n=()=>{N.post(route("logout"))},{appMenu:r,headerMenu:g,mobileMenu:h}=Ut(),i=X().props,{categoryOptions:S}=Wt();S(i==null?void 0:i.categories,"sub_categories","categoryOptions"),S(i==null?void 0:i.accounts,"accounts","accountsOptions",d=>({...d,name:d.id}));const j=d=>{Object.keys(d).forEach(f=>{pe({message:d[f],title:"Ha ocurrido un error",type:"error"})})},v=O(null);ee(()=>{v.value=N.on("error",d=>{d.detail.errors&&j(d.detail.errors)})}),te(()=>{v.value&&v.value()});const b=d=>{};function m(){he(()=>{N.reload({preserveScroll:!0,preserveState:!0})})}return(d,f)=>{const _=He,T=Ie,$=Ve;return l(),p("div",null,[c(e(fe),{title:t.title},null,8,["title"]),c(dt),c(qe,{"is-expanded":e(o),"nav-class":[!d.$slots.header&&"border-b"]},{navigation:u(()=>[a("div",tn,[a("div",nn,[t.showBackButton?(l(),w(Z,{key:0,onClick:f[0]||(f[0]=F=>d.$emit("back"))},{default:u(()=>[c(_)]),_:1})):y("",!0),a("h4",{class:k([[t.showBackButton?"lg:ml-2":"lg:ml-6"],"pl-4 md:pl-0 text-lg font-bold text-secondary"])},D(t.title),3)]),a("div",sn,[a("div",on,[t.isOnboarding?y("",!0):(l(),w(It,{key:0,class:"hidden mr-2 md:inline-block"},{default:u(()=>[c(Z,{class:"hidden md:flex px-1 items-center mr-4 ml-2"},{default:u(()=>[c(T,{class:"mr-2"}),C(" Nuevo ")]),_:1})]),_:1})),c(jt,{notifications:e(i).unreadNotifications,onClick:f[1]||(f[1]=F=>d.$router.visit("/notifications"))},null,8,["notifications"]),a("div",an,[c(U,{align:"right",width:"48"},{trigger:u(()=>[a("button",ln,[c($)])]),content:u(()=>[rn,c(L,{href:"/help"},{default:u(()=>[C(" Guia de inicio ")]),_:1}),c(L,{href:"/help"},{default:u(()=>[C(" Ayuda ")]),_:1}),C(" = "),cn]),_:1})]),a("div",dn,[c(U,{align:"right",width:"48"},{trigger:u(()=>[d.$page.props.jetstream.managesProfilePhotos?(l(),p("button",un,[a("img",{class:"object-cover w-8 h-8 rounded-full",src:d.$page.props.user.profile_photo_url,alt:d.$page.props.user.name},null,8,mn)])):(l(),p("span",pn,[a("button",fn,[C(D(d.$page.props.user.name)+" ",1),hn])]))]),content:u(()=>[_n,c(L,{href:d.route("profile.show")},{default:u(()=>[C(" Profile ")]),_:1},8,["href"]),d.$page.props.jetstream.hasApiFeatures?(l(),w(L,{key:0,href:d.route("api-tokens.index")},{default:u(()=>[C(" API Tokens ")]),_:1},8,["href"])):y("",!0),vn,a("form",{onSubmit:Y(n,["prevent"])},[c(L,{as:"button"},{default:u(()=>[C(" Log Out ")]),_:1})],40,bn)]),_:1})])])])])]),aside:u(()=>[c(e(ve),{class:"border-none shadow-none text-bold bg-secondary",title:"ICLoan","is-expanded":e(o),"onUpdate:isExpanded":f[2]||(f[2]=F=>o.value=F),menu:e(r),"header-menu":e(g),"current-path":e(s),"brand-container-class":"py-2","nav-container-class":"px-2 pt-1 space-y-2 border-t border-base-lvl-3/20","icon-class":"text-gray-100 transition hover:text-primary hover:bg-base-lvl-3/10","item-class":"px-5 py-[0.80rem] rounded-md font-bold text-gray-100 w-54 hover:text-primary-shade-1 hover:bg-base-lvl-3/10","item-active-class":"text-primary bg-base-lvl-3/10","is-expandable":""},{brand:u(()=>[a("h1",gn,[c(e(A),{href:d.route("dashboard"),class:"flex items-center space-x-2"},{default:u(()=>[c(Ke,{class:"block w-auto h-9"}),xn]),_:1},8,["href"])])]),_:1},8,["is-expanded","menu","header-menu","current-path"])]),"main-section":u(()=>[d.$slots.header?(l(),p("header",{key:0,class:k([[e(o)?"lg:pr-56":"lg:pr-20"],"fixed z-30 w-full border-b bg-neutral base-deep-1"])},[x(d.$slots,"header")],2)):y("",!0),a("main",yn,[x(d.$slots,"default")]),c(en,{menu:e(h),onAction:b},null,8,["menu"])]),_:3},8,["is-expanded","nav-class"]),c(Mt,{onReload:m})])}}});export{qt as B,In as _,Ie as a};
