import{_ as F}from"./printer-50f7ee41.js";import{l as U,d as b,z as w,r as A,B as S,c as M,w as c,u as o,E as R,C as G,o as l,a as t,b as r,h,t as a,n as k,f as m,j as C,g as V,F as $,ak as H,W as J,Y as L}from"./app-e7293397.js";import{f as i}from"./formatMoney-b7ef7683.js";import{_ as W}from"./AppLayout.vue_vue_type_style_index_0_lang-96d4f03f.js";import{_ as x}from"./AppButton.vue_vue_type_script_setup_true_lang-046c4e1c.js";import{_ as Y}from"./BaseSelect.vue_vue_type_style_index_1_lang-cbd59430.js";import{_ as q}from"./AccountSelect.vue_vue_type_script_setup_true_lang-cb870c82.js";import{u as K}from"./useServerSearch-037538e8.js";import{u as Q}from"./usePrint-7af28820.js";import{_ as X}from"./_plugin-vue_export-helper-c27b6911.js";import"./atmosphere-ui-86b7f8ed.js";import"./PaymentFormModal.vue_vue_type_script_setup_true_lang-dd64f8b8.js";import"./close-f1b40d6b.js";import"./PaymentGrid-6607ced0.js";import"./mathHelper-95aa3a2b.js";import"./exact-math.node-9a256fc0.js";import"./constants-0a903a05.js";import"./AppFormField.vue_vue_type_style_index_0_lang-d6998fd8.js";import"./index-c251e33c.js";import"./index-81f33ca2.js";import"./Modal.vue_vue_type_script_setup_true_lang-53b90f8d.js";import"./InvoiceFormModal.vue_vue_type_script_setup_true_lang-88bfc502.js";import"./user-outline-dcfa7b13.js";import"./ClientFormModal.vue_vue_type_script_setup_true_lang-d0093e27.js";import"./ClientForm.vue_vue_type_script_setup_true_lang-f1abe81a.js";import"./SectionNav.vue_vue_type_script_setup_true_lang-e0dfad64.js";import"./constants-22f9a1fe.js";import"./usePaymentModal-ad844d5c.js";import"./FastAccessOptions.vue_vue_type_script_setup_true_lang-1fc13d45.js";import"./index-9dc2d84c.js";import"./index-3624ec38.js";const T=n=>(J("data-v-a09810f9"),n=n(),L(),n),Z={class:"flex items-center justify-end py-1 mx-5 rounded-md"},ee={class:"flex space-x-2 font-bold text-gray-500 rounded-t-lg max-w-min"},te={class:"w-full rounded-md bg-white mt-16 shadow-md printable py-10 mx-auto mb-32 sm:px-6 lg:px-8 print:shadow-none print:w-screen print:absolute print:mt-0",id:"report"},se={class:"text-center text-gray-500"},oe={class:"text-3xl font-bold capitalize"},ae=T(()=>t("h5",{class:"font-bold"},"Neatforms",-1)),re=T(()=>t("p",null,"From date to date",-1)),ne={class:"flex items-center justify-end space-x-2 print:hidden"},le={class:"flex space-x-2"},ie={key:0,class:"w-full px-5 py-2 mt-5 font-bold bg-gray-200"},de={key:1,class:"divide-y"},pe={class:"px-5 py-2 font-semibold bg-gray-100"},ce={class:"w-full px-5"},me={class:"flex justify-between py-2"},ue={class:"font-semibold text-blue-500"},_e={class:"space-x-4"},fe={class:"font-bold text-success"},ye={class:"font-bold text-error"},xe={class:"font-bold"},ve={class:"flex space-x-4"},be={class:"font-bold text-success"},he={class:"font-bold text-error"},ge={class:"font-bold"},we={class:"flex justify-between py-5 text-xl capitalize"},Se={class:"font-bold"},ke={class:"font-bold"},Ce=U({__name:"Category",props:{categoryType:{type:String,default:"income"},categories:{type:Array},accounts:{type:Array},ledger:{type:Object},serverSearchOptions:{type:Object,default(){return{}}}},setup(n){const f=n,g=b(()=>`${H(f.categoryType)} - Statement`),D=w({isSummary:!0,isTransferModalOpen:!1,mainCategories:b(()=>f.categories),categoriesTotal:b(()=>f.categories.reduce((p,s)=>p+parseFloat(s.total||0),0)),transferAccount:null}),v=A(null),j=p=>{const s=p.category;return s&&(!v.value||v.value.id!==s.id)?(v.value=s,!0):!1},{isSummary:u,mainCategories:P,categoriesTotal:z}=S(D),{serverSearchOptions:B}=S(f),{executeSearch:E,state:d}=K(B,p=>{R.get(`${window.location.pathname}?${p}`,{},{preserveScroll:!0,preserveState:!0})},{manual:!0}),y=w({property:null,account:null}),{customPrint:I}=Q("report");return(p,s)=>{const N=G("ElDatePicker"),O=F;return l(),M(W,{title:o(g)},{header:c(()=>[t("div",Z,[t("div",ee,[r(N,{"model-value":[o(d).dates.startDate,o(d).dates.endDate],type:"daterange","unlink-panels":"","range-separator":"To","start-placeholder":"Start date","end-placeholder":"End date",size:"large","onUpdate:modelValue":s[0]||(s[0]=e=>{o(d).dates.startDate=e[0],o(d).dates.endDate=e[1]})},null,8,["model-value"]),r(Y,{endpoint:"/api/properties",modelValue:y.property,"onUpdate:modelValue":[s[1]||(s[1]=e=>y.property=e),s[2]||(s[2]=e=>o(d).filters.property=e.id)],label:"name","track-by":"id",class:"md:w-[200px]",placeholder:"Propiedad o DueÃ±o"},null,8,["modelValue"]),r(q,{endpoint:"/api/accounts",modelValue:y.account,"onUpdate:modelValue":s[3]||(s[3]=e=>y.account=e),"onUpdate:modeValue":s[4]||(s[4]=e=>o(d).filters.account=e.id),class:"md:w-[200px]",multiple:""},null,8,["modelValue"]),r(x,{onClick:s[5]||(s[5]=e=>o(E)())},{default:c(()=>[h(" Generar Reporte ")]),_:1}),r(x,{variant:"neutral",onClick:s[6]||(s[6]=e=>o(I)())},{default:c(()=>[r(O)]),_:1})])])]),default:c(()=>[t("div",te,[t("header",se,[t("h4",oe,a(o(g)),1),ae,re]),t("div",ne,[t("section",null,a(n.ledger.assets[0].total)+" =",1),t("section",le,[r(x,{variant:"secondary",onClick:s[7]||(s[7]=e=>u.value=!0)},{default:c(()=>[h(" Summary ")]),_:1}),r(x,{variant:"secondary",onClick:s[8]||(s[8]=e=>u.value=!1)},{default:c(()=>[h(" Details ")]),_:1})])]),t("div",{class:k(["mt-10 items",{"divide-y":o(u)}])},[(l(!0),m($,null,C(o(P),e=>(l(),m("div",{key:e.id,class:"py-2"},[j(e)?(l(),m("div",ie,a(e.category.alias??e.category.name)+" "+a(e.category.total),1)):V("",!0),o(u)?V("",!0):(l(),m("div",de,[t("div",pe,a(e.alias??e.name),1),(l(!0),m($,null,C(e.accounts,_=>(l(),m("div",ce,[t("div",me,[t("span",ue,a(_.alias??_.name),1),t("div",_e,[t("span",fe,a(o(i)(_.income)),1),t("span",ye,a(o(i)(_.outcome)),1),t("span",null,a(o(i)(_.balance)),1)])])]))),256))])),t("div",{class:k(["flex justify-between px-5 py-2",{"border-t":!o(u)}])},[t("span",xe,a(e.alias??e.name),1),t("div",ve,[t("span",be,a(o(i)(e.income)),1),t("span",he,a(o(i)(e.outcome)),1),t("span",ge,a(o(i)(e.total)),1)])],2)]))),128)),t("div",we,[t("span",Se," Total "+a(n.categoryType)+"s ",1),t("span",ke,a(o(i)(o(z))),1)])],2)])]),_:1},8,["title"])}}});const ot=X(Ce,[["__scopeId","data-v-a09810f9"]]);export{ot as default};
