import{N as F,i as D}from"./atmosphere-ui-8913659c.js";import{_ as $}from"./IncomeSummaryWidget.vue_vue_type_script_setup_true_lang-f2f84839.js";import{_ as v}from"./WelcomeWidget.vue_vue_type_script_setup_true_lang-e3b9f9b9.js";import{_ as x}from"./NextPaymentsWidget.vue_vue_type_script_setup_true_lang-b7ecfb08.js";import{_ as N}from"./DashboardTemplate.vue_vue_type_script_setup_true_lang-220d6e40.js";import E from"./ChartBar-a848e54b.js";import{f as c}from"./formatMoney-b7ef7683.js";import{_ as B}from"./receipt-881cd440.js";import{_ as P}from"./document-9032bbbd.js";import{f as g}from"./index-8305cd09.js";import{k as C,o as i,f as w,a as e,b as r,t as f,h as I,u as m,r as Y,c as h,w as l,j,F as A}from"./app-b9464164.js";import"./InstallmentTable.vue_vue_type_script_setup_true_lang-b30664d9.js";import"./sharp-payment-ccd5d474.js";import"./AppButton.vue_vue_type_script_setup_true_lang-89aa5f09.js";import"./BaseTable.vue_vue_type_style_index_0_lang-d3c40c15.js";import"./customCell-57b73ca8.js";import"./AppSearch.vue_vue_type_script_setup_true_lang-b788b25f.js";import"./close-45140fa9.js";import"./AppSearchFilters-93f60e1e.js";import"./usePaymentModal-23c75da0.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-0afa9cc5.js";import"./AppLayout.vue_vue_type_style_index_0_lang-0d2503f0.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./PaymentFormModal.vue_vue_type_script_setup_true_lang-a1e2938d.js";import"./PaymentGrid-88a06cd9.js";/* empty css                                                                    */import"./mathHelper-44355b55.js";import"./exact-math.node-e9867222.js";import"./constants-0a903a05.js";import"./AccountSelect.vue_vue_type_script_setup_true_lang-d3f16147.js";import"./BaseSelect.vue_vue_type_script_setup_true_lang-89ccd5ed.js";/* empty css                                                   */import"./index-c251e33c.js";import"./index-81f33ca2.js";import"./Modal.vue_vue_type_script_setup_true_lang-74361783.js";import"./ClientFormModal.vue_vue_type_script_setup_true_lang-3f2645eb.js";import"./ClientForm.vue_vue_type_script_setup_true_lang-d4d45920.js";import"./clientInteractions-6c951eed.js";import"./SectionNav.vue_vue_type_script_setup_true_lang-b284cd8c.js";import"./ButtonGroup.vue_vue_type_script_setup_true_lang-648d9fbe.js";const L={class:"text-sm flex flex-col md:flex-row text-body justify-between py-4 shadow-sm px-4 rounded-md border mb-2"},G={class:"flex space-x-3 items-center"},M={class:"font-bold text-primary"},R={class:"font-bold text-xl text-success flex mt-4 md:mt-0 justify-between space-x-3 items-center"},T=["href"],O=e("p",null,"Recibo",-1),S={class:"w-full text-center inline-block md:inline"},V=C({__name:"PaymentsCard",props:{payment:null},setup(a){return(t,b)=>{var s;const p=P,d=B;return i(),w("article",L,[e("section",G,[r(p,{class:"text-xl"}),e("div",null,[e("h5",null,f(a.payment.concept),1),e("small",null,[I(" Pagado en "),e("span",M,f(m(g)(a.payment.payment_date)),1)])])]),e("section",null,[e("p",R,[e("span",null,f(m(c)(a.payment.amount)),1),e("a",{href:`/loans/${(s=a.payment.resource)==null?void 0:s.id}/payments/${a.payment.id}/print`,target:"_blank",rel:"noopener noreferrer",class:"text-secondary px-3 py-1 rounded-md border border-base-lvl-1 flex text-sm bg-base-lvl-2"},[r(d),O],8,T)]),e("span",S,f(a.payment.resource.client_name),1)])])}}}),y={colors:{primary:"#5F0404","primary-dark":"#290202","primary-light":"#D40909","primary-shade-1":"#FFB4A1","primary-shade-2":"#EF8777","primary-shade-3":"#E27C6C","primary-shade-4":"#380000",secondary:"#00203D",accent:"#005B5C",highlight:"#F65D4E",neutral:"#FFF5F1","base-100":"#F5F6FA",info:"#00E3DC",success:"#00C9C4",warning:"#D2B48C",error:"#F65D4E",body:"#2E384D","body-1":"#9298AD"}},q={class:"flex flex-col mt-8 lg:space-x-4 lg:flex-row"},z={class:"lg:w-8/12"},H={class:"flex space-x-2"},J={class:"order-1 space-y-5 lg:w-5/12 lg:order-2"},K={class:"pt-4"},Ae=C({__name:"Loans",props:{revenue:{type:Object,default(){return{previousYear:{values:[]},currentYear:{values:[]}}}},user:{type:Object,required:!0},activeLoanClients:{type:Number},loanCapital:{type:Number},loanExpectedInterest:{type:Number},loanPaidInterest:{type:Number},paidInterest:{type:Array},bank:{type:Number}},setup(a){var _;const t=a,b=[{label:"Clientes con Prestamos",value:t.activeLoanClients,icon:"fa-users"},{label:"Capital Prestado",icon:"fa-money",value:c(t.loanCapital??0)},{label:"Interes Esperado",icon:"fa-wallet",value:c(t.loanExpectedInterest??0)},{label:"Total Interes pagado",value:c(t.loanPaidInterest??0),accent:!0}],p={headers:{gapName:"Year",previous:t.revenue.previousYear.total,current:t.revenue.currentYear.total},options:{chart:{id:"vuechart-example"},stroke:{curve:"smooth"},dropShadow:{enabled:!0,top:3,left:0,blur:1,opacity:.5},colors:[y.colors.highlight,y.colors.info]},series:[{name:"A単o anterior",data:t.revenue.previousYear.values.map(o=>o.total)},{name:"Este a単o",data:t.revenue.currentYear.values.map(o=>o.total)}]},d={headers:{gapName:"Year",month:t.paidInterest.months.at(-1).outcome,avg:t.paidInterest.avg,current:(_=t.paidInterest)==null?void 0:_.year},options:{chart:{id:"vuechart-example"},stroke:{curve:"smooth"},dropShadow:{enabled:!0,top:3,left:0,blur:1,opacity:.5},colors:[y.colors.highlight,y.colors.info]},series:[{name:"Ganancias intereses",labels:t.paidInterest.months.map(o=>g(o.date)),data:t.paidInterest.months.map(o=>o.outcome)}]},s=Y("cash-flow");return(o,n)=>(i(),h(N,{user:a.user},{default:l(()=>[r(v,{message:"Bienvenido a ICLoan",username:a.user.name,cards:b},null,8,["username"]),e("section",q,[e("article",z,[r(v,{message:"Rendimiento del mes",class:"order-2 mt-4 lg:mt-0 lg:order-1"},{actions:l(()=>[e("section",H,[e("button",{onClick:n[0]||(n[0]=u=>s.value="gains"),class:"bg-base-lvl-2 rounded-3xl text-body-1 px-4"}," Ganancias "),e("button",{onClick:n[1]||(n[1]=u=>s.value="cash-flow"),class:"bg-base-lvl-2 rounded-3xl text-body-1 px-4"}," Cash ")])]),content:l(()=>[s.value=="cash-flow"?(i(),h($,{key:0,title:"Flujo de efectivo",description:"Flujo de efectivo en el a単o",style:{height:"300px"},chart:p,headerInfo:p.headers},null,8,["headerInfo"])):(i(),h(E,{key:1,title:"Ganancias",description:"Ganancias por intereses en el a単o",chart:d,headerInfo:d.headers},null,8,["headerInfo"]))]),_:1}),r(x)]),e("article",J,[r(m(D),{class:"text-white bg-secondary h-36",icon:"fas fa-wallet",value:m(c)(t.bank.balance|0),title:"Balance cuenta prestamos"},{action:l(()=>[r(m(F),{class:"bg-secondary/60 rounded-md",onClick:n[2]||(n[2]=u=>o.isTransferModalOpen=!0)},{default:l(()=>[I(" Agregar fondos ")]),_:1})]),_:1},8,["value"]),r(x,{title:"Pagos por periodo",endpoint:"/api/loan-payments?",method:"back","default-range":"7D","date-field":"payment_date",ranges:[{label:"1D",value:[1,1]},{label:"7D",value:[7,0]},{label:"30D",value:[30,0]},{label:"90D",value:[90,0]}]},{content:l(({list:u})=>[e("div",K,[(i(!0),w(A,null,j(u,k=>(i(),h(V,{payment:k},null,8,["payment"]))),256))])]),_:1})])])]),_:1},8,["user"]))}});export{Ae as default};
