import{C as E}from"./customCell-9e9ed16f.js";import{o as n,f as i,a as r,F as x,t as O,j as B,k as $,b as f,g as d,u as h,a5 as N,l as z,r as I,c,w as p,a6 as Y,p as V,h as A,a7 as D,a8 as L,a9 as U,d as F,n as C,C as S,a1 as H}from"./app-494b6f90.js";import{_ as j}from"./close-40de6817.js";import{z as R}from"./atmosphere-ui-83e2a306.js";const P={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Z=r("path",{fill:"currentColor",d:"m18 21l-4-4h3V7h-3l4-4l4 4h-3v10h3M2 19v-2h10v2M2 13v-2h7v2M2 7V5h4v2H2Z"},null,-1),K=[Z];function q(t,a){return n(),i("svg",P,K)}const W={name:"mdi-sort",render:q},G={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},J=r("path",{fill:"currentColor",d:"M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5l-1.5 1.5l-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16A6.5 6.5 0 0 1 3 9.5A6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14S14 12 14 9.5S12 5 9.5 5Z"},null,-1),Q=[J];function X(t,a){return n(),i("svg",G,Q)}const _={name:"mdi-search",render:X},ee={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},te=r("path",{fill:"currentColor",d:"M14 12v7.88c.04.3-.06.62-.29.83a.996.996 0 0 1-1.41 0l-2.01-2.01a.989.989 0 0 1-.29-.83V12h-.03L4.21 4.62a1 1 0 0 1 .17-1.4c.19-.14.4-.22.62-.22h14c.22 0 .43.08.62.22a1 1 0 0 1 .17 1.4L14.03 12H14Z"},null,-1),le=[te];function se(t,a){return n(),i("svg",ee,le)}const ne={name:"mdi-filter",render:se};const ae={class:"h-full"},oe={class:"w-48 px-2 font-semibold h-full flex items-center"},ie={__name:"AppSearchFilters",props:{title:{type:String,default:"Filter by"},filters:{type:Object},fields:{type:Array,default:()=>[]},isActive:{type:Boolean}},emits:["open","close","select"],setup(t){return(a,u)=>{const y=ne,v=j;return n(),i("section",ae,[t.isActive?(n(),i(x,{key:0},[r("span",oe,O(t.title),1),(n(!0),i(x,null,B(t.fields,l=>$(a.$slots,l,{key:l},()=>[f(h(N),{modelValue:t.filters[l].value,showLabels:!1,"onUpdate:modelValue":s=>a.$emit("select",l,s),placeholder:"Select Year",options:t.filters[l].options},null,8,["modelValue","onUpdate:modelValue","options"])])),128))],64)):(n(),i("button",{key:1,class:"hover:bg-gray-50 px-2 h-full",onClick:u[0]||(u[0]=l=>a.$emit("open"))},[$(a.$slots,"icon",{},()=>[f(y)])])),t.isActive?(n(),i("button",{key:2,title:"Reset all filters",class:"hover:bg-red-400 bg-gray-100 h-6 transition-all flex items-center justify-center w-6 my-auto hover:text-white px-2 rounded-full",onClick:u[1]||(u[1]=l=>a.$emit("close"))},[f(v)])):d("",!0)])}}},M=ie,re={class:"flex rounded-md overflow-hidden bg-base-lvl-3 w-full h-12 border border-base-lvl-1"},ue=z({__name:"AppSearch",props:{filters:{type:Object},sorts:{type:Object},modelValue:{type:String},placeholder:{type:String,default:"Buscar..."},hasFilters:{type:Boolean}},emits:["update:sorts","update:filters","update:modelValue","clear","blur","focus"],setup(t,{emit:a}){const u=t,y=o=>{const e=u.sorts[o],g=["desc",""].includes(e.direction)?"asc":"desc";a("update:sorts",{...u.sorts,[o]:{...e,value:!0,direction:g}}),l.value=""},v=(o,e)=>{a("update:filters",{...u.filters,[o]:{...u.filters[o],value:e}}),l.value=""},l=I(""),s=o=>o==l.value,w=()=>{a("clear"),l.value=""},b=D(o=>{a("update:modelValue",o)},200);return(o,e)=>{const g=_,T=j,k=W;return n(),i("div",re,[l.value?d("",!0):(n(),c(h(R),{key:0,class:"rounded-md bg-base-lvl-3 w-full h-12 border-none","is-borderless":!0,borderless:"","input-class":"overflow-visible",placeholder:t.placeholder,"model-value":t.modelValue,"onUpdate:modelValue":h(b),onFocus:e[2]||(e[2]=m=>o.$emit("focus")),onBlur:e[3]||(e[3]=m=>o.$emit("blur")),onKeydown:e[4]||(e[4]=Y(V(m=>o.$emit("search"),["ctrl"]),["enter"]))},{prefix:p(()=>[r("button",{class:"rounded-l-md px-2 hover:bg-gray-50 md:px-4",onClick:e[0]||(e[0]=V(m=>o.$emit("search"),["stop"]))},[f(g)])]),suffix:p(()=>[t.hasFilters?(n(),i("button",{key:0,title:"Reset all filters",class:"hover:bg-red-400 bg-gray-100 h-6 transition-all mr-4 flex items-center justify-center w-6 my-auto hover:text-white px-2 rounded-full",onClick:e[1]||(e[1]=m=>w())},[f(T)])):d("",!0)]),_:1},8,["placeholder","model-value","onUpdate:modelValue"])),!s("filter")&&t.sorts?(n(),c(M,{key:1,class:"flex space-x-4 items-center",title:"Sort by","is-active":s("sort"),filters:t.sorts,fields:["title","releaseYear"],onOpen:e[7]||(e[7]=m=>l.value="sort"),onClose:e[8]||(e[8]=m=>l.value=null)},{releaseYear:p(()=>[r("button",{class:"hover:bg-gray-50 px-2 flex h-full items-center",onClick:e[5]||(e[5]=m=>y("releaseYear"))},[f(k),A(" Year ")])]),title:p(()=>[r("button",{class:"hover:bg-gray-50 px-2 flex items-center",onClick:e[6]||(e[6]=m=>y("title"))},[f(k),A(" Name ")])]),icon:p(()=>[f(k)]),_:1},8,["is-active","filters"])):d("",!0),!s("sort")&&t.filters?(n(),c(M,{key:2,class:"flex space-x-4 items-center text-body-1","is-active":s("filter"),fields:["releaseYear","programType"],filters:t.filters,onOpen:e[9]||(e[9]=m=>l.value="filter"),onClose:e[10]||(e[10]=m=>l.value=null),onSelect:v},null,8,["is-active","filters"])):d("",!0)])}}}),de=()=>{const t=L(U);return{isMobile:F(()=>t.isSmaller("md"))}},me={class:"pt-4 mb-24"},ce={key:0,class:"w-full px-4"},fe={key:0,class:"space-y-2"},pe={class:"flex justify-between items-center py-4"},ye=r("div",{class:"w-full"},null,-1),ge={class:"w-full flex justify-end"},we=z({__name:"BaseTable",props:{selectable:{type:Boolean,default:!1},defaultExpandAll:{type:Boolean},showSummary:{type:Boolean},summaryMethod:{type:[null,Function]},cols:{type:Array,required:!0},hiddenCols:{type:[Array,null]},isLoading:{type:Boolean,default:!1},tableData:{type:Array},config:{type:Object,default(){return{}}},pagination:{type:Object,default(){return{}}},total:{type:Number},showPrepend:{type:Boolean,default:!1},showAppend:{type:Boolean,default:!1},emptyText:{type:String,default:"No data found"},hideEmptyText:{type:Boolean,default:!1},hideHeaders:{type:Boolean,default:!1},responsive:{type:Boolean,default:!1},tableClass:{default:"px-4"},layout:{type:String,default:"table"}},setup(t){const a=t,{isMobile:u}=de(),y=l=>l.headerClass,v=F(()=>a.hiddenCols?a.cols.filter(l=>!a.hiddenCols.includes(l.name)):a.cols);return(l,s)=>{const w=S("ElPagination"),b=S("ElTableColumn"),o=S("ElTable");return n(),i("section",me,[r("section",{class:C(["flex justify-between items-center",{"py-4":t.config.search}])},[t.config.search?(n(),i("div",ce,[f(ue,{class:"w-96",modelValue:t.pagination.search,"onUpdate:modelValue":s[0]||(s[0]=e=>t.pagination.search=e),onSearch:s[1]||(s[1]=e=>l.$emit("search"))},null,8,["modelValue"])])):d("",!0),t.config.pagination?(n(),c(w,{key:1,class:"w-full flex justify-end pr-4",background:"",onCurrentChange:s[2]||(s[2]=e=>l.$emit("paginate",e)),onSizeChange:s[3]||(s[3]=e=>l.$emit("size-change",e)),layout:"total,prev, pager, next,sizes","current-page":t.pagination.page,"page-sizes":[10,20,50,100,200],"page-size":t.pagination.limit,total:t.total},null,8,["current-page","page-size","total"])):d("",!0)],2),r("section",{class:C(t.tableClass)},[t.layout=="grid"||t.responsive&&l.$slots.card&&h(u)?(n(),i("div",fe,[(n(!0),i(x,null,B(t.tableData,e=>$(l.$slots,"card",{row:e})),256))])):(n(),c(o,{key:1,class:"table-fixed",style:{width:"100%"},"default-expand-all":t.defaultExpandAll,"show-summary":t.showSummary,"summary-method":t.summaryMethod,data:t.tableData,"header-cell-class-name":y,onSortChange:s[4]||(s[4]=e=>l.$emit("sort",e)),onRowClick:s[5]||(s[5]=e=>l.$emit("row-click",e)),onSelectionChange:s[6]||(s[6]=e=>l.$emit("selection-change",e))},{default:p(()=>[t.selectable?(n(),c(b,{key:0,type:"selection",width:"55"})):d("",!0),l.$slots.expand?(n(),c(b,{key:1,type:"expand"},{default:p(e=>[$(l.$slots,"expand",{row:e.row})]),_:3})):d("",!0),(n(!0),i(x,null,B(h(v),e=>(n(),c(b,{prop:e.name,key:e.name,label:e.label||e.name,"cell-class-name":"px-2 py-4","label-class-name":e.headerClass,"header-align":e.align,"class-name":e.class,width:e.width,"min-width":e.minWidth,class:C([e.headerClass])},H({_:2},[l.$slots[e.name]||e.render?{name:"default",fn:p(g=>[$(l.$slots,e.name,{scope:g},()=>[e.render?(n(),c(h(E),{key:0,class:C(e.class),col:e,data:g.row},null,8,["class","col","data"])):d("",!0)])]),key:"0"}:void 0]),1032,["prop","label","label-class-name","header-align","class-name","width","min-width","class"]))),128))]),_:3},8,["default-expand-all","show-summary","summary-method","data"]))],2),r("section",pe,[ye,r("div",ge,[t.config.pagination?(n(),c(w,{key:0,class:"w-full flex justify-end pr-4",background:"",onCurrentChange:s[7]||(s[7]=e=>l.$emit("paginate",e)),onSizeChange:s[8]||(s[8]=e=>l.$emit("size-change",e)),"current-page":t.pagination.page,layout:"total,prev, pager, next,sizes","page-sizes":[10,20,50,100,200],"page-size":t.pagination.limit,total:t.total},null,8,["current-page","page-size","total"])):d("",!0)])])])}}});export{we as _,ue as a,de as u};
