import{N as w,V as f,R as n}from"./atmosphere-ui-18006871.js";import{_ as x}from"./AppButton.vue_vue_type_script_setup_true_lang-70b35c26.js";import{k as v,P as _,r as C,c as k,w as s,u as e,$ as N,o as $,a as r,b as t,h as c,a0 as p,M as y}from"./app-9b138141.js";const D={class:""},U={class:"flex space-x-4"},B={class:"flex space-x-4 justify-between"},E={class:"space-x-2 dialog-footer"},j=v({__name:"AgreementFormModal",props:{modelValue:Boolean,loan:{type:Object,required:!0}},emits:["update:modelValue","saved"],setup(u,{emit:i}){const m=u,a=_({reason:"",due:new Date,date:new Date,amount:m.loan.amount_due}),V=C(!1);function g(){V.value=!0,a.post(`/loans/${m.loan.id}/agreements`,{onSuccess(){a.reset(),i("saved")},onError(d){y({type:"error",message:d.message??"Ha ocurrido un error"})}})}function b(d){i("update:modelValue",d)}return(d,o)=>($(),k(e(N),{title:"Agregar acuerdo de pago",width:"550","model-value":u.modelValue,"onUpdate:modelValue":o[6]||(o[6]=l=>d.$emit("update:modelValue",l))},{footer:s(()=>[r("div",E,[t(e(w),{onClick:o[4]||(o[4]=l=>b(!1)),class:"bg-white border rounded-md text-gray"},{default:s(()=>[c(" Cancel ")]),_:1}),t(x,{onClick:o[5]||(o[5]=l=>g()),disabled:e(a).processing,loading:e(a).processing},{default:s(()=>[c(" Guardar ")]),_:1},8,["disabled","loading"])])]),default:s(()=>[r("div",D,[r("section",U,[t(e(n),{class:"w-full text-left",label:"Concepto"},{default:s(()=>[t(e(f),{type:"text",class:"form-control",name:"invoice-description",id:"invoice-description",modelValue:e(a).reason,"onUpdate:modelValue":o[0]||(o[0]=l=>e(a).reason=l),rounded:""},null,8,["modelValue"])]),_:1}),t(e(n),{class:"w-full text-left",label:"Monto Recibido"},{default:s(()=>[t(e(f),{class:"form-control","number-format":"",modelValue:e(a).amount,"onUpdate:modelValue":o[1]||(o[1]=l=>e(a).amount=l),rounded:"",required:""},null,8,["modelValue"])]),_:1})]),r("section",B,[t(e(n),{label:"Fecha de creacion",class:"w-full"},{default:s(()=>[t(e(p),{modelValue:e(a).date,"onUpdate:modelValue":o[2]||(o[2]=l=>e(a).date=l),size:"large",class:"w-full",rounded:""},null,8,["modelValue"])]),_:1}),t(e(n),{label:"Fecha de limite",class:"w-full"},{default:s(()=>[t(e(p),{modelValue:e(a).due,"onUpdate:modelValue":o[3]||(o[3]=l=>e(a).due=l),size:"large",width:"100%",class:"w-full",rounded:""},null,8,["modelValue"])]),_:1})])])]),_:1},8,["model-value"]))}});export{j as _};
