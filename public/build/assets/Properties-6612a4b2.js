import{l as j,c as k,w as i,C as B,o as d,a as e,b as a,t as m,u,f as C,n as V,h as I,g as N,E as O,j as Y,F as A}from"./app-e7293397.js";import{_ as D}from"./InvoiceCard.vue_vue_type_script_setup_true_lang-26337e5b.js";import{_ as P}from"./AppButton.vue_vue_type_script_setup_true_lang-046c4e1c.js";import{_ as E}from"./BudgetProgress.vue_vue_type_script_setup_true_lang-d9133f77.js";import{_ as $}from"./IncomeSummaryWidget.vue_vue_type_script_setup_true_lang-7bf9842c.js";import{_ as f}from"./WelcomeWidget.vue_vue_type_script_setup_true_lang-f5ad8b33.js";import{_ as M}from"./DashboardTemplate.vue_vue_type_script_setup_true_lang-99593b99.js";import{f as h}from"./formatMoney-b7ef7683.js";import"./index-9dc2d84c.js";import"./index-c251e33c.js";import"./index-81f33ca2.js";import"./index-3624ec38.js";import"./constants-7016751c.js";import"./usePaymentModal-ad844d5c.js";import"./atmosphere-ui-86b7f8ed.js";import"./AppLayout.vue_vue_type_style_index_0_lang-96d4f03f.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./PaymentFormModal.vue_vue_type_script_setup_true_lang-dd64f8b8.js";import"./close-f1b40d6b.js";import"./PaymentGrid-6607ced0.js";import"./mathHelper-95aa3a2b.js";import"./exact-math.node-9a256fc0.js";import"./constants-0a903a05.js";import"./AccountSelect.vue_vue_type_script_setup_true_lang-cb870c82.js";import"./BaseSelect.vue_vue_type_style_index_1_lang-cbd59430.js";import"./AppFormField.vue_vue_type_style_index_0_lang-d6998fd8.js";import"./Modal.vue_vue_type_script_setup_true_lang-53b90f8d.js";import"./InvoiceFormModal.vue_vue_type_script_setup_true_lang-88bfc502.js";import"./user-outline-dcfa7b13.js";import"./ClientFormModal.vue_vue_type_script_setup_true_lang-d0093e27.js";import"./ClientForm.vue_vue_type_script_setup_true_lang-f1abe81a.js";import"./SectionNav.vue_vue_type_script_setup_true_lang-e0dfad64.js";import"./constants-22f9a1fe.js";import"./FastAccessOptions.vue_vue_type_script_setup_true_lang-1fc13d45.js";import"./ButtonGroup.vue_vue_type_script_setup_true_lang-6c7ef160.js";const S={class:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4"},F={class:"py-4"},T={class:"mb-1 font-bold flex justify-between"},L={class:"text-primary"},q={class:"justify-between w-full flex mt-1"},z={key:0},H={class:"flex flex-col mt-8 lg:space-x-4 lg:flex-row"},J={class:"lg:w-7/12 space-y-4"},R={class:"rounded-md bg-base-lvl-3 shadow-md"},U={class:"flex justify-between px-5 py-2 text-body-1"},G=e("h4",{class:"text-xl font-bold"},"Proximos pagos",-1),K={class:"px-5 space-y-4"},Q={class:"order-1 space-y-5 lg:w-5/12 lg:order-2"};const Ae=j({__name:"Properties",props:{user:{type:Object},revenue:{type:Object,default(){return{previousYear:{values:[]},currentYear:{values:[]}}}},stats:{type:Object},cashOnHand:{type:Object},totals:{type:Object},accounts:{type:Array},nextInvoices:{type:Array},paidCommissions:{type:Number}},setup(t){var _,y,b;const s=t,p=[{label:"Total propiedades",value:((_=s.stats)==null?void 0:_.total)||0,icon:"fa-users"},{label:"Alquiladas/Libres",icon:"fa-money",value:`${((y=s.stats)==null?void 0:y.rented)||0} / ${((b=s.stats)==null?void 0:b.available)||0}`},{label:"Comisiones pagadas/mes",value:h(s.paidCommissions||0),accent:!0}],c={headers:{gapName:"Year",previous:s.revenue.previousYear.total,current:s.revenue.currentYear.total},options:{chart:{id:"vuechart-example"},stroke:{curve:"smooth"},dropShadow:{enabled:!0,top:3,left:0,blur:1,opacity:.5},colors:["#fa6b88","#80CDFE"]},series:[{name:"previous year",data:s.revenue.previousYear.values.map(o=>o.total)},{name:"current year",data:s.revenue.currentYear.values.map(o=>o.total)}]};return(o,g)=>{const W=B("IconMarker");return d(),k(M,{user:t.user},{default:i(()=>[e("header",S,[a(f,{message:"Estadisticas de propiedades",class:"text-body-1 w-full md:w-7/12 shadow-md",cards:p}),a(f,{message:"Pagos de renta",class:"text-body-1 w-full md:w-5/12 shadow-md",cards:p,"action-label":"Ver estado de rentas","action-link":"/rents"},{content:i(()=>{var r,v;return[e("section",F,[a(E,{goal:(r=t.totals)==null?void 0:r.total,current:(v=t.totals)==null?void 0:v.paid,class:"h-2.5 text-white rounded-md","progress-class":["bg-primary-shade-2","bg-primary-shade-1"],"show-labels":!1},{before:i(({progress:x})=>{var n,l;return[e("header",T,[e("span",null,m(u(h)((n=t.totals)==null?void 0:n.paid))+" of "+m(u(h)((l=t.totals)==null?void 0:l.total)),1),e("span",L,m(x)+"% ",1)])]}),after:i(({progress:x})=>{var n,l,w;return[e("div",q,[(n=t.totals)!=null&&n.outstandingInvoices?(d(),C("p",z,[e("span",{class:V(["font-bold",[(l=t.totals)!=null&&l.outstandingInvoices?"text-success":"text-error"]])},m((w=t.totals)==null?void 0:w.outstandingInvoices),3),I(" Pagos de renta atrasados ")])):N("",!0)])]}),_:1},8,["goal","current"])])]}),_:1})]),e("section",H,[e("section",J,[a($,{class:"order-2 mt-4 lg:w-full lg:mt-0 lg:order-1 shadow-md",style:{height:"350px"},chart:c,headerInfo:c.headers,sections:t.accounts},null,8,["headerInfo","sections"]),e("article",R,[e("header",U,[G,a(P,{variant:"inverse",onClick:g[0]||(g[0]=r=>u(O).visit(o.route("properties.create")))},{default:i(()=>[I(" Agregar Contrato ")]),_:1})]),e("section",K,[(d(!0),C(A,null,Y(t.nextInvoices,r=>(d(),k(D,{invoice:r},null,8,["invoice"]))),256))])])]),e("article",Q,[a(f,{message:"Distribucion a propierarios",class:"text-body-1 w-full shadow-md",cards:p}),a($,{class:"order-2 mt-4 lg:w-full lg:mt-0 lg:order-1 shadow-md",style:{height:"350px"},chart:c,headerInfo:c.headers},null,8,["headerInfo"]),N("",!0)])])]),_:1},8,["user"])}}});export{Ae as default};
