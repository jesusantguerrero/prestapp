import{U as a,aa as g,ab as b,k as h,r as y,d as v,c as C,w as o,o as $,b as i,u as d,E as f,h as u,a as x,y as E}from"./app-bdc0a90d.js";import{_ as k}from"./AppLayout.vue_vue_type_script_setup_true_lang-2eda9632.js";import"./AppLayout.vue_vue_type_style_index_0_lang-933d19bf.js";import{_ as V}from"./BaseTable.vue_vue_type_style_index_0_lang-09933656.js";import{_}from"./AppButton.vue_vue_type_script_setup_true_lang-fcb67ff4.js";import{_ as A}from"./PropertySectionNav.vue_vue_type_script_setup_true_lang-e32fbd72.js";import{_ as N}from"./BaseSelect.vue_vue_type_script_setup_true_lang-f40618a6.js";/* empty css                                                   */import{a as S,g as T}from"./constants-0a903a05.js";import{I}from"./IconMarker-9aed39ee.js";import{g as R}from"./index-8305cd09.js";import"./atmosphere-ui-92e9addd.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./PaymentFormModal.vue_vue_type_script_setup_true_lang-667d0b29.js";import"./PaymentGrid-0bd36832.js";/* empty css                                                                    */import"./mathHelper-db6605d5.js";import"./exact-math.node-0390b5bc.js";import"./AccountSelect.vue_vue_type_script_setup_true_lang-6ae29dfc.js";import"./formatMoney-b7ef7683.js";import"./index-c251e33c.js";import"./index-81f33ca2.js";import"./Modal.vue_vue_type_script_setup_true_lang-b383de19.js";import"./usePaymentModal-b60af107.js";import"./ClientFormModal.vue_vue_type_script_setup_true_lang-b2380174.js";import"./close-0030bbab.js";import"./ClientForm.vue_vue_type_script_setup_true_lang-723236b8.js";import"./clientInteractions-f0f2fe2b.js";import"./SectionNav.vue_vue_type_script_setup_true_lang-18ff5984.js";import"./AppSearch.vue_vue_type_script_setup_true_lang-543932f6.js";import"./AppSearchFilters-f0af399e.js";import"./customCell-5778d740.js";import"./menus-2c7b33a0.js";const B=[{name:"client",label:"Inquilino",class:"text-center",headerClass:"text-center",minWidth:200,render(t){var m,p,c,n,e;const s=((m=t.client)==null?void 0:m.names)+" "+((p=t.client)==null?void 0:p.lastnames),l=((c=t.client)==null?void 0:c.names[0])+((n=t.client)==null?void 0:n.lastnames[0]);return a("div",{class:"px-4"},[a("div",{class:"flex items-center space-x-2"},[a(g,{shape:"circle"},l),a("span",s)]),a("div",{class:"flex items-center text-primary font-bold"},[a(I,{class:"text-primary font-bold"}),a("span",(e=t.property)==null?void 0:e.short_name)])])}},{name:"id",label:"Terminos Contrato",class:"text-center",headerClass:"text-center",render(t){var s;return a("div",[a("p",`RENT-${(s=t.id)==null?void 0:s.toString().padStart(6,"0")}`),a("p",t.commission+" %")])}},{name:"total",class:"text-center",type:"money",headerClass:"text-center",label:"Total a pagar"},{name:"status",label:"Estado",render(t){return a(b,{type:T(t.status)},S(t.status))}},{name:"actions",label:"Acciones"}],L={class:"py-16"},q={class:"flex"},xt=h({__name:"Index",props:{loans:null},setup(t){const s=t,l=y({}),m=[{text:"Este mes",range:[30,0]},{text:"3 Meses",range:[90,0]},{text:"Last 6 months",range:[180,0]}],p=(n,e)=>{const r=R(n,e);f.get(`/rents?${r}`,{},{preserveState:!0})},c=v(()=>Array.isArray(s.loans)?s.loans:s.loans.data);return(n,e)=>($(),C(k,{title:"Contratos de alquiler"},{header:o(()=>[i(A,null,{actions:o(()=>[i(N,{placeholder:"Expira en",options:m,modelValue:l.value.end_date,"onUpdate:modelValue":[e[0]||(e[0]=r=>l.value.end_date=r),e[1]||(e[1]=r=>p("end_date",r.range))],label:"text","track-by":"text"},null,8,["modelValue"]),i(_,{onClick:e[2]||(e[2]=r=>d(f).visit(n.route("rents.create")))},{default:o(()=>[u("Agregar Contrato")]),_:1})]),_:1})]),default:o(()=>[x("main",L,[i(V,{"table-data":d(c),cols:d(B),class:"bg-white rounded-md text-body-1"},{actions:o(({scope:{row:r}})=>[x("div",q,[i(d(E),{class:"relative inline-block px-5 py-2 overflow-hidden font-bold text-white transition border rounded-md focus:outline-none hover:bg-opacity-80 min-w-max bg-primary",href:`/rents/${r.id}`},{default:o(()=>[u(" Edit")]),_:2},1032,["href"]),i(_,null,{default:o(()=>[u(" Delete")]),_:1})])]),_:1},8,["table-data","cols"])])]),_:1}))}});export{xt as default};
