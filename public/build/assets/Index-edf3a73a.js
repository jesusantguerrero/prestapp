import{_ as me}from"./AppLayout.vue_vue_type_style_index_0_lang-96d4f03f.js";import{I as fe}from"./IconAdd-15a37a95.js";import{a4 as he,z as be,P as ye,d as E,m as ge,J as ve,B as we,o as A,c as S,w as g,a as w,k as X,h as $,t as C,u as f,b as v,af as _e,Q as xe,F as z,A as K,H as M,r as x,q as P,ag as oe,l as G,s as se,f as B,j as ee,ah as ke,n as Oe,g as F,ai as De}from"./app-e7293397.js";import{k as T,z as te,F as Y}from"./atmosphere-ui-86b7f8ed.js";import{_ as ae}from"./BaseSelect.vue_vue_type_style_index_1_lang-cbd59430.js";import{_ as Ae}from"./Modal.vue_vue_type_script_setup_true_lang-53b90f8d.js";import{_ as Ee}from"./AtTable.vue_vue_type_script_setup_true_lang-805493b4.js";import{_ as je}from"./AppButton.vue_vue_type_script_setup_true_lang-046c4e1c.js";import Se from"./AccountingSectionNav-e3768305.js";import{_ as Ce}from"./_plugin-vue_export-helper-c27b6911.js";import"./PaymentFormModal.vue_vue_type_script_setup_true_lang-dd64f8b8.js";import"./close-f1b40d6b.js";import"./PaymentGrid-6607ced0.js";import"./mathHelper-95aa3a2b.js";import"./exact-math.node-9a256fc0.js";import"./constants-0a903a05.js";import"./AccountSelect.vue_vue_type_script_setup_true_lang-cb870c82.js";import"./formatMoney-b7ef7683.js";import"./AppFormField.vue_vue_type_style_index_0_lang-d6998fd8.js";import"./index-c251e33c.js";import"./index-81f33ca2.js";import"./InvoiceFormModal.vue_vue_type_script_setup_true_lang-88bfc502.js";import"./user-outline-dcfa7b13.js";import"./ClientFormModal.vue_vue_type_script_setup_true_lang-d0093e27.js";import"./ClientForm.vue_vue_type_script_setup_true_lang-f1abe81a.js";import"./SectionNav.vue_vue_type_script_setup_true_lang-e0dfad64.js";import"./constants-22f9a1fe.js";import"./usePaymentModal-ad844d5c.js";import"./FastAccessOptions.vue_vue_type_script_setup_true_lang-1fc13d45.js";import"./customCell-f0a6687f.js";import"./menus-f4817d1f.js";const $e=e=>[{label:e||"Account Name",name:"display_id",width:200,type:"custom",render(n){return`${n.number} - ${n.alias||n.name}`}},{label:"",name:"display_id",width:300},{label:"",name:"description"},{label:"",name:"actions",width:300,type:"custom"}];var V={},Te={get exports(){return V},set exports(e){V=e}};(function(e){(function(n){let r;function s(l,t){const o=l.charCodeAt(t);if(isNaN(o))throw new RangeError("Index "+t+' out of range for string "'+l+'"; please open an issue at https://github.com/Trott/slug/issues/new');if(o<55296||o>57343)return[l.charAt(t),t];if(o>=55296&&o<=56319){if(l.length<=t+1)return[" ",t];const m=l.charCodeAt(t+1);return m<56320||m>57343?[" ",t]:[l.charAt(t)+l.charAt(t+1),t+1]}if(t===0)return[" ",t];const u=l.charCodeAt(t-1);if(u<55296||u>56319)return[" ",t];throw new Error('String "'+l+'" reaches code believed to be unreachable; please open an issue at https://github.com/Trott/slug/issues/new')}typeof window<"u"?window.btoa?r=function(l){return btoa(unescape(encodeURIComponent(l)))}:r=function(l){const t=unescape(encodeURIComponent(l+""));let o="";for(let u,m,d=0,O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.charAt(d|0)||(O="=",d%1);o+=O.charAt(63&u>>8-d%1*8)){if(m=t.charCodeAt(d+=3/4),m>255)throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");u=u<<8|m}return o}:r=function(l){return Buffer.from(l).toString("base64")};function a(l,t){let o=p(l,t);if((t&&t.fallback!==void 0?t.fallback:a.defaults.fallback)===!0&&o===""){let m="";for(let d=0;d<l.length;d++){const O=s(l,d);d=O[1],m+=O[0]}o=p(r(m),t)}return o}const b={bg:{Й:"Y",й:"y",X:"H",x:"h",Ц:"Ts",ц:"ts",Щ:"Sht",щ:"sht",Ъ:"A",ъ:"a",Ь:"Y",ь:"y"},de:{Ä:"AE",ä:"ae",Ö:"OE",ö:"oe",Ü:"UE",ü:"ue"},sr:{đ:"dj",Đ:"DJ"},uk:{И:"Y",и:"y",Й:"Y",й:"y",Ц:"Ts",ц:"ts",Х:"Kh",х:"kh",Щ:"Shch",щ:"shch",Г:"H",г:"h"}};let c={};function p(l,t){if(typeof l!="string")throw new Error("slug() requires a string argument, received "+typeof l);typeof t=="string"&&(t={replacement:t}),t=t?Object.assign({},t):{},t.mode=t.mode||a.defaults.mode;const o=a.defaults.modes[t.mode],u=["replacement","multicharmap","charmap","remove","lower","trim"];for(let h,_=0,L=u.length;_<L;_++)h=u[_],t[h]=h in t?t[h]:o[h];const m=b[t.locale]||c;let d=[];for(const h in t.multicharmap){if(!Object.prototype.hasOwnProperty.call(t.multicharmap,h))continue;const _=h.length;d.indexOf(_)===-1&&d.push(_)}d=d.sort(function(h,_){return _-h});const O=t.mode==="rfc3986"?/[^\w\s\-.~]/:/[^A-Za-z0-9\s]/;let k="";for(let h,_=0,L=l.length;_<L;_++){h=l[_];let J=!1;for(let N=0;N<d.length;N++){const Q=d[N],q=l.substr(_,Q);if(t.multicharmap[q]){_+=Q-1,h=t.multicharmap[q],J=!0;break}}J||(m[h]?h=m[h]:t.charmap[h]?h=t.charmap[h].replace(t.replacement," "):h.includes(t.replacement)?h=h.replace(t.replacement," "):h=h.replace(O,"")),k+=h}return t.remove&&(k=k.replace(t.remove,"")),t.trim&&(k=k.trim()),k=k.replace(/\s+/g,t.replacement),t.lower&&(k=k.toLowerCase()),k}const y={फ़:"Fi",ग़:"Ghi",ख़:"Khi",क़:"Qi",ड़:"ugDha",ढ़:"ugDhha",य़:"Yi",ज़:"Za",בִי:"i",בֵ:"e",בֵי:"e",בֶ:"e",בַ:"a",בָ:"a",בֹ:"o",וֹ:"o",בֻ:"u",וּ:"u",בּ:"b",כּ:"k",ךּ:"k",פּ:"p",שׁ:"sh",שׂ:"s",בְ:"e",חֱ:"e",חֲ:"a",חֳ:"o",בִ:"i"},i={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Æ:"AE",Ç:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ő:"O",Ø:"O",Ō:"O",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ű:"U",Ý:"Y",Þ:"TH",ß:"ss",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",æ:"ae",ç:"c",è:"e",é:"e",ê:"e",ë:"e",ì:"i",í:"i",î:"i",ï:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ő:"o",ø:"o",ō:"o",Œ:"OE",œ:"oe",ù:"u",ú:"u",û:"u",ü:"u",ű:"u",ý:"y",þ:"th",ÿ:"y","ẞ":"SS",α:"a",β:"b",γ:"g",δ:"d",ε:"e",ζ:"z",η:"h",θ:"th",ι:"i",κ:"k",λ:"l",μ:"m",ν:"n",ξ:"3",ο:"o",π:"p",ρ:"r",σ:"s",τ:"t",υ:"y",φ:"f",χ:"x",ψ:"ps",ω:"w",ά:"a",έ:"e",ί:"i",ό:"o",ύ:"y",ή:"h",ώ:"w",ς:"s",ϊ:"i",ΰ:"y",ϋ:"y",ΐ:"i",Α:"A",Β:"B",Γ:"G",Δ:"D",Ε:"E",Ζ:"Z",Η:"H",Θ:"Th",Ι:"I",Κ:"K",Λ:"L",Μ:"M",Ν:"N",Ξ:"3",Ο:"O",Π:"P",Ρ:"R",Σ:"S",Τ:"T",Υ:"Y",Φ:"F",Χ:"X",Ψ:"PS",Ω:"W",Ά:"A",Έ:"E",Ί:"I",Ό:"O",Ύ:"Y",Ή:"H",Ώ:"W",Ϊ:"I",Ϋ:"Y",ş:"s",Ş:"S",ı:"i",İ:"I",ğ:"g",Ğ:"G",а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"yo",ж:"zh",з:"z",и:"i",й:"j",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"h",ц:"c",ч:"ch",ш:"sh",щ:"sh",ъ:"u",ы:"y",ь:"",э:"e",ю:"yu",я:"ya",А:"A",Б:"B",В:"V",Г:"G",Д:"D",Е:"E",Ё:"Yo",Ж:"Zh",З:"Z",И:"I",Й:"J",К:"K",Л:"L",М:"M",Н:"N",О:"O",П:"P",Р:"R",С:"S",Т:"T",У:"U",Ф:"F",Х:"H",Ц:"C",Ч:"Ch",Ш:"Sh",Щ:"Sh",Ъ:"U",Ы:"Y",Ь:"",Э:"E",Ю:"Yu",Я:"Ya",Є:"Ye",І:"I",Ї:"Yi",Ґ:"G",є:"ye",і:"i",ї:"yi",ґ:"g",č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z",ľ:"l",ĺ:"l",ŕ:"r",Ľ:"L",Ĺ:"L",Ŕ:"R",ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"E",Ł:"L",Ń:"N",Ś:"S",Ź:"Z",Ż:"Z",ā:"a",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",ū:"u",Ā:"A",Ē:"E",Ģ:"G",Ī:"I",Ķ:"K",Ļ:"L",Ņ:"N",Ū:"U",أ:"a",إ:"i",ب:"b",ت:"t",ث:"th",ج:"g",ح:"h",خ:"kh",د:"d",ذ:"th",ر:"r",ز:"z",س:"s",ش:"sh",ص:"s",ض:"d",ط:"t",ظ:"th",ع:"aa",غ:"gh",ف:"f",ق:"k",ك:"k",ل:"l",م:"m",ن:"n",ه:"h",و:"o",ي:"y",ء:"aa",ة:"a",آ:"a",ا:"a",پ:"p",ژ:"zh",گ:"g",چ:"ch",ک:"k",ی:"i",ė:"e",į:"i",ų:"u",Ė:"E",Į:"I",Ų:"U",ț:"t",Ț:"T",ţ:"t",Ţ:"T",ș:"s",Ș:"S",ă:"a",Ă:"A",Ạ:"A",Ả:"A",Ầ:"A",Ấ:"A",Ậ:"A",Ẩ:"A",Ẫ:"A",Ằ:"A",Ắ:"A",Ặ:"A",Ẳ:"A",Ẵ:"A",Ẹ:"E",Ẻ:"E",Ẽ:"E",Ề:"E",Ế:"E",Ệ:"E",Ể:"E",Ễ:"E",Ị:"I",Ỉ:"I",Ĩ:"I",Ọ:"O",Ỏ:"O",Ồ:"O",Ố:"O",Ộ:"O",Ổ:"O",Ỗ:"O",Ơ:"O",Ờ:"O",Ớ:"O",Ợ:"O",Ở:"O",Ỡ:"O",Ụ:"U",Ủ:"U",Ũ:"U",Ư:"U",Ừ:"U",Ứ:"U",Ự:"U",Ử:"U",Ữ:"U",Ỳ:"Y",Ỵ:"Y",Ỷ:"Y",Ỹ:"Y",Đ:"D",ạ:"a",ả:"a",ầ:"a",ấ:"a",ậ:"a",ẩ:"a",ẫ:"a",ằ:"a",ắ:"a",ặ:"a",ẳ:"a",ẵ:"a",ẹ:"e",ẻ:"e",ẽ:"e",ề:"e",ế:"e",ệ:"e",ể:"e",ễ:"e",ị:"i",ỉ:"i",ĩ:"i",ọ:"o",ỏ:"o",ồ:"o",ố:"o",ộ:"o",ổ:"o",ỗ:"o",ơ:"o",ờ:"o",ớ:"o",ợ:"o",ở:"o",ỡ:"o",ụ:"u",ủ:"u",ũ:"u",ư:"u",ừ:"u",ứ:"u",ự:"u",ử:"u",ữ:"u",ỳ:"y",ỵ:"y",ỷ:"y",ỹ:"y",đ:"d",Ә:"AE",ә:"ae",Ғ:"GH",ғ:"gh",Қ:"KH",қ:"kh",Ң:"NG",ң:"ng",Ү:"UE",ү:"ue",Ұ:"U",ұ:"u",Һ:"H",һ:"h",Ө:"OE",ө:"oe",ђ:"dj",ј:"j",љ:"lj",њ:"nj",ћ:"c",џ:"dz",Ђ:"Dj",Ј:"j",Љ:"Lj",Њ:"Nj",Ћ:"C",Џ:"Dz",ǌ:"nj",ǉ:"lj",ǋ:"NJ",ǈ:"LJ",अ:"a",आ:"aa",ए:"e",ई:"ii",ऍ:"ei",ऎ:"ae",ऐ:"ai",इ:"i",ओ:"o",ऑ:"oi",ऒ:"oii",ऊ:"uu",औ:"ou",उ:"u",ब:"B",भ:"Bha",च:"Ca",छ:"Chha",ड:"Da",ढ:"Dha",फ:"Fa",ग:"Ga",घ:"Gha",ग़:"Ghi",ह:"Ha",ज:"Ja",झ:"Jha",क:"Ka",ख:"Kha",ख़:"Khi",ल:"L",ळ:"Li",ऌ:"Li",ऴ:"Lii",ॡ:"Lii",म:"Ma",न:"Na",ङ:"Na",ञ:"Nia",ण:"Nae",ऩ:"Ni",ॐ:"oms",प:"Pa",क़:"Qi",र:"Ra",ऋ:"Ri",ॠ:"Ri",ऱ:"Ri",स:"Sa",श:"Sha",ष:"Shha",ट:"Ta",त:"Ta",ठ:"Tha",द:"Tha",थ:"Tha",ध:"Thha",ड़:"ugDha",ढ़:"ugDhha",व:"Va",य:"Ya",य़:"Yi",ज़:"Za",ə:"e",Ə:"E",ა:"a",ბ:"b",გ:"g",დ:"d",ე:"e",ვ:"v",ზ:"z",თ:"t",ი:"i",კ:"k",ლ:"l",მ:"m",ნ:"n",ო:"o",პ:"p",ჟ:"zh",რ:"r",ს:"s",ტ:"t",უ:"u",ფ:"p",ქ:"k",ღ:"gh",ყ:"q",შ:"sh",ჩ:"ch",ც:"ts",ძ:"dz",წ:"ts",ჭ:"ch",ხ:"kh",ჯ:"j",ჰ:"h",ב:"v",גּ:"g",ג:"g",ד:"d",דּ:"d",ה:"h",ו:"v",ז:"z",ח:"h",ט:"t",י:"y",כ:"kh",ך:"kh",ל:"l",מ:"m",ם:"m",נ:"n",ן:"n",ס:"s",פ:"f",ף:"f",ץ:"ts",צ:"ts",ק:"k",ר:"r",תּ:"t",ת:"t"};a.charmap=Object.assign({},i),a.multicharmap=Object.assign({},y),a.defaults={charmap:a.charmap,mode:"pretty",modes:{rfc3986:{replacement:"-",remove:null,lower:!0,charmap:a.charmap,multicharmap:a.multicharmap,trim:!0},pretty:{replacement:"-",remove:null,lower:!0,charmap:a.charmap,multicharmap:a.multicharmap,trim:!0}},multicharmap:a.multicharmap,fallback:!0},a.reset=function(){a.defaults.modes.rfc3986.charmap=a.defaults.modes.pretty.charmap=a.charmap=a.defaults.charmap=Object.assign({},i),a.defaults.modes.rfc3986.multicharmap=a.defaults.modes.pretty.multicharmap=a.multicharmap=a.defaults.multicharmap=Object.assign({},y),c=""},a.extend=function(l){const t=Object.keys(l),o={},u={};for(let m=0;m<t.length;m++)t[m].length>1?o[t[m]]=l[t[m]]:u[t[m]]=l[t[m]];Object.assign(a.charmap,u),Object.assign(a.multicharmap,o)},a.setLocale=function(l){c=b[l]||{}},e.exports?e.exports=a:n.slug=a})(he)})(Te);const le=V,Ue={class:"pb-4 bg-base-lvl-3 sm:p-6 sm:pb-4 text-body"},Ie={class:"text-center sm:mt-0 sm:ml-4 sm:text-left"},Pe={class:"pb-3 border-b"},Le={class:"text-lg font-bold"},Ne={class:"mt-2 px-4 pt-5"},Be={class:"px-6 py-4 md:space-x-3 space-between bg-base-lvl-2 flex w-full"},Fe={class:"flex items-center justify-end w-full md:space-x-2"},Ye={__name:"AccountModal",props:{show:{default:!1},maxWidth:{default:"2xl"},closeable:{default:!0},formData:{type:Object,default:()=>({})}},emits:["close"],setup(e,{emit:n}){const r=e,s=be({form:ye({id:null,name:"",category_id:null,account_detail_type_id:null,display_id:"",description:"",opening_balance:0}),accountDisplayId:E(()=>s.form.name&&le(s.form.name,"_"))}),a=E(()=>r.formData.id?`Edit ${r.formData.name} account`:"Add Account");ge(()=>r.formData,l=>{Object.keys(s.form.data()).forEach(t=>{t=="date"?s.form[t]=new Date(l[t]):s.form[t]=l[t]})},{deep:!0,immediate:!0});const b=()=>{n("close")},c=()=>{const l={save:{method:"post",url:()=>route("accounts.store")},update:{method:"put",url:()=>route("accounts.update",r.formData)}},t=r.formData&&r.formData.id?"update":"save",o=l[t];s.form.transform(u=>(u.display_id=le(u.name,"_"),u)).submit(o.method,o.url(),{onSuccess:({data:u})=>{n("close"),s.form.reset()}})},p=()=>{confirm("Are you sure you want to delete this account?")&&s.form.delete(route("accounts.destroy",s.form),{onSuccess(){n("close"),s.form.reset()}})},y=ve().props.accountDetailTypes,{form:i}=we(s);return(l,t)=>(A(),S(Ae,{show:e.show,"max-width":e.maxWidth,closeable:e.closeable,onClose:b},{default:g(()=>[w("div",Ue,[w("div",Ie,[w("header",Pe,[w("h3",Le,[X(l.$slots,"title",{},()=>[$(C(f(a)),1)])])]),w("div",Ne,[X(l.$slots,"content",{},()=>[w("div",null,[v(f(T),{label:"Detail Type",class:"md:space-x-0 flex w-full justify-between space-x-4"},{default:g(()=>[v(ae,{endpoint:"/api/categories",modelValue:f(i)[l.categoryField],"onUpdate:modelValue":t[0]||(t[0]=o=>f(i)[l.categoryField]=o),onUpdate:l.createCategory,"default-expand-all":!0,"track-by":"id",label:"name"},null,8,["modelValue","onUpdate"])]),_:1}),v(f(T),{label:"Detail Type",class:"md:space-x-0 flex w-full justify-between space-x-4"},{default:g(()=>[v(ae,{class:"w-48 md:w-full",value:f(i).account_detail_type_id,"onUpdate:value":t[1]||(t[1]=o=>f(i).account_detail_type_id=o),"default-expand-all":!0,options:f(y)},null,8,["value","options"])]),_:1}),v(f(T),{label:"Account Label",class:"md:space-x-0 flex w-full justify-between space-x-4"},{default:g(()=>[v(f(te),{modelValue:f(i).name,"onUpdate:modelValue":t[2]||(t[2]=o=>f(i).name=o),class:"w-48 md:w-full"},null,8,["modelValue"])]),_:1}),v(f(T),{label:"Opening Balance",class:"md:space-x-0 flex w-full justify-between space-x-4"},{default:g(()=>[v(f(te),{modelValue:f(i).opening_balance,"onUpdate:modelValue":t[3]||(t[3]=o=>f(i).opening_balance=o),type:"number",class:"w-48 md:w-full"},null,8,["modelValue"])]),_:1})])])])])]),w("div",Be,[v(f(Y),{type:"secondary",class:"text-danger hidden md:block",onClick:p,rounded:""},{default:g(()=>[$(" Delete ")]),_:1}),w("div",Fe,[v(f(Y),{type:"secondary",class:"hidden md:block",onClick:b,rounded:""},{default:g(()=>[$(" Cancel ")]),_:1}),v(f(Y),{class:"text-white bg-primary",onClick:c,rounded:""},{default:g(()=>[$(" Save ")]),_:1})])])]),_:3},8,["show","max-width","closeable"]))}};function U(e,n,...r){if(e in n){let a=n[e];return typeof a=="function"?a(...r):a}let s=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(n).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,U),s}var R=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(R||{}),He=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(He||{});function Z({visible:e=!0,features:n=0,ourProps:r,theirProps:s,...a}){var b;let c=ue(s,r),p=Object.assign(a,{props:c});if(e||n&2&&c.static)return H(p);if(n&1){let y=(b=c.unmount)==null||b?0:1;return U(y,{[0](){return null},[1](){return H({...a,props:{...c,hidden:!0,style:{display:"none"}}})}})}return H(p)}function H({props:e,attrs:n,slots:r,slot:s,name:a}){var b,c;let{as:p,...y}=ze(e,["unmount","static"]),i=(b=r.default)==null?void 0:b.call(r,s),l={};if(s){let t=!1,o=[];for(let[u,m]of Object.entries(s))typeof m=="boolean"&&(t=!0),m===!0&&o.push(u);t&&(l["data-headlessui-state"]=o.join(" "))}if(p==="template"){if(i=re(i??[]),Object.keys(y).length>0||Object.keys(n).length>0){let[t,...o]=i??[];if(!Ve(t)||o.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${a} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(y).concat(Object.keys(n)).map(d=>d.trim()).filter((d,O,k)=>k.indexOf(d)===O).sort((d,O)=>d.localeCompare(O)).map(d=>`  - ${d}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(d=>`  - ${d}`).join(`
`)].join(`
`));let u=ue((c=t.props)!=null?c:{},y),m=_e(t,u);for(let d in u)d.startsWith("on")&&(m.props||(m.props={}),m.props[d]=u[d]);return m}return Array.isArray(i)&&i.length===1?i[0]:i}return xe(p,Object.assign({},y,l),{default:()=>i})}function re(e){return e.flatMap(n=>n.type===z?re(n.children):[n])}function ue(...e){if(e.length===0)return{};if(e.length===1)return e[0];let n={},r={};for(let s of e)for(let a in s)a.startsWith("on")&&typeof s[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(s[a])):n[a]=s[a];if(n.disabled||n["aria-disabled"])return Object.assign(n,Object.fromEntries(Object.keys(r).map(s=>[s,void 0])));for(let s in r)Object.assign(n,{[s](a,...b){let c=r[s];for(let p of c){if(a instanceof Event&&a.defaultPrevented)return;p(a,...b)}}});return n}function ze(e,n=[]){let r=Object.assign({},e);for(let s of n)s in r&&delete r[s];return r}function Ve(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}let Re=0;function Ke(){return++Re}function ie(){return Ke()}var j=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(j||{});function D(e){var n;return e==null||e.value==null?null:(n=e.value.$el)!=null?n:e.value}let ce=Symbol("Context");var I=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(I||{});function Me(){return K(ce,null)}function Ge(e){M(ce,e)}function ne(e,n){if(e)return e;let r=n??"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function Ze(e,n){let r=x(ne(e.value.type,e.value.as));return P(()=>{r.value=ne(e.value.type,e.value.as)}),oe(()=>{var s;r.value||!D(n)||D(n)instanceof HTMLButtonElement&&!((s=D(n))!=null&&s.hasAttribute("type"))&&(r.value="button")}),r}var We=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(We||{});let de=Symbol("DisclosureContext");function W(e){let n=K(de,null);if(n===null){let r=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,W),r}return n}let pe=Symbol("DisclosurePanelContext");function Je(){return K(pe,null)}let Qe=G({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:n,attrs:r}){let s=x(e.defaultOpen?0:1),a=x(null),b=x(null),c={buttonId:x(null),panelId:x(null),disclosureState:s,panel:a,button:b,toggleDisclosure(){s.value=U(s.value,{[0]:1,[1]:0})},closeDisclosure(){s.value!==1&&(s.value=1)},close(p){c.closeDisclosure();let y=(()=>p?p instanceof HTMLElement?p:p.value instanceof HTMLElement?D(p):D(c.button):D(c.button))();y==null||y.focus()}};return M(de,c),Ge(E(()=>U(s.value,{[0]:I.Open,[1]:I.Closed}))),()=>{let{defaultOpen:p,...y}=e,i={open:s.value===0,close:c.close};return Z({theirProps:y,ourProps:{},slot:i,slots:n,attrs:r,name:"Disclosure"})}}}),qe=G({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-disclosure-button-${ie()}`}},setup(e,{attrs:n,slots:r,expose:s}){let a=W("DisclosureButton");P(()=>{a.buttonId.value=e.id}),se(()=>{a.buttonId.value=null});let b=Je(),c=E(()=>b===null?!1:b.value===a.panelId.value),p=x(null);s({el:p,$el:p}),c.value||oe(()=>{a.button.value=p.value});let y=Ze(E(()=>({as:e.as,type:n.type})),p);function i(){var o;e.disabled||(c.value?(a.toggleDisclosure(),(o=D(a.button))==null||o.focus()):a.toggleDisclosure())}function l(o){var u;if(!e.disabled)if(c.value)switch(o.key){case j.Space:case j.Enter:o.preventDefault(),o.stopPropagation(),a.toggleDisclosure(),(u=D(a.button))==null||u.focus();break}else switch(o.key){case j.Space:case j.Enter:o.preventDefault(),o.stopPropagation(),a.toggleDisclosure();break}}function t(o){switch(o.key){case j.Space:o.preventDefault();break}}return()=>{let o={open:a.disclosureState.value===0},{id:u,...m}=e,d=c.value?{ref:p,type:y.value,onClick:i,onKeydown:l}:{id:u,ref:p,type:y.value,"aria-expanded":e.disabled?void 0:a.disclosureState.value===0,"aria-controls":D(a.panel)?a.panelId.value:void 0,disabled:e.disabled?!0:void 0,onClick:i,onKeydown:l,onKeyup:t};return Z({ourProps:d,theirProps:m,slot:o,attrs:n,slots:r,name:"DisclosureButton"})}}}),Xe=G({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-disclosure-panel-${ie()}`}},setup(e,{attrs:n,slots:r,expose:s}){let a=W("DisclosurePanel");P(()=>{a.panelId.value=e.id}),se(()=>{a.panelId.value=null}),s({el:a.panel,$el:a.panel}),M(pe,a.panelId);let b=Me(),c=E(()=>b!==null?b.value===I.Open:a.disclosureState.value===0);return()=>{let p={open:a.disclosureState.value===0,close:a.close},{id:y,...i}=e,l={id:y,ref:a.panel};return Z({ourProps:l,theirProps:i,slot:p,attrs:n,slots:r,features:R.RenderStrategy|R.Static,visible:c.value,name:"DisclosurePanel"})}}});const et={class:"w-full py-10 mx-auto sm:px-6 lg:px-8"},tt={class:"w-full px-5 py-5 bg-white rounded-md shadow-md"},at={class:"text-lg font-bold"},lt={class:"font-bold"},nt={key:0,class:"italic font-normal"},ot=["onClick"],st={__name:"Index",props:{accounts:{type:Array},categories:{type:Array}},setup(e){const n=e;x(null),x(""),x([]);const r=x(""),s=x([]);P(()=>{b()}),E(()=>"accounts");const a=E(()=>n.categories.map(i=>(i.name.replace(/[d]/i),i))),b=()=>{s.value=n.categories,r.value=a.value&&a.value.length?a.value[0].id:""},c=x(!1),p=x({}),y=(i={})=>{p.value=i,c.value=!0};return(i,l)=>(A(),S(me,{title:"Cuentas"},{header:g(()=>[v(Se,null,{actions:g(()=>[v(je,{onClick:l[0]||(l[0]=t=>c.value=!0),variant:"inverse"},{default:g(()=>[v(fe)]),_:1})]),_:1})]),default:g(()=>[w("div",et,[w("div",tt,[v(f(De),{modelValue:r.value,"onUpdate:modelValue":l[1]||(l[1]=t=>r.value=t)},{default:g(()=>[(A(!0),B(z,null,ee(f(a),t=>(A(),S(f(ke),{label:`${t.alias||t.name} (${t.subcategories.length})`,title:`${t.alias||t.name} (${t.number})`,name:t.id,key:t.id,class:"w-full bg-white"},{default:g(()=>[t.subcategories.length?(A(!0),B(z,{key:0},ee(t.subcategories,o=>(A(),S(f(Qe),{key:o.id},{default:g(()=>[v(f(qe),{class:"flex justify-between w-full px-4 py-2 text-sm font-medium text-left text-blue-900 bg-blue-100 hover:bg-blue-200 focus:outline-none focus-visible:ring focus-visible:ring-blue-500 focus-visible:ring-opacity-75"},{default:g(({open:u})=>[w("span",at,C(o.number)+" - "+C(o.alias||o.name),1),w("i",{class:Oe(["fa fa-chevron-down",u?"transform rotate-180":""])},null,2)]),_:2},1024),v(f(Xe),{class:"font-bold text-gray-500"},{default:g(()=>[v(Ee,{cols:f($e)(" "),tableData:o.accounts,"empty-text":"No hay cuentas en esta categoria","hide-headers":""},{name:g(({scope:{row:u}})=>[w("div",null,[w("div",lt,C(u.alias||u.name),1),u.last_transaction_date?(A(),B("div",nt," Last transaction on: "+C(u.last_transaction_date.date),1)):F("",!0)])]),actions:g(({scope:{row:u}})=>[w("button",{onClick:m=>y(u)},"Edit",8,ot)]),_:2},1032,["cols","tableData"])]),_:2},1024)]),_:2},1024))),128)):F("",!0)]),_:2},1032,["label","title","name"]))),128))]),_:1},8,["modelValue"])]),c.value?(A(),S(Ye,{key:0,show:c.value,"max-width":i.modalMaxWidth,"form-data":p.value,onClose:l[2]||(l[2]=t=>c.value=!1)},null,8,["show","max-width","form-data"])):F("",!0)])]),_:1}))}},Bt=Ce(st,[["__scopeId","data-v-9eb36e39"]]);export{Bt as default};
