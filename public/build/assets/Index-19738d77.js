import{_ as A}from"./AppLayout.vue_vue_type_script_setup_true_lang-3f2d2e09.js";import{a as N}from"./AppLayout.vue_vue_type_style_index_0_lang-b5fae1fa.js";import{_ as B}from"./ClientsTable.vue_vue_type_script_setup_true_lang-09705206.js";import{k as O,d as u,B as P,c as n,w as r,u as t,o as s,b as c,h as p,E as d,g as T,t as V,a as _}from"./app-5778ba55.js";import b from"./LoanSectionNav-5e9cc305.js";import{_ as x}from"./PropertySectionNav.vue_vue_type_script_setup_true_lang-782cd8ee.js";import{_ as m}from"./AppButton.vue_vue_type_script_setup_true_lang-bb509e3b.js";import{u as z}from"./useServerSearch-1527cb78.js";import"./atmosphere-ui-cf0281b4.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./PaymentFormModal.vue_vue_type_script_setup_true_lang-de8b7819.js";import"./PaymentGrid-aea5b371.js";/* empty css                                                                    */import"./mathHelper-b9912ba5.js";import"./exact-math.node-d4a7cd04.js";import"./constants-0a903a05.js";import"./AccountSelect.vue_vue_type_script_setup_true_lang-d05957ec.js";import"./formatMoney-b7ef7683.js";import"./BaseSelect.vue_vue_type_script_setup_true_lang-c8c2da4a.js";/* empty css                                                   */import"./index-c251e33c.js";import"./index-81f33ca2.js";import"./Modal.vue_vue_type_script_setup_true_lang-32b3b269.js";import"./usePaymentModal-7f0729f4.js";import"./ClientFormModal.vue_vue_type_script_setup_true_lang-becaa604.js";import"./close-287af76b.js";import"./ClientForm.vue_vue_type_script_setup_true_lang-a74f0c22.js";import"./clientInteractions-39478df6.js";import"./SectionNav.vue_vue_type_script_setup_true_lang-4fc6099a.js";import"./AppSearch.vue_vue_type_script_setup_true_lang-5f2b06a0.js";import"./AppSearchFilters-2dae0cfe.js";import"./BaseTable.vue_vue_type_style_index_0_lang-46fdd41f.js";import"./customCell-8a32bb2a.js";import"./constants-ca1255a1.js";import"./IconMarker-268209a0.js";import"./ClientCard.vue_vue_type_script_setup_true_lang-822e3ed7.js";import"./menus-2c7b33a0.js";import"./index-8305cd09.js";const D={class:"mt-16 bg-white rounded-md"},St=O({__name:"Index",props:{clients:null,type:null,serverSearchOptions:{default:()=>({filters:{},dates:{},sorts:"",limit:10,relationships:"",search:"",page:1})}},setup(o){const i=o,v=u(()=>Array.isArray(i.clients)?i.clients:i.clients.data),y=u(()=>!Array.isArray(i.clients)&&i.clients.total),{toggleModal:f}=N("contact"),g=u(()=>({owner:"DueÃ±os de propiedades",tenant:"Inquilinos",lender:"Clientes de prestamos"})[i.type]??"Clientes"),{serverSearchOptions:k}=P(i),{executeSearch:C,updateSearch:S,changeSize:$,paginate:w,state:h}=z(k,a=>{S(`/contacts/${i.type}?${a}`)},{manual:!0});return(a,e)=>(s(),n(A,{title:t(g)},{header:r(()=>[o.type=="lender"?(s(),n(b,{key:0},{actions:r(()=>[c(m,{variant:"inverse-secondary",onClick:e[0]||(e[0]=l=>t(d).visit("/loans/create"))},{default:r(()=>[p(" Nuevo prestamo ")]),_:1}),c(m,{variant:"secondary",onClick:e[1]||(e[1]=l=>t(f)({data:{type:o.type},isOpen:!0}))},{default:r(()=>[p(" Nuevo cliente ")]),_:1})]),_:1})):(s(),n(x,{key:1},{actions:r(()=>[o.type=="owner"?(s(),n(m,{key:0,variant:"inverse",onClick:e[2]||(e[2]=l=>t(d).visit(a.route("properties.create")))},{default:r(()=>[p(" Agregar Propiedad ")]),_:1})):T("",!0),o.type=="owner"?(s(),n(m,{key:1,variant:"inverse",onClick:e[3]||(e[3]=l=>t(d).visit(a.route("owners.draw")))},{default:r(()=>[p(" Pagar distribucion ")]),_:1})):(s(),n(m,{key:2,variant:"inverse-secondary",onClick:e[4]||(e[4]=l=>t(d).visit(a.route("properties.create")))},{default:r(()=>[p(" Agregar Contrato ")]),_:1})),c(m,{variant:"secondary",onClick:e[5]||(e[5]=l=>t(f)({data:{type:o.type},isOpen:!0}))},{default:r(()=>[p(" Agregar "+V(o.type),1)]),_:1})]),_:1}))]),default:r(()=>[_("main",D,[c(B,{clients:t(v),pagination:t(h),total:t(y),onSearch:t(C),onPaginate:t(w),onSizeChange:t($)},null,8,["clients","pagination","total","onSearch","onPaginate","onSizeChange"])])]),_:1},8,["title"]))}});export{St as default};
