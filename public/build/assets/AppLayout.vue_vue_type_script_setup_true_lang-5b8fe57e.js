import{o as l,f as c,a as o,k as O,J as te,r as B,d as w,l as R,u as e,n as C,g as y,t as T,m as se,p as ie,q as ce,s as M,i as D,e as q,x as Z,b as i,w as d,T as de,c as x,y as S,F as j,j as E,z as ne,P as ue,A as me,B as pe,C as W,h as V,D as I,E as U,G as fe,H as oe,I as he,K as _e,L as be,M as ve,N as J,O as ae,Q as ge,X as xe,R as ye}from"./app-de9d56f0.js";import{R as L,V as F,N as K,O as we}from"./atmosphere-ui-55a1c253.js";import{u as $e,a as ke,t as Ce,A as Me}from"./AppLayout.vue_vue_type_style_index_0_lang-1b19aa61.js";import{_ as N}from"./_plugin-vue_export-helper-c27b6911.js";import{_ as Q}from"./AppButton.vue_vue_type_script_setup_true_lang-81087974.js";import{_ as Ae}from"./PaymentFormModal.vue_vue_type_script_setup_true_lang-e6300ed2.js";import{_ as Se}from"./Modal.vue_vue_type_script_setup_true_lang-26f85fd9.js";import{_ as X}from"./AccountSelect.vue_vue_type_script_setup_true_lang-a83a84cb.js";import{f as Te}from"./index-c251e33c.js";import{u as Ve,m as Y}from"./usePaymentModal-6968ac37.js";import{_ as Be}from"./ClientFormModal.vue_vue_type_script_setup_true_lang-ca470652.js";import{f as Oe}from"./formatMoney-b7ef7683.js";import{_ as Le}from"./AppSearch.vue_vue_type_script_setup_true_lang-46ceeab7.js";const Re={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},De=o("path",{fill:"currentColor",d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2Z"},null,-1),je=[De];function Ie(a,n){return l(),c("svg",Re,je)}const Ee={name:"mdi-plus",render:Ie},We={},Pe={viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ue=o("path",{d:"M11.395 44.428C4.557 40.198 0 32.632 0 24 0 10.745 10.745 0 24 0a23.891 23.891 0 0113.997 4.502c-.2 17.907-11.097 33.245-26.602 39.926z",fill:"#6875F5"},null,-1),Ne=o("path",{d:"M14.134 45.885A23.914 23.914 0 0024 48c13.255 0 24-10.745 24-24 0-3.516-.756-6.856-2.115-9.866-4.659 15.143-16.608 27.092-31.75 31.751z",fill:"#6875F5"},null,-1),ze=[Ue,Ne];function Fe(a,n){return l(),c("svg",Pe,ze)}const He=N(We,[["render",Fe]]),qe={class:"max-w-screen-xl mx-auto py-2 px-3 sm:px-6 lg:px-8"},Ge={class:"flex items-center justify-between flex-wrap"},Ze={class:"w-0 flex-1 flex items-center min-w-0"},Je={key:0,class:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Ke=o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),Qe=[Ke],Xe={key:1,class:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Ye=o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},null,-1),et=[Ye],tt={class:"ml-3 font-medium text-sm text-white truncate"},st={class:"shrink-0 sm:ml-3"},nt=o("svg",{class:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),ot=[nt],at=O({__name:"Banner",setup(a){const n=te().props,t=B(!0),s=w(()=>{var h,u;return((u=(h=n==null?void 0:n.jetstream)==null?void 0:h.flash)==null?void 0:u.bannerStyle)||"success"}),r=w(()=>{var h,u;return((u=(h=n==null?void 0:n.jetstream)==null?void 0:h.flash)==null?void 0:u.banner)||""});return R(r,async()=>{t.value=!0}),(h,u)=>(l(),c("div",null,[t.value&&e(r)?(l(),c("div",{key:0,class:C({"bg-indigo-500":e(s)=="success","bg-red-700":e(s)=="danger"})},[o("div",qe,[o("div",Ge,[o("div",Ze,[o("span",{class:C(["flex p-2 rounded-lg",{"bg-indigo-600":e(s)=="success","bg-red-600":e(s)=="danger"}])},[e(s)=="success"?(l(),c("svg",Je,Qe)):y("",!0),e(s)=="danger"?(l(),c("svg",Xe,et)):y("",!0)],2),o("p",tt,T(e(r)),1)]),o("div",st,[o("button",{type:"button",class:C(["-mr-1 flex p-2 rounded-md focus:outline-none sm:-mr-2 transition",{"hover:bg-indigo-600 focus:bg-indigo-600":e(s)=="success","hover:bg-red-600 focus:bg-red-600":e(s)=="danger"}]),"aria-label":"Dismiss",onClick:u[0]||(u[0]=se(m=>t.value=!1,["prevent"]))},ot,2)])])])],2)):y("",!0)]))}}),lt={class:"relative"},le={__name:"Dropdown",props:{align:{type:String,default:"right"},width:{type:String,default:"48"},contentClasses:{type:Array,default:()=>["py-1","bg-white"]}},setup(a){const n=a;let t=B(!1);const s=u=>{t.value&&u.key==="Escape"&&(t.value=!1)};ie(()=>document.addEventListener("keydown",s)),ce(()=>document.removeEventListener("keydown",s));const r=w(()=>({48:"w-48"})[n.width.toString()]),h=w(()=>n.align==="left"?"origin-top-left left-0":n.align==="right"?"origin-top-right right-0":"origin-top");return(u,m)=>(l(),c("div",lt,[o("div",{onClick:m[0]||(m[0]=A=>D(t)?t.value=!e(t):t=!e(t))},[M(u.$slots,"trigger")]),q(o("div",{class:"fixed inset-0 z-40",onClick:m[1]||(m[1]=A=>D(t)?t.value=!1:t=!1)},null,512),[[Z,e(t)]]),i(de,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:d(()=>[q(o("div",{class:C(["absolute z-50 mt-2 rounded-md shadow-lg",[e(r),e(h)]]),style:{display:"none"},onClick:m[2]||(m[2]=A=>D(t)?t.value=!1:t=!1)},[o("div",{class:C(["rounded-md ring-1 ring-black ring-opacity-5",a.contentClasses])},[M(u.$slots,"content")],2)],2),[[Z,e(t)]])]),_:3})]))}},rt={key:0,type:"submit",class:"block w-full px-4 py-2 text-sm leading-5 text-gray-700 text-left hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition"},it=["href"],H={__name:"DropdownLink",props:{href:String,as:String},setup(a){return(n,t)=>(l(),c("div",null,[a.as=="button"?(l(),c("button",rt,[M(n.$slots,"default")])):a.as=="a"?(l(),c("a",{key:1,href:a.href,class:"block px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition"},[M(n.$slots,"default")],8,it)):(l(),x(e(S),{key:2,href:a.href,class:"block px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition"},{default:d(()=>[M(n.$slots,"default")]),_:3},8,["href"]))]))}},ct={class:"grid grid-cols-3 overflow-hidden text-lg rounded-lg"},dt=["onClick"],ut=O({__name:"TransactionTypesPicker",props:{modelValue:{type:String}},emits:["update:modelValue"],setup(a){const n=[{value:"DEPOSIT",label:"Ingreso"},{value:"WITHDRAW",label:"Gasto"},{value:"TRANSFER",label:"Transferencia"}];return(t,s)=>(l(),c("div",ct,[(l(),c(j,null,E(n,r=>o("div",{key:r.value,options:n,onClick:h=>t.$emit("update:modelValue",r.value),class:C(["py-1 font-bold text-center cursor-pointer",[a.modelValue==r.value?"bg-primary hover:bg-primary text-white":"hover:bg-base-lvl-3 text-body bg-base-lvl-2"]])},T(r.label),11,dt)),64))]))}}),mt={WITHDRAW:"WITHDRAW",DEPOSIT:"DEPOSIT",TRANSFER:"TRANSFER"},pt={class:"pb-4 bg-base-lvl-3 sm:p-6 sm:pb-4 text-body flex-1"},ft={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},ht={class:"mt-2"},_t={key:0,class:"flex justify-between py-3 px-4"},bt=o("span",{class:"flex items-center pl-2"}," RD$ ",-1),vt={class:"md:flex md:space-x-2 md:px-0 px-4"},gt={class:"md:flex md:space-x-3 md:px-0 px-4"},xt=o("span",{class:"flex items-center pl-2"}," RD$ ",-1),yt={class:"px-6 py-4 space-x-3 items-center justify-end flex w-full bg-base-lvl-2"},wt=O({__name:"TransactionModal",props:{show:{default:!1},maxWidth:{default:"2xl"},closeable:{default:!0},categories:{type:Array,default:[]},accounts:{type:Array,default:[]},recurrence:{type:Boolean,default:!1},transactionData:{type:Object,default:()=>({})},mode:{type:String,default:"income"},fullHeight:{type:Boolean}},emits:["close","saved"],setup(a,{emit:n}){const t=a,s=ne({frequencyLabel:"every",form:ue({name:"",payee_id:"",account:null,payee_label:"",date:null,description:"",direction:"WITHDRAW",category_id:null,counterAccount:null,counter_account_id:null,account_id:null,display_id:"",total:0,is_transfer:!1})});R(()=>s.form.direction,g=>{(g==null?void 0:g.toLowerCase())=="transfer"?s.form.is_transfer=!0:s.form.is_transfer=!1});const r=w(()=>s.form.is_transfer),h=w(()=>r.value?"Cuenta origen":"Cuenta"),u=w(()=>r.value?"Cuenta destino":"Categoria"),m=w(()=>r.value?"counter_account_id":"category_id"),A=me("categoryOptions",[]),p=()=>{const g={transaction:{save:{method:"post",url:()=>route("transactions.store")},update:{method:"put",url:()=>route("transactions.update",t.transactionData)}},recurrence:{save:{method:"post",url:()=>route("transactions.store-planned")},update:{method:"update",url:()=>route("transactions.store-planned")}}},f=t.transactionData&&t.transactionData.id?"update":"save",z=_.value?"recurrence":"transaction",P=g[z][f];s.form.transform(k=>{var v,G;return{...k,resource_type_id:"MANUAL",total:k.total,account_id:(v=k.account)==null?void 0:v.id,counter_account_id:(G=k.counterAccount)==null?void 0:G.id,date:Te(new Date(k.date),"yyyy-MM-dd"),status:"verified",direction:k.is_transfer?mt.WITHDRAW:k.direction}}).submit(P.method,P.url(),{onBefore(k){k.data.total||alert("The balance should be more than 0")},onSuccess:()=>{n("close"),s.form.reset()}})};R(()=>t.transactionData,()=>{const g={...t.transactionData};Object.keys(s.form.data()).forEach(f=>{f=="date"&&g[f]?s.form[f]=new Date(g[f]):s.form[f]=g[f]||s.form[f]})},{deep:!0}),R(()=>t.show,g=>{var f;s.form.direction=((f=t.mode)==null?void 0:f.toUpperCase())??"WITHDRAW"});const _=B(t.recurrence),{form:b}=pe(s),$=B(!1);return(g,f)=>{const z=W("CategoryPicker"),P=W("ElDatePicker");return l(),x(Se,{show:a.show,"max-width":a.maxWidth,"full-height":a.fullHeight,closeable:a.closeable,onClose:f[9]||(f[9]=k=>g.$emit("update:show",!1))},{default:d(({close:k})=>[o("div",pt,[o("div",ft,[i(ut,{modelValue:e(b).direction,"onUpdate:modelValue":f[0]||(f[0]=v=>e(b).direction=v)},null,8,["modelValue"]),o("div",ht,[M(g.$slots,"content",{},()=>[o("div",null,[a.fullHeight?(l(),c("header",_t,[i(z,{class:"w-full",modelValue:e(b)[e(m)],"onUpdate:modelValue":f[1]||(f[1]=v=>e(b)[e(m)]=v),isPickerOpen:$.value,"onUpdate:isPickerOpen":f[2]||(f[2]=v=>$.value=v),placeholder:`Choose ${e(u)}`,options:e(A)},null,8,["modelValue","isPickerOpen","placeholder","options"]),$.value?y("",!0):(l(),x(e(L),{key:0},{default:d(()=>[i(e(F),{"number-format":!0,modelValue:e(b).total,"onUpdate:modelValue":f[3]||(f[3]=v=>e(b).total=v)},{prefix:d(()=>[bt]),_:1},8,["modelValue"])]),_:1}))])):y("",!0),o("div",vt,[i(e(L),{label:"Fecha",class:"md:w-4/12 md:block flex w-full justify-between"},{default:d(()=>[i(P,{modelValue:e(b).date,"onUpdate:modelValue":f[4]||(f[4]=v=>e(b).date=v),type:"date",size:"large",class:"w-48 md:w-full"},null,8,["modelValue"])]),_:1}),i(e(L),{label:"Concepto",class:"md:w-8/12 flex w-full md:block md:space-x-0 justify-between"},{default:d(()=>[i(e(F),{modelValue:e(b).description,"onUpdate:modelValue":f[5]||(f[5]=v=>e(b).description=v),class:"w-48 md:w-full"},null,8,["modelValue"])]),_:1})]),i(e(L),{label:e(h),class:"md:w-full md:block md:space-x-0 flex w-full justify-between space-x-4"},{default:d(()=>[i(X,{endpoint:"/api/accounts",modelValue:e(b).account,"onUpdate:modelValue":f[6]||(f[6]=v=>e(b).account=v)},null,8,["modelValue"])]),_:1},8,["label"]),o("div",gt,[i(e(L),{label:e(u),class:"hidden md:block md:w-full"},{default:d(()=>[i(X,{endpoint:"/api/accounts",modelValue:e(b).counterAccount,"onUpdate:modelValue":f[7]||(f[7]=v=>e(b).counterAccount=v)},null,8,["modelValue"])]),_:1},8,["label"]),i(e(L),{label:"Monto",class:"hidden md:block md:w-5/12"},{default:d(()=>[i(e(F),{"number-format":!0,modelValue:e(b).total,"onUpdate:modelValue":f[8]||(f[8]=v=>e(b).total=v)},{prefix:d(()=>[xt]),_:1},8,["modelValue"])]),_:1})])])])])])]),o("footer",yt,[o("div",null,[i(e(K),{onClick:k,rounded:"",class:"h-10 text-body"},{default:d(()=>[V(" Cancel ")]),_:2},1032,["onClick"]),i(e(K),{class:"h-10 text-white bg-primary",disabled:!e(b).total||e(b).processing,onClick:p,rounded:""},{default:d(()=>[V(" Save ")]),_:1},8,["disabled"])])])]),_:3},8,["show","max-width","full-height","closeable"])}}}),$t=O({__name:"TheGlobals",setup(a){const{isOpen:n}=Ve(),{isOpen:t,closeTransactionModal:s}=$e(),r=()=>{U.reload(),s()},{isOpen:h,closeModal:u,data:m}=ke("contact"),A=()=>{U.reload(),u()};return(p,_)=>{var b;return l(),c(j,null,[e(Y)?(l(),x(Ae,I({key:0},(b=e(Y))==null?void 0:b.data,{modelValue:e(n),"onUpdate:modelValue":_[0]||(_[0]=$=>D(n)?n.value=$:null),onSaved:_[1]||(_[1]=$=>e(U).reload())}),null,16,["modelValue"])):y("",!0),i(wt,I({show:e(t),"onUpdate:show":_[2]||(_[2]=$=>D(t)?t.value=$:null)},e(Ce),{onSaved:r,onClose:r}),null,16,["show"]),i(Be,I({show:e(h),"onUpdate:show":_[3]||(_[3]=$=>D(h)?h.value=$:null)},e(m),{onSaved:A}),null,16,["show"])],64)}}}),kt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ct=o("path",{fill:"currentColor",d:"M21 19v1H3v-1l2-2v-6c0-3.1 2.03-5.83 5-6.71V4a2 2 0 0 1 2-2a2 2 0 0 1 2 2v.29c2.97.88 5 3.61 5 6.71v6l2 2m-7 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2"},null,-1),Mt=[Ct];function At(a,n){return l(),c("svg",kt,Mt)}const St={name:"mdi-bell",render:At},Tt={__name:"AppButtonTab",props:{keepActiveState:{type:Boolean,default:!0},icon:{type:String},rounded:{type:Boolean,default:!1}},setup(a){const n=a,t=w(()=>{const s=n.keepActiveState&&"focus:bg-base-lvl-1",r=n.rounded?"rounded-full h-8 w-8":"";return[s,r]});return(s,r)=>(l(),c("button",I({type:"button",class:["inline-flex items-center px-2 py-2 text-sm font-medium leading-4 text-body transition border border-transparent rounded-md hover:bg-base-lvl-2 hover:text-body/80 focus:outline-none",e(t)]},s.$attrs),[M(s.$slots,"icon",{},()=>[a.icon?(l(),c("i",{key:0,class:C(["fa mr-2",a.icon])},null,2)):y("",!0)]),M(s.$slots,"default")],16))}},re={__name:"AppButtonCircle",setup(a){return(n,t)=>(l(),x(Tt,{rounded:"",type:"button",class:"relative text-body-1/80 bg-base-lvl-1 hover:bg-primary/10 transition border-base-lvl-1 hover:border-primary rounded-full"},{default:d(()=>[M(n.$slots,"default")]),_:3}))}},Vt={key:0,class:"absolute bottom-0 right-0 w-4 h-4 text-xs text-white bg-error rounded-full shadow-md"},Bt={__name:"AppNotificationBell",props:{notifications:{type:Number,default(){return 0}}},setup(a){return(n,t)=>{const s=St;return l(),x(re,{type:"button"},{default:d(()=>[i(s,{class:"text-md"}),a.notifications>0?(l(),c("div",Vt,T(a.notifications),1)):y("",!0)]),_:1})}}},Ot={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Lt=o("path",{fill:"currentColor",d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.62L12 2L9.19 8.62L2 9.24l5.45 4.73L5.82 21L12 17.27Z"},null,-1),Rt=[Lt];function Dt(a,n){return l(),c("svg",Ot,Rt)}const jt={name:"mdi-star",render:Dt},It={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Et=o("path",{fill:"currentColor",d:"m12 15.39l-3.76 2.27l.99-4.28l-3.32-2.88l4.38-.37L12 6.09l1.71 4.04l4.38.37l-3.32 2.88l.99 4.28M22 9.24l-7.19-.61L12 2L9.19 8.63L2 9.24l5.45 4.73L5.82 21L12 17.27L18.18 21l-1.64-7.03L22 9.24Z"},null,-1),Wt=[Et];function Pt(a,n){return l(),c("svg",It,Wt)}const Ut={name:"mdi-star-outline",render:Pt},Nt={class:"w-64 py-1"},zt=o("header",{class:"flex justify-between"},[o("h4",{class:"px-2 text-body-1/80"},"Watchlist"),o("button",{class:"px-2 text-primary"},"See all")],-1),Ft={class:"flex items-center"},Ht={class:"text-secondary"},ee={__name:"WatchlistButton",setup(a){const n=()=>oe.get("/api/watchlist/").then(({data:r})=>r.data),t=B(),s=B();return fe(s,async()=>{t.value=await n()}),(r,h)=>{const u=Ut,m=jt,A=W("LogerButtonTab");return l(),x(le,{align:"right",width:"64",open:s.value,"onUpdate:open":h[1]||(h[1]=p=>s.value=p)},{trigger:d(()=>[i(re,{class:"hover:text-primary"},{default:d(()=>[i(u)]),_:1})]),content:d(()=>[o("div",Nt,[zt,(l(!0),c(j,null,E(t.value,p=>(l(),x(A,{class:"flex items-center justify-between w-full font-bold",onClick:h[0]||(h[0]=_=>r.openTransactionModal({mode:r.DEPOSIT}))},{default:d(()=>{var _;return[o("span",Ft,[i(m,{class:"mr-2 text-md text-secondary"}),V(" "+T(p.name),1)]),o("span",Ht,T(e(Oe)((_=p==null?void 0:p.data)==null?void 0:_.month.total)),1)]}),_:2},1024))),256))])]),_:1},8,["open"])}}},qt={class:"flex w-full"},Gt={class:"w-full py-2 mt-4"},Zt=O({__name:"AppResourceSearch",setup(a){const n=ne({searchText:"",results:{},hasResults:w(()=>!!Object.keys(n.tabsWithResults).length),selectedTab:null,tabsWithResults:w(()=>Object.keys(n.results).filter(t=>n.results[t]))});return R(()=>n.searchText,t=>{oe.get(`/search?search=${t}`).then(({data:s})=>{n.results=s,n.selectedTab=n.tabsWithResults[0]}),t||(n.results={})}),(t,s)=>{const r=W("ElPopover");return l(),x(r,{visible:n.hasResults,"show-arrow":!1,placement:"bottom-end",width:500},{reference:d(()=>[o("div",he(_e(t.$attrs)),[i(Le,{modelValue:n.searchText,"onUpdate:modelValue":s[0]||(s[0]=h=>n.searchText=h)},null,8,["modelValue"])],16)]),default:d(()=>[o("section",null,[o("section",qt,[(l(!0),c(j,null,E(n.tabsWithResults,h=>(l(),c("div",{class:C(["px-5 cursor-pointer py-1 font-bold w-full capitalize text-center rounded-md bg-base-lvl-2",n.selectedTab==h?"bg-primary text-white":""])},T(h),3))),256))]),o("div",Gt,[(l(!0),c(j,null,E(n.results[n.selectedTab],h=>(l(),c("div",null,T(h.fullName),1))),256))])])]),_:1},8,["visible"])}}}),Jt=N(Zt,[["__scopeId","data-v-fd64bfb9"]]),Kt=()=>({appMenu:[{icon:"fa fa-home",name:"home",label:"Inicio",to:"/dashboard",as:S},{icon:"fas fa-dollar-sign",label:"Prestamos",name:"prestamos",to:"/loans",as:S,isActiveFunction(t,s){return/loans|lender/.test(s)}},{icon:"fas fa-building",label:"Propiedades",to:"/properties/overview",as:S,isActiveFunction(t,s){return/properties|units|tenant|owner/.test(s)}},{icon:"fas fa-dollar-sign",label:"Contabilidad",to:"/invoices?filter[type]=expense|invoice",as:S,isActiveFunction(t,s){return/invoices/.test(s)}},{icon:"fas fa-heart",label:"Reportes",to:"/statements",as:S,isActiveFunction(t,s){return/statements/.test(s)}}].filter(t=>!(t!=null&&t.hidden)),headerMenu:[{icon:"fas fa-question",label:"Ayuda y Soporte",to:"/settings/help",as:S},{icon:"fas fa-cogs",label:"Settings",name:"settings",to:"/settings",as:S}]});function Qt(){const a=(n,t="subcategories",s="categoryOptions",r)=>{if(!n||!n.map)return;const u=be.cloneDeep(n).map(m=>(m&&(m.type=t&&m[t]?"group":null,m.key=m.id,m.value=m.id,m.label=m.name,m[t]&&(m.children=a(m[t],!1,!1,r))),r?r(m):m));return s&&ve(s,u),u};return{categoryOptions:a}}const Xt={};function Yt(a,n){return l(),c("button",I(a.$attrs,{class:"flex items-center justify-center w-16 h-16 text-3xl text-white bg-primary rounded-full shadow-md cursor-pointer"}),[M(a.$slots,"default")],16)}const es=N(Xt,[["render",Yt]]),ts={class:"flex items-center justify-center text-lg"},ss={key:0,class:"block mt-1 text-xs"},ns={__name:"MobileMenuItem",props:{item:{type:Object},isActive:{type:Boolean}},setup(a){const n=a,t=r=>typeof r!="string",s=w(()=>{const r=n.item.url||n.item.to;return window.location.href.includes(r)});return(r,h)=>{const u=J("ripple"),m=J("auto-animate");return a.item.to||a.item.url?q((l(),x(e(S),{key:0,href:a.item.to||a.item.url,class:"inline-block h-full w-full transition-all overflow-hidden"},{default:d(()=>[o("div",{class:C(["flex flex-col items-center justify-center text-white h-full w-full",{"text-primary":e(s)}])},[o("div",ts,[t(a.item.icon)?(l(),x(ae(a.item.icon),{key:0,class:"text-xl custom-icon"})):(l(),c("i",{key:1,class:C(["custom-icon",a.item.icon])},null,2))]),e(s)?(l(),c("span",ss,T(a.item.label),1)):y("",!0)],2)]),_:1},8,["href"])),[[u],[m]]):y("",!0)}}},os={class:"flex w-screen overflow z-50 fixed left-0 -bottom-1 h-14 bg-gray-900 rounded-t-2xl lg:hidden"},as={class:"w-full h-full"},ls={key:1,class:"relative mx-auto"},rs=O({__name:"MobileMenuBar",props:{menu:{type:Array}},setup(a){return(n,t)=>(l(),c("div",os,[(l(!0),c(j,null,E(a.menu,s=>(l(),c("div",as,[s.url||s.to?(l(),x(ns,{key:0,item:s},null,8,["item"])):(l(),c("div",ls,[i(es,{class:"mx-auto -translate-y-7",onClick:r=>n.$emit("action",s.action)},{default:d(()=>[s.icon?(l(),x(ae(s.icon),{key:0})):y("",!0)]),_:2},1032,["onClick"])]))]))),256))]))}}),is=N(rs,[["__scopeId","data-v-4a94dad3"]]),cs={class:"flex items-center justify-between h-16 pr-4 mx-auto sm:pr-6 lg:pr-8 text-body-1/80"},ds={class:"flex items-center"},us={class:"flex justify-end h-16"},ms={class:"flex items-center sm:ml-6"},ps={class:"relative ml-3"},fs={key:0,class:"flex text-sm transition border-2 border-transparent rounded-full focus:outline-none focus:border-gray-300"},hs=["src","alt"],_s={key:1,class:"inline-flex rounded-md"},bs={type:"button",class:"inline-flex items-center px-3 py-2 text-sm font-medium leading-4 text-gray-500 transition bg-white border border-transparent rounded-md hover:text-gray-700 focus:outline-none"},vs=o("svg",{class:"ml-2 -mr-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),gs=o("div",{class:"block px-4 py-2 text-xs text-gray-400"}," Manage Account ",-1),xs=o("div",{class:"border-t border-gray-100"},null,-1),ys=["onSubmit"],ws={class:"flex items-center w-full shrink-0 px-7 text-gray-100"},$s=o("span",{class:"text-xl font-bold"}," ICLoan ",-1),ks={class:"pt-0 md:pt-8 mx-auto md:px-24"},Es=O({__name:"AppLayout",props:{title:String,showBackButton:Boolean,isOnboarding:Boolean},setup(a){B(!1);const n=w(()=>{var p;return(p=document==null?void 0:document.location)==null?void 0:p.pathname}),t=ge("isMenuExpanded",!0),s=()=>{U.post(route("logout"))},{appMenu:r,headerMenu:h}=Kt(),u=te().props,{categoryOptions:m}=Qt();m(u==null?void 0:u.categories,"sub_categories","categoryOptions"),m(u==null?void 0:u.accounts,"accounts","accountsOptions",p=>({...p,name:p.id})),R(()=>u.errors,p=>{Object.keys(p).forEach(_=>{ye({message:p[_],title:"Ha ocurrido un error",type:"error"})})},{deep:!0,immediate:!0});const A=p=>{};return(p,_)=>{const b=W("IconBack"),$=Ee;return l(),c("div",null,[i(e(xe),{title:a.title},null,8,["title"]),i(at),i(Me,{"is-expanded":e(t),"nav-class":[!p.$slots.header&&"border-b"]},{navigation:d(()=>[o("div",cs,[o("div",ds,[a.showBackButton?(l(),x(Q,{key:0,onClick:_[0]||(_[0]=g=>p.$emit("back"))},{default:d(()=>[i(b)]),_:1})):y("",!0),o("h4",{class:C([[a.showBackButton?"lg:ml-2":"lg:ml-6"],"pl-4 md:pl-0 text-lg font-bold text-secondary"])},T(a.title),3)]),o("div",us,[o("div",ms,[i(Jt,{class:"hidden md:block mr-2"}),i(Q,{class:"hidden md:flex px-1 items-center mr-4 ml-2"},{default:d(()=>[i($,{class:"mr-2"}),V(" Nuevo ")]),_:1}),a.isOnboarding?y("",!0):(l(),x(ee,{key:0,class:"hidden mr-2 md:inline-block"})),a.isOnboarding?y("",!0):(l(),x(ee,{key:1,class:"hidden mr-2 md:inline-block"})),i(Bt,{notifications:e(u).unreadNotifications,onClick:_[1]||(_[1]=g=>p.$router.visit("/notifications"))},null,8,["notifications"]),o("div",ps,[i(le,{align:"right",width:"48"},{trigger:d(()=>[p.$page.props.jetstream.managesProfilePhotos?(l(),c("button",fs,[o("img",{class:"object-cover w-8 h-8 rounded-full",src:p.$page.props.user.profile_photo_url,alt:p.$page.props.user.name},null,8,hs)])):(l(),c("span",_s,[o("button",bs,[V(T(p.$page.props.user.name)+" ",1),vs])]))]),content:d(()=>[gs,i(H,{href:p.route("profile.show")},{default:d(()=>[V(" Profile ")]),_:1},8,["href"]),p.$page.props.jetstream.hasApiFeatures?(l(),x(H,{key:0,href:p.route("api-tokens.index")},{default:d(()=>[V(" API Tokens ")]),_:1},8,["href"])):y("",!0),xs,o("form",{onSubmit:se(s,["prevent"])},[i(H,{as:"button"},{default:d(()=>[V(" Log Out ")]),_:1})],40,ys)]),_:1})])])])])]),aside:d(()=>[i(e(we),{class:"border-none shadow-none text-bold bg-secondary",title:"ICLoan","is-expanded":e(t),"onUpdate:isExpanded":_[2]||(_[2]=g=>t.value=g),menu:e(r),"header-menu":e(h),"current-path":e(n),"brand-container-class":"py-2","nav-container-class":"px-2 pt-1 space-y-2 border-t border-base-lvl-3/20","icon-class":"text-gray-100 transition hover:text-primary hover:bg-base-lvl-3/10","item-class":"px-5 py-[0.80rem] rounded-md font-bold text-gray-100 w-54 hover:text-primary hover:bg-base-lvl-3/10","item-active-class":"text-primary bg-base-lvl-3/10","is-expandable":""},{brand:d(()=>[o("h1",ws,[i(e(S),{href:p.route("dashboard"),class:"flex items-center space-x-2"},{default:d(()=>[i(He,{class:"block w-auto h-9"}),$s]),_:1},8,["href"])])]),_:1},8,["is-expanded","menu","header-menu","current-path"])]),"main-section":d(()=>[p.$slots.header?(l(),c("header",{key:0,class:C([[e(t)?"lg:pr-56":"lg:pr-20"],"fixed z-30 w-full border-b bg-neutral base-deep-1"])},[M(p.$slots,"header")],2)):y("",!0),o("main",ks,[M(p.$slots,"default")]),i(is,{menu:e(r),onAction:A},null,8,["menu"])]),_:3},8,["is-expanded","nav-class"]),i($t)])}}});export{Es as _};
